(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+7AZ":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return o}),n.d(e,"__assign",function(){return i}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return f}),n.d(e,"__read",function(){return p}),n.d(e,"__spread",function(){return v}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return g}),n.d(e,"__asyncDelegator",function(){return m}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return E});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n}function s(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise(function(n,r){i.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=o[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(t){l(i[0][3],t)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),i.shift(),i.length&&s(i[0][0],i[0][1])}}function m(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){t[r]&&(e[r]=function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:o?o(e):e})}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):f(t)}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},"+Vid":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("COG4"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.validate=function(t){return i.digits(t)},t.decorators=[{type:r.Directive,args:[{selector:"[digits][formControlName],[digits][formControl],[digits][ngModel]",providers:[a]}]}],t}();e.DigitsValidator=s},"+W5N":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("PoRY"),i=n("m9Vx");e.phone=function(t){return function(e){return i.isPresent(r.Validators.required(e))?null:o.isValidNumber({phone:e.value,country:t})?null:{phone:!0}}}},"+h4i":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("rKjJ"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.ngOnInit=function(){this.validator=i.lt(this.lt)},t.prototype.ngOnChanges=function(t){for(var e in t)"lt"===e&&(this.validator=i.lt(t[e].currentValue),this.onChange&&this.onChange())},t.prototype.validate=function(t){return this.validator(t)},t.prototype.registerOnValidatorChange=function(t){this.onChange=t},t.decorators=[{type:r.Directive,args:[{selector:"[lt][formControlName],[lt][formControl],[lt][ngModel]",providers:[a]}]}],t.propDecorators={lt:[{type:r.Input}]},t}();e.LessThanValidator=s},"+tJ4":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},"+umK":function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},"/6Iq":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("3+at"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.ngOnInit=function(){this.validator=i.notEqualTo(this.notEqualTo)},t.prototype.validate=function(t){return this.validator(t)},t.decorators=[{type:r.Directive,args:[{selector:"[notEqualTo][formControlName],[notEqualTo][formControl],[notEqualTo][ngModel]",providers:[a]}]}],t.propDecorators={notEqualTo:[{type:r.Input}]},t}();e.NotEqualToValidator=s},"/WYv":function(t,e,n){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},"/g4C":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("pvmI"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.validate=function(t){return i.date(t)},t.decorators=[{type:r.Directive,args:[{selector:"[date][formControlName],[date][formControl],[date][ngModel]",providers:[a]}]}],t}();e.DateValidator=s},"0/uQ":function(t,e,n){"use strict";var r=n("6blF"),o=n("/WYv"),i=n("2ePl"),a=n("xTla"),s=n("En8+"),u=n("IUTb"),c=n("pugT"),l=n("S5XQ"),h=n("u67D"),d=n("JcRv"),f=n("Fxb1");function p(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(f.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(e?function(n){var r=new c.a;return r.add(e.schedule(function(){var o=t[a.a]();r.add(o.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:Object(d.a)(t))}(t,e);if(Object(o.a)(t))return function(t,e){return new r.a(e?function(n){var r=new c.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:Object(l.a)(t))}(t,e);if(Object(i.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[s.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(e?function(n){var r,o=new c.a;return o.add(function(){r&&"function"==typeof r.return&&r.return()}),o.add(e.schedule(function(){r=t[s.a](),o.add(e.schedule(function(){if(!n.closed){var t,e;try{var o=r.next();t=o.value,e=o.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),o}:Object(h.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",function(){return p})},"0DCV":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.dateISO=function(t){return o.isPresent(r.Validators.required(t))?null:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t.value)?null:{dateISO:!0}}},"0RTF":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("5YF4"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.ngOnInit=function(){this.validator=i.gte(this.gte)},t.prototype.ngOnChanges=function(t){for(var e in t)"gte"===e&&(this.validator=i.gte(t[e].currentValue),this.onChange&&this.onChange())},t.prototype.validate=function(t){return this.validator(t)},t.prototype.registerOnValidatorChange=function(t){this.onChange=t},t.decorators=[{type:r.Directive,args:[{selector:"[gte][formControlName],[gte][formControl],[gte][ngModel]",providers:[a]}]}],t.propDecorators={gte:[{type:r.Input}]},t}();e.GreaterThanEqualValidator=s},"0UZX":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("ghU1"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.ngOnInit=function(){this.validator=i.equalTo(this.equalTo)},t.prototype.validate=function(t){return this.validator(t)},t.decorators=[{type:r.Directive,args:[{selector:"[equalTo][formControlName],[equalTo][formControl],[equalTo][ngModel]",providers:[a]}]}],t.propDecorators={equalTo:[{type:r.Input}]},t}();e.EqualToValidator=s},"15yF":function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("kVrb")),r(n("lRys"))},"177e":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.json=function(t){if(o.isPresent(r.Validators.required(t)))return null;var e=t.value;try{var n=JSON.parse(e);if(Boolean(n)&&"object"==typeof n)return null}catch(t){}return{json:!0}}},"1b/I":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.lte=function(t){return function(e){return o.isPresent(t)?o.isPresent(r.Validators.required(e))?null:+e.value<=+t?null:{lte:!0}:null}}},"29s/":function(t,e,n){var r=n("WEpk"),o=n("5T2Y"),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("uOPS")?"pure":"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})},"2Bdj":function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},"2GTP":function(t,e,n){var r=n("eaoh");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},"2Gh/":function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("AHKl")),r(n("5QUp"))},"2ePl":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},"2faE":function(t,e,n){var r=n("5K7Z"),o=n("eUtF"),i=n("G8Mo"),a=Object.defineProperty;e.f=n("jmDH")?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"3+at":function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("/6Iq")),r(n("nPu3"))},"3ELE":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.gt=function(t){return function(e){return o.isPresent(t)?o.isPresent(r.Validators.required(e))?null:+e.value>+t?null:{gt:!0}:null}}},"3U0i":function(t,e,n){"use strict";n.r(e),n.d(e,"TimeoutError",function(){return o});var r=n("mrSG"),o=function(t){function e(){var n=t.call(this,"Timeout has occurred")||this;return n.name="TimeoutError",Object.setPrototypeOf(n,e.prototype),n}return r.b(e,t),e}(Error)},5:function(t,e,n){t.exports=n("zUnb")},"5K7Z":function(t,e,n){var r=n("93I4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},"5OUi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.minDate=function(t){if(!(o.isDate(t)||t instanceof Function))throw Error("minDate value must be or return a formatted date");return function(e){if(o.isPresent(r.Validators.required(e)))return null;var n=new Date(e.value);return o.isDate(n)?(t instanceof Function&&(t=t()),n>=new Date(t)?null:{minDate:!0}):{minDate:!0}}}},"5QUp":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx"),i={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};e.uuid=function(t){return function(e){if(o.isPresent(r.Validators.required(e)))return null;var n=e.value;return new RegExp(i[t]||i.all).test(n)?null:{uuid:!0}}}},"5T2Y":function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"5YF4":function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("0RTF")),r(n("u46e"))},"5vMV":function(t,e,n){var r=n("B+OT"),o=n("NsO/"),i=n("W070")(!1),a=n("VVlx")("IE_PROTO");t.exports=function(t,e){var n,s=o(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~i(c,n)||c.push(n));return c}},"67Y/":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),o=n("FFOo");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}(),s=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return r.b(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.a)},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,i=n("q/0M"),a=n("os0x"),s=n("FGoP"),u=o.SDK_VERSION,c=new i.Logger("@firebase/firestore"),l=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function h(){return c.logLevel===i.LogLevel.DEBUG?l.DEBUG:c.logLevel===i.LogLevel.SILENT?l.SILENT:l.ERROR}function d(t){switch(t){case l.DEBUG:c.logLevel=i.LogLevel.DEBUG;break;case l.ERROR:c.logLevel=i.LogLevel.ERROR;break;case l.SILENT:c.logLevel=i.LogLevel.SILENT;break;default:c.error("Firestore ("+u+"): Invalid value passed to `setLogLevel`")}}function f(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(c.logLevel<=i.LogLevel.DEBUG){var o=n.map(v);c.debug.apply(c,["Firestore ("+u+") ["+t+"]: "+e].concat(o))}}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=i.LogLevel.ERROR){var r=e.map(v);c.error.apply(c,["Firestore ("+u+"): "+t].concat(r))}}function v(t){if("string"==typeof t)return t;var e=m.getPlatform();try{return e.formatJSON(t)}catch(e){return t}}function y(t){var e="FIRESTORE ("+u+") INTERNAL ASSERTION FAILED: "+t;throw p(e),new Error(e)}function g(t,e){t||y(e)}var m=function(){function t(){}return t.setPlatform=function(e){t.platform&&y("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||y("Platform not set"),t.platform},t}();function b(){return m.getPlatform().emptyByteString}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},w=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return a.__extends(e,t),e}(Error);function E(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new w(_.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){return void 0!==t?t:e}function T(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function I(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function O(t){for(var e in g(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function D(t,e,n){if(e.length!==n)throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires "+q(n,"argument")+", but was called with "+q(e.length,"argument")+".")}function N(t,e,n){if(e.length<n)throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires at least "+q(n,"argument")+", but was called with "+q(e.length,"argument")+".")}function A(t,e,n,r){if(e.length<n||e.length>r)throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+q(e.length,"argument")+".")}function R(t,e,n,r){$(t,e,B(n)+" argument",r)}function k(t,e,n,r){void 0!==r&&R(t,e,n,r)}function P(t,e,n,r){$(t,e,n+" option",r)}function x(t,e,n,r){void 0!==r&&P(t,e,n,r)}function M(t,e,n,r,o){void 0!==r&&function(t,e,n,r,o){for(var i=[],a=0,s=o;a<s.length;a++){var u=s[a];if(u===r)return;i.push(j(u))}var c=j(r);throw new w(_.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+i.join(", "))}(t,0,n,r,o)}function $(t,e,n,r){if(typeof r!==e||"object"===e&&!L(r)){var o=j(r);throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+o)}}function L(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function j(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":y("Unknown wrong type: "+typeof t)}function F(t,e,n){if(void 0===n)throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+B(e)+" argument, but it was undefined.")}function V(t,e,n){I(e,function(e,r){if(n.indexOf(e)<0)throw new w(_.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function U(t,e,n,r){var o=j(r);return new w(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+B(n)+" argument to be a "+e+", but it was: "+o)}function B(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function q(t,e){return t+" "+e+(1===t?"":"s")}var H=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return g(20===e.length,"Invalid auto ID: "+e),e},t}();function W(t,e){return t<e?-1:t>e?1:0}function G(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function K(){if("undefined"==typeof Uint8Array)throw new w(_.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Q(){if(!m.getPlatform().base64Available)throw new w(_.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var z=function(){function t(t){Q(),this._binaryString=t}return t.fromBase64String=function(e){D("Blob.fromBase64String",arguments,1),R("Blob.fromBase64String","string",1,e),Q();try{return new t(m.getPlatform().atob(e))}catch(t){throw new w(_.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(D("Blob.fromUint8Array",arguments,1),K(),!(e instanceof Uint8Array))throw U("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return D("Blob.toBase64",arguments,0),Q(),m.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){D("Blob.toUint8Array",arguments,0),K();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return W(this._binaryString,t._binaryString)},t}(),Y=E(z,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),X=function(){function t(t,e){if(D("GeoPoint",arguments,2),R("GeoPoint","number",1,t),R("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new w(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new w(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return W(this._lat,t._lat)||W(this._long,t._long)},t}(),Z=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new w(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new w(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new w(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new w(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?W(this.nanoseconds,t.nanoseconds):W(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),J="(default)",tt=function(){function t(t,e){this.projectId=t,this.database=e||J}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===J},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return W(this.projectId,t.projectId)||W(this.database,t.database)},t}(),et=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&y("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&y("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):y("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return g(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return g(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return g(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return g(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},t.prototype.get=function(t){return g(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var o=t.get(r),i=e.get(r);if(o<i)return-1;if(o>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new w(_.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(et),rt=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.isValidIdentifier=function(t){return rt.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",o=0,i=function(){if(0===r.length)throw new w(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;o<t.length;){var s=t[o];if("\\"===s){if(o+1===t.length)throw new w(_.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[o+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new w(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,o+=2}else"`"===s?(a=!a,o++):"."!==s||a?(r+=s,o++):(i(),o++)}if(i(),a)throw new w(_.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(et),it=function(){function t(e){this.path=e,g(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.isEqual=function(t){return null!==t&&0===nt.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return nt.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new nt(e.slice()))},t.fromPathString=function(e){return new t(nt.fromString(e))},t.EMPTY=new t(new nt([])),t}(),at=function(){function t(t,e,n,r){this.key=t,this.version=e,this.data=n,this.hasLocalMutations=r.hasLocalMutations}return t.prototype.field=function(t){return this.data.field(t)},t.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},t.prototype.value=function(){return this.data.value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.data.isEqual(e.data)&&this.hasLocalMutations===e.hasLocalMutations},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"})"},t.compareByKey=function(t,e){return it.comparator(t.key,e.key)},t.compareByField=function(t,e,n){var r=e.field(t),o=n.field(t);return void 0!==r&&void 0!==o?r.compareTo(o):y("Trying to compare documents on fields that don't exist")},t}(),st=function(){function t(t,e){this.key=t,this.version=e}return t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},t.prototype.isEqual=function(t){return t&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},t.compareByKey=function(t,e){return it.comparator(t.key,e.key)},t}(),ut=function(){function t(t,e){this.comparator=t,this.root=e||lt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new ct(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new ct(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ct(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new ct(this.root,t,this.comparator,!0)},t}(),ct=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){g(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),lt=function(){function t(e,n,r,o,i){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=o?o:t.EMPTY,this.right=null!=i?i:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,o,i){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,o=n(t,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(e,o.key)){if(o.right.isEmpty())return t.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw y("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw y("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}();lt.EMPTY=new(function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,o){return this},t.prototype.insert=function(t,e,n){return new lt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var ht=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),dt=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),ft=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(dt.Estimate,n);case"previous":return new t(dt.Previous,n);case"none":case void 0:return new t(dt.Default,n);default:return y("fromSnapshotOptions() called with invalid options.")}},t}(),pt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return g(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),W(this.typeOrder,t.typeOrder)},t}(),vt=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=ht.NullValue,e.internalValue=null,e}return a.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(pt),yt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ht.BooleanValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?W(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(pt),gt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ht.NumberValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(pt);function mt(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var bt=function(t){function e(e){return t.call(this,e)||this}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&mt(this.internalValue,t.internalValue)},e}(gt),_t=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&mt(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(gt),wt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ht.StringValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?W(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(pt),Et=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ht.TimestampValue,n}return a.__extends(e,t),e.prototype.value=function(t){return t&&t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Ct?-1:this.defaultCompareTo(t)},e}(pt),Ct=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=ht.TimestampValue,r}return a.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===dt.Estimate?new Et(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===dt.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof Et?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(pt),St=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ht.BlobValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(pt),Tt=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=ht.RefValue,r}return a.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:it.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(pt),It=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ht.GeoPointValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(pt),Ot=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ht.ObjectValue,n}return a.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),i=r.getNext();if(o.key!==i.key||!o.value.isEqual(i.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),i=r.getNext(),a=W(o.key,i.key)||o.value.compareTo(i.value);if(a)return a}return W(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(g(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var o=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),o)},e.prototype.delete=function(t){if(g(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){g(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e&&n.internalValue.get(t)||void 0}),n},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new ut(W)),e}(pt),Dt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ht.ArrayValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var o=this.internalValue[r].compareTo(t.internalValue[r]);if(o)return o}return W(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(pt),Nt=Number,At=Nt.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Rt=Nt.MAX_SAFE_INTEGER||Math.pow(2,53)-1,kt=Nt.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Pt(t){return null===t||void 0===t}var xt=function(){function t(t,e,n,r,o,i){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===i&&(i=null),this.path=t,this.explicitOrderBy=e,this.filters=n,this.limit=r,this.startAt=o,this.endAt=i,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[qt]:[new Bt(t),qt];else{g(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,o=this.explicitOrderBy;r<o.length;r++){var i=o[r];this.memoizedOrderBy.push(i),i.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Vt.ASCENDING)===Vt.ASCENDING?qt:Ht)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){g(null==this.getInequalityFilterField()||!(e instanceof Lt)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),g(!it.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){g(!it.isDocumentKey(this.path),"No ordering allowed for document query"),g(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,o=this.orderBy;r<o.length;r++)t+=o[r].canonicalId(),t+=",";Pt(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Pt(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,o=this.orderBy;r<o.length;r++){var i=o[r],a=i.compare(t,e);if(0!==a)return a;n=n||i.field.isKeyField()}return g(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!Pt(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Lt&&n.isInequality())return n.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(t){return t instanceof Lt&&t.op===$t.ARRAY_CONTAINS})},t.prototype.isDocumentQuery=function(){return it.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return it.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){g(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Mt=function(){function t(){}return t.create=function(t,e,n){if(n.isEqual(vt.INSTANCE)){if(e!==$t.EQUAL)throw new w(_.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new jt(t)}if(n.isEqual(_t.NAN)){if(e!==$t.EQUAL)throw new w(_.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Ft(t)}return new Lt(t,e,n)},t}(),$t=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;default:return y("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t}(),Lt=function(t){function e(e,n,r){var o=t.call(this)||this;return o.field=e,o.op=n,o.value=r,o}return a.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){g(this.value instanceof Tt,"Comparing on key, but filter value not a RefValue"),g(this.op!==$t.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=it.comparator(t.key,this.value.key);return this.matchesComparison(e)}var n=t.field(this.field);return void 0!==n&&this.matchesValue(n)},e.prototype.matchesValue=function(t){var e=this;return this.op===$t.ARRAY_CONTAINS?t instanceof Dt&&void 0!==t.internalValue.find(function(t){return t.isEqual(e.value)}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case $t.LESS_THAN:return t<0;case $t.LESS_THAN_OR_EQUAL:return t<=0;case $t.EQUAL:return 0===t;case $t.GREATER_THAN:return t>0;case $t.GREATER_THAN_OR_EQUAL:return t>=0;default:return y("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==$t.EQUAL&&this.op!==$t.ARRAY_CONTAINS},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(Mt),jt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Mt),Ft=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field).value();return"number"==typeof e&&isNaN(e)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Mt),Vt=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Ut=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){g(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var o=t[r],i=this.position[r];if(o.field.isKeyField())g(i instanceof Tt,"Bound has a non-key value where the key path is being used."),n=it.comparator(i.key,e.key);else{var a=e.field(o.field);g(void 0!==a,"Field should exist since document matched the orderBy already."),n=i.compareTo(a)}if(o.dir===Vt.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)return this.position[e].isEqual(t.position[e]);return!0},t}(),Bt=function(){function t(t,e){this.field=t,void 0===e&&(e=Vt.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?at.compareByKey(t,e):at.compareByField(this.field,t,e);switch(this.dir){case Vt.ASCENDING:return n;case Vt.DESCENDING:return-1*n;default:return y("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),qt=new Bt(ot.keyField(),Vt.ASCENDING),Ht=new Bt(ot.keyField(),Vt.DESCENDING),Wt=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new Z(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new Z(0,0)),t}(),Gt=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),Kt=function(){function t(t,e,n,r,o){void 0===r&&(r=Wt.MIN),void 0===o&&(o=b()),this.query=t,this.targetId=e,this.purpose=n,this.snapshotVersion=r,this.resumeToken=o}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),Qt=function(){function t(t){this.fields=t}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return G(this.fields,t.fields)},t}(),zt=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),Yt=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),Xt=function(){function t(t,e){this.updateTime=t,this.exists=e,g(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof at&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists?t instanceof at:null===t||t instanceof st:(g(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!==(e=this.updateTime)&&void 0!==e?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),Zt=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&g(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof at?t.version:Wt.MIN},t}(),Jt=function(t){function e(e,n,r){var o=t.call(this)||this;return o.key=e,o.value=n,o.precondition=r,o.type=Yt.Set,o}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by SetMutation.");var n=Zt.getPostMutationVersion(t);return new at(this.key,n,this.value,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=Zt.getPostMutationVersion(t);return new at(this.key,r,this.value,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(Zt),te=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.key=e,i.data=n,i.fieldMask=r,i.precondition=o,i.type=Yt.Patch,i}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return t;var n=Zt.getPostMutationVersion(t),r=this.patchDocument(t);return new at(this.key,n,r,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=Zt.getPostMutationVersion(t),o=this.patchDocument(t);return new at(this.key,r,o,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){return this.patchObject(t instanceof at?t.data:Ot.EMPTY)},e.prototype.patchObject=function(t){for(var e=0,n=this.fieldMask.fields;e<n.length;e++){var r=n[e],o=this.data.field(r);t=void 0!==o?t.set(r,o):t.delete(r)}return t},e}(Zt),ee=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=Yt.Transform,r.precondition=Xt.exists(!0),r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),g(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return t;var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),o=this.transformObject(n.data,r);return new at(this.key,n.version,o,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),o=this.localTransformResults(n,e),i=this.transformObject(r.data,o);return new at(this.key,r.version,i,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&G(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){g(t instanceof at,"Unknown MaybeDocument type "+t);var e=t;return g(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];g(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var o=this.fieldTransforms[r],i=o.transform,a=null;t instanceof at&&(a=t.field(o.field)||null),n.push(i.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,o=this.fieldTransforms;r<o.length;r++){var i=o[r],a=i.transform,s=null;e instanceof at&&(s=e.field(i.field)||null),n.push(a.applyToLocalView(s,t))}return n},e.prototype.transformObject=function(t,e){g(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(Zt),ne=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=Yt.Delete,r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by DeleteMutation."),new st(this.key,Wt.MIN)},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&g(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new st(this.key,Wt.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(Zt),re=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),oe=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function ie(t){switch(t){case _.OK:return y("Treated status OK as error");case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0;default:return y("Unknown status code: "+t)}}function ae(t){if(void 0===t)return p("GRPC error has no .code"),_.UNKNOWN;switch(t){case oe.OK:return _.OK;case oe.CANCELLED:return _.CANCELLED;case oe.UNKNOWN:return _.UNKNOWN;case oe.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case oe.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case oe.INTERNAL:return _.INTERNAL;case oe.UNAVAILABLE:return _.UNAVAILABLE;case oe.UNAUTHENTICATED:return _.UNAUTHENTICATED;case oe.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case oe.NOT_FOUND:return _.NOT_FOUND;case oe.ALREADY_EXISTS:return _.ALREADY_EXISTS;case oe.PERMISSION_DENIED:return _.PERMISSION_DENIED;case oe.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case oe.ABORTED:return _.ABORTED;case oe.OUT_OF_RANGE:return _.OUT_OF_RANGE;case oe.UNIMPLEMENTED:return _.UNIMPLEMENTED;case oe.DATA_LOSS:return _.DATA_LOSS;default:return y("Unknown status code: "+t)}}var se=function(){function t(t){this.comparator=t,this.data=new ut(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(o,i))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),ue=new ut(it.comparator);function ce(){return ue}var le=new ut(it.comparator);function he(){return le}var de=new ut(it.comparator);function fe(){return de}var pe=new se(it.comparator);function ve(){return pe}var ye=function(t,e,n,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o},ge=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),me=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),be=function(){function t(){this.changeMap=new ut(it.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==ge.Added&&n.type===ge.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===ge.Metadata&&n.type!==ge.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===ge.Modified&&n.type===ge.Modified?this.changeMap=this.changeMap.insert(e,{type:ge.Modified,doc:t.doc}):t.type===ge.Modified&&n.type===ge.Added?this.changeMap=this.changeMap.insert(e,{type:ge.Added,doc:t.doc}):t.type===ge.Removed&&n.type===ge.Added?this.changeMap=this.changeMap.remove(e):t.type===ge.Removed&&n.type===ge.Modified?this.changeMap=this.changeMap.insert(e,{type:ge.Removed,doc:n.doc}):t.type===ge.Added&&n.type===ge.Removed?this.changeMap=this.changeMap.insert(e,{type:ge.Modified,doc:t.doc}):y("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),_e=function(){function t(t,e,n,r,o,i,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.fromCache=o,this.hasPendingWrites=i,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.prototype.isEqual=function(t){if(this.fromCache!==t.fromCache||this.hasPendingWrites!==t.hasPendingWrites||this.syncStateChanged!==t.syncStateChanged||!this.query.isEqual(t.query)||!this.docs.isEqual(t.docs)||!this.oldDocs.isEqual(t.oldDocs))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),we=function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r},Ee=function(t,e){this.targetId=t,this.existenceFilter=e},Ce=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),Se=function(){return function(t,e,n,r){void 0===n&&(n=b()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Te=function(){function t(){this.pendingResponses=0,this.documentChanges=De(),this._resumeToken=b(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=ve(),e=ve(),n=ve();return this.documentChanges.forEach(function(r,o){switch(o){case ge.Added:t=t.add(r);break;case ge.Modified:e=e.add(r);break;case ge.Removed:n=n.add(r);break;default:y("Encountered invalid change type: "+o)}}),new function(t,e,n,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=De()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),Ie=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=ce(),this.pendingDocumentTargetMapping=Oe(),this.pendingTargetResets=new se(W)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof at?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof st&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var o=0,i=t.removedTargetIds;o<i.length;o++)this.removeDocumentFromTarget(r=i[o],t.key,t.newDoc)},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case Ce.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Ce.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Ce.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),g(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Ce.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Ce.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:y("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):T(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var o=r.query;if(o.isDocumentQuery())if(0===n){var i=new it(o.path);this.removeDocumentFromTarget(e,i,new st(i,Wt.forDeletedDoc()))}else g(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};T(this.targetStates,function(r,o){var i=e.queryDataForActiveTarget(r);if(i){if(o.current&&i.query.isDocumentQuery()){var a=new it(i.query.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new st(a,t))}o.hasPendingChanges&&(n[r]=o.toTargetChange(),o.clearPendingChanges())}});var r=ve();this.pendingDocumentTargetMapping.forEach(function(t,n){var o=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===Gt.LimboResolution||(o=!1,!1)}),o&&(r=r.add(t))});var o=new ye(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=ce(),this.pendingDocumentTargetMapping=Oe(),this.pendingTargetResets=new se(W),o},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?ge.Modified:ge.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,ge.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Te),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new se(W),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;g(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new Te,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function Oe(){return new ut(it.comparator)}function De(){return new ut(it.comparator)}var Ne=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new Ct(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),Ae=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ke(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,o=this.elements;r<o.length;r++)n(o[r]);return new Dt(e)},t.prototype.isEqual=function(e){return e instanceof t&&G(e.elements,this.elements)},t}(),Re=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ke(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,o=this.elements;r<o.length;r++)n(o[r]);return new Dt(e)},t.prototype.isEqual=function(e){return e instanceof t&&G(e.elements,this.elements)},t}();function ke(t){return t instanceof Dt?t.internalValue.slice():[]}var Pe,xe,Me=((Pe={})[Vt.ASCENDING.name]="ASCENDING",Pe[Vt.DESCENDING.name]="DESCENDING",Pe),$e=((xe={})[$t.LESS_THAN.name]="LESS_THAN",xe[$t.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",xe[$t.GREATER_THAN.name]="GREATER_THAN",xe[$t.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",xe[$t.EQUAL.name]="EQUAL",xe[$t.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",xe),Le=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function je(t,e){g(!Pt(t),e+" is missing")}function Fe(t){return"number"==typeof t?t:"string"==typeof t?Number(t):y("can't parse "+t)}var Ve=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?_.UNKNOWN:ae(t.code);return new w(e,t.message||"")},t.prototype.toInt32Value=function(t){return Pt(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Pt(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);g(!!t,"Cannot deserialize null or undefined timestamp.");var e=Fe(t.seconds||"0");return new Z(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=Le.exec(t);if(g(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var o=new Date(t),i=Math.floor(o.getTime()/1e3);return new Z(i,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(g(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),z.fromBase64String(t)):(g(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),z.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return g(!!t,"Trying to deserialize version that isn't set"),Wt.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=nt.fromString(t);return g(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return g(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),g(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new it(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return 0===t.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?nt.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new nt(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new nt(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return g(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof vt)return{nullValue:"NULL_VALUE"};if(t instanceof yt)return{booleanValue:t.value()};if(t instanceof bt)return{integerValue:""+t.value()};if(t instanceof _t){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof wt?{stringValue:t.value()}:t instanceof Ot?{mapValue:this.toMapValue(t)}:t instanceof Dt?{arrayValue:this.toArrayValue(t)}:t instanceof Et?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof It?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof St?{bytesValue:this.toBytes(t.value())}:t instanceof Tt?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:y("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(Ue(t,n,"nullValue"))return vt.INSTANCE;if(Ue(t,n,"booleanValue"))return yt.of(t.booleanValue);if(Ue(t,n,"integerValue"))return new bt(Fe(t.integerValue));if(Ue(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return _t.NAN;if("Infinity"===t.doubleValue)return _t.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return _t.NEGATIVE_INFINITY}return new _t(t.doubleValue)}if(Ue(t,n,"stringValue"))return new wt(t.stringValue);if(Ue(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(Ue(t,n,"arrayValue"))return je(t.arrayValue,"arrayValue"),new Dt((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if(Ue(t,n,"timestampValue"))return je(t.timestampValue,"timestampValue"),new Et(this.fromTimestamp(t.timestampValue));if(Ue(t,n,"geoPointValue"))return je(t.geoPointValue,"geoPointValue"),new It(new X(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if(Ue(t,n,"bytesValue")){je(t.bytesValue,"bytesValue");var r=this.fromBlob(t.bytesValue);return new St(r)}if(Ue(t,n,"referenceValue")){je(t.referenceValue,"referenceValue");var o=this.fromResourceName(t.referenceValue),i=new tt(o.get(1),o.get(3)),a=new it(this.extractLocalPathFromResourceName(o));return new Tt(i,a)}return y("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return g(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t){return new at(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasLocalMutations:!1})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=Ot.EMPTY;return I(t,function(t,r){n=n.set(new ot([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){g(!!t.found,"Tried to deserialize a found document from a missing document."),je(t.found.name,"doc.found.name"),je(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new at(e,n,r,{hasLocalMutations:!1})},t.prototype.fromMissing=function(t){g(!!t.missing,"Tried to deserialize a missing document from a found document."),g(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new st(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return Ue(t,e,"found")?this.fromFound(t):Ue(t,e,"missing")?this.fromMissing(t):y("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Ce.Added:return"ADD";case Ce.Current:return"CURRENT";case Ce.NoChange:return"NO_CHANGE";case Ce.Removed:return"REMOVE";case Ce.Reset:return"RESET";default:return y("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Ee)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof we){var e;if(t.newDoc instanceof at)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof st)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Se){var n=void 0;return t.cause&&(n={code:function(t){if(void 0===t)return oe.OK;switch(t){case _.OK:return oe.OK;case _.CANCELLED:return oe.CANCELLED;case _.UNKNOWN:return oe.UNKNOWN;case _.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case _.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case _.INTERNAL:return oe.INTERNAL;case _.UNAVAILABLE:return oe.UNAVAILABLE;case _.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case _.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case _.NOT_FOUND:return oe.NOT_FOUND;case _.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case _.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case _.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case _.ABORTED:return oe.ABORTED;case _.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case _.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case _.DATA_LOSS:return oe.DATA_LOSS;default:return y("Unknown status code: "+t)}}(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return y("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(Ue(t,n,"targetChange")){je(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new Se(r,o,i,s||null)}else if(Ue(t,n,"documentChange")){je(t.documentChange,"documentChange"),je(t.documentChange.document,"documentChange.name"),je(t.documentChange.document.name,"documentChange.document.name"),je(t.documentChange.document.updateTime,"documentChange.document.updateTime");var u=t.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),h=this.fromFields(u.document.fields||{}),d=new at(c,l,h,{hasLocalMutations:!1});e=new we(u.targetIds||[],u.removedTargetIds||[],d.key,d)}else if(Ue(t,n,"documentDelete")){je(t.documentDelete,"documentDelete"),je(t.documentDelete.document,"documentDelete.document");var f=t.documentDelete;c=this.fromName(f.document),l=f.readTime?this.fromVersion(f.readTime):Wt.forDeletedDoc(),d=new st(c,l),e=new we([],f.removedTargetIds||[],d.key,d)}else if(Ue(t,n,"documentRemove")){je(t.documentRemove,"documentRemove"),je(t.documentRemove.document,"documentRemove");var p=t.documentRemove;c=this.fromName(p.document),e=new we([],p.removedTargetIds||[],c,null)}else{if(!Ue(t,n,"filter"))return y("Unknown change type "+JSON.stringify(t));je(t.filter,"filter"),je(t.filter.targetId,"filter.targetId");var v=t.filter,g=new re(v.count||0);e=new Ee(v.targetId,g)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Ce.NoChange:"ADD"===t?Ce.Added:"REMOVE"===t?Ce.Removed:"CURRENT"===t?Ce.Current:"RESET"===t?Ce.Reset:y("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!Ue(t,t.response_type,"targetChange"))return Wt.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Wt.MIN:e.readTime?this.fromVersion(e.readTime):Wt.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof Jt)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof ne)e={delete:this.toName(t.key)};else if(t instanceof te)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof ee))return y("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):Xt.NONE;if(t.update){je(t.update.name,"name");var r=this.fromName(t.update.name),o=this.fromFields(t.update.fields||{});if(t.updateMask){var i=this.fromDocumentMask(t.updateMask);return new te(r,o,i,n)}return new Jt(r,o,n)}if(t.delete)return r=this.fromName(t.delete),new ne(r,n);if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return g(!0===n.exists,'Transforms only support precondition "exists == true"'),new ee(r,a)}return y("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return g(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:y("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?Xt.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?Xt.exists(t.exists):Xt.NONE},t.prototype.fromWriteResult=function(t){var e=this,n=t.updateTime?this.fromVersion(t.updateTime):null,r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults.map(function(t){return e.fromValue(t)})),new function(t,e){this.version=t,this.transformResults=e}(n,r)},t.prototype.fromWriteResults=function(t){var e=this;return(t||[]).map(function(t){return e.fromWriteResult(t)})},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;return n instanceof Ne?{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"}:n instanceof Ae?{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}}:n instanceof Re?{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}}:void y("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=t.transform_type,r=null;Ue(t,n,"setToServerValue")?(g("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),r=Ne.instance):Ue(t,n,"appendMissingElements")?r=new Ae((t.appendMissingElements.values||[]).map(function(t){return e.fromValue(t)})):Ue(t,n,"removeAllFromArray")?r=new Re((t.removeAllFromArray.values||[]).map(function(t){return e.fromValue(t)})):y("Unknown transform proto: "+JSON.stringify(t));var o=ot.fromServerFormat(t.fieldPath);return new zt(o,r)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return g(1===e,"DocumentsTarget contained other than 1 document: "+e),xt.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(nt.EMPTY_PATH);else{var n=t.path;g(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var o=this.toOrder(t.orderBy);o&&(e.structuredQuery.orderBy=o);var i=this.toInt32Value(t.limit);return void 0!==i&&(e.structuredQuery.limit=i),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0;r>0&&(g(1===r,"StructuredQuery.from with more than one collection is not supported."),e=e.child(n.from[0].collectionId));var o=[];n.where&&(o=this.fromFilter(n.where));var i=[];n.orderBy&&(i=this.fromOrder(n.orderBy));var a=null;n.limit&&(a=this.fromInt32Value(n.limit));var s=null;n.startAt&&(s=this.fromCursor(n.startAt));var u=null;return n.endAt&&(u=this.fromCursor(n.endAt)),new xt(e,i,o,a,s,u)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Gt.Listen:return null;case Gt.ExistenceFilterMismatch:return"existence-filter-mismatch";case Gt.LimboResolution:return"limbo-document";default:return y("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Lt?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):y("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Ut(r,n)},t.prototype.toDirection=function(t){return Me[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Vt.ASCENDING;case"DESCENDING":return Vt.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return $e[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return $t.EQUAL;case"GREATER_THAN":return $t.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return $t.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return $t.LESS_THAN;case"LESS_THAN_OR_EQUAL":return $t.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return $t.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return y("Unspecified relation");default:return y("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ot.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Bt(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Lt?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:y("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Lt(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof Ft?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof jt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:y("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new Ft(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new jt(n);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},t.prototype.toDocumentMask=function(t){return{fieldPaths:t.fields.map(function(t){return t.canonicalString()})}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return ot.fromServerFormat(t)});return new Qt(e)},t}();function Ue(t,e,n){return e===n||!e&&n in t}var Be=Error.captureStackTrace,qe=function(){return function(t,e){if(this.code=t,this.message=e,Be)Be(this,He.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return t.stack}})}}}();qe.prototype=Object.create(Error.prototype),qe.prototype.constructor=qe,qe.prototype.name="FirebaseError";var He=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],o=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"});var i=new qe(o,n=this.serviceName+": "+n+" ("+o+").");for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(i[a]=e[a]);return i},t}(),We=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){g(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){g(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){g(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){g(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){g(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){g(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),Ge="Connection",Ke={BatchGetDocuments:"batchGet",Commit:"commit"},Qe="gl-js/ fire/"+u,ze=function(){function t(t){this.databaseId=t.databaseId,this.pool=new s.XhrIoPool,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=Qe},t.prototype.invokeRPC=function(t,e,n){var r=this,o=this.makeUrl(t);return new Promise(function(i,a){r.pool.getObject(function(u){u.listenOnce(s.EventType.COMPLETE,function(){try{switch(u.getLastErrorCode()){case s.ErrorCode.NO_ERROR:var e=u.getResponseJson();f(Ge,"XHR received:",JSON.stringify(e)),i(e);break;case s.ErrorCode.TIMEOUT:f(Ge,'RPC "'+t+'" timed out'),a(new w(_.DEADLINE_EXCEEDED,"Request time out"));break;case s.ErrorCode.HTTP_ERROR:var n=u.getStatus();f(Ge,'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0?a(new w(function(t){switch(t){case 200:return _.OK;case 400:return _.INVALID_ARGUMENT;case 401:return _.UNAUTHENTICATED;case 403:return _.PERMISSION_DENIED;case 404:return _.NOT_FOUND;case 409:return _.ABORTED;case 416:return _.OUT_OF_RANGE;case 429:return _.RESOURCE_EXHAUSTED;case 499:return _.CANCELLED;case 500:return _.UNKNOWN;case 501:return _.UNIMPLEMENTED;case 503:return _.UNAVAILABLE;case 504:return _.DEADLINE_EXCEEDED;default:return t>=200&&t<300?_.OK:t>=400&&t<500?_.FAILED_PRECONDITION:t>=500&&t<600?_.INTERNAL:_.UNKNOWN}}(n),"Server responded with status "+u.getStatusText())):(f(Ge,'RPC "'+t+'" failed'),a(new w(_.UNAVAILABLE,"Connection failed.")));break;default:y('RPC "'+t+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{f(Ge,'RPC "'+t+'" completed.'),r.pool.releaseObject(u)}});var c=JSON.stringify(e);f(Ge,"XHR sending: ",o+" "+c);var l={"Content-Type":"text/plain"};r.modifyHeadersForRequest(l,n),u.send(o,"POST",c,l,15)})})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1beta1.Firestore","/",t,"/channel"],r=s.createWebChannelTransport(),o={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(o.initMessageHeaders,e),"object"==typeof navigator&&"ReactNative"===navigator.product||(o.httpHeadersOverwriteParam="$httpHeaders");var i=n.join("");f(Ge,"Creating WebChannel: "+i+" "+o);var a=r.createWebChannel(i,o),u=!1,c=!1,l=new We({sendFn:function(t){c?f(Ge,"Not sending because WebChannel is closed:",t):(u||(f(Ge,"Opening WebChannel transport."),a.open(),u=!0),f(Ge,"WebChannel sending:",t),a.send(t))},closeFn:function(){return a.close()}}),h=function(t,e){a.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(s.WebChannel.EventType.OPEN,function(){c||f(Ge,"WebChannel transport opened.")}),h(s.WebChannel.EventType.CLOSE,function(){c||(c=!0,f(Ge,"WebChannel transport closed"),l.callOnClose())}),h(s.WebChannel.EventType.ERROR,function(t){c||(c=!0,f(Ge,"WebChannel transport errored:",t),l.callOnClose(new w(_.UNAVAILABLE,"The operation could not be completed")))}),h(s.WebChannel.EventType.MESSAGE,function(t){if(!c){var e=t.data[0];g(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){f(Ge,"WebChannel received error:",n);var r=n.status,o=function(t){var e=oe[r];if(void 0!==e)return ae(e)}(),i=n.message;void 0===o&&(o=_.INTERNAL,i="Unknown error status: "+r+" with message "+n.message),c=!0,l.callOnClose(new w(o,i)),a.close()}else f(Ge,"WebChannel received:",e),l.callOnMessage(e)}}),setTimeout(function(){l.callOnOpen()},0),l},t.prototype.makeUrl=function(t){var e=Ke[t];g(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1beta1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();m.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return t.prototype.loadConnection=function(t){return Promise.resolve(new ze(t))},t.prototype.newSerializer=function(t){return new Ve(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}()));var Ye=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(e,n,r,o){if(!(t instanceof Array)||t.length<1)throw new w(_.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+q(1,"element")+".")}();for(var n=0;n<t.length;++n)if(R("FieldPath","string",n,t[n]),0===t[n].length)throw new w(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw U("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(ot.keyField().canonicalString()),t}(),Xe=new RegExp("[~\\*/\\[\\]]"),Ze=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),Je=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||it.comparator(e.key,n.key)}:function(t,e){return it.comparator(t.key,e.key)},this.keyedMap=he(),this.sortedSet=new ut(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),tn=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,o=n;r<o.length;r++){var i=o[r],a=i[1];if(i[0].isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var o=0;o<r.length;o++)if(r[o][0].isEqual(t))return void(r[o]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){I(this.inner,function(e,n){for(var r=0,o=n;r<o.length;r++){var i=o[r];t(i[0],i[1])}})},t.prototype.isEmpty=function(){return O(this.inner)},t}(),en=function(){function t(t){this.syncEngine=t,this.queries=new tn(function(t){return t.canonicalId()}),this.onlineState=Ze.Unknown,this.syncEngine.subscribe(this.onChange.bind(this),this.onError.bind(this))}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new function(){this.listeners=[]},this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,o;return a.__generator(this,function(i){return n=!1,(r=this.queries.get(e=t.query))&&(o=r.listeners.indexOf(t))>=0&&(r.listeners.splice(o,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],o=this.queries.get(r.query);if(o){for(var i=0,a=o.listeners;i<a.length;i++)a[i].onViewSnapshot(r);o.viewSnap=r}}},t.prototype.onError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,o=n.listeners;r<o.length;r++)o[r].onError(e);this.queries.delete(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,o=n.listeners;r<o.length;r++)o[r].applyOnlineStateChange(t)})},t}(),nn=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=Ze.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(g(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var o=r[n];o.type!==ge.Metadata&&e.push(o)}t=new _e(t.query,t.docs,t.oldDocs,e,t.fromCache,t.hasPendingWrites,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){return g(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==Ze.Offline?(g(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===Ze.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(e){g(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=new _e(e.query,e.docs,Je.emptySet(e.docs),t.getInitialViewChanges(e),e.fromCache,e.hasPendingWrites,!0,!1),this.raisedInitialEvent=!0,this.queryObserver.next(e)},t.getInitialViewChanges=function(t){var e=[];return t.docs.forEach(function(t){e.push({type:ge.Added,doc:t})}),e},t}(),rn=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&y("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,o){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,o)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,o)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){var n=e.length;if(0===n)return t.resolve();var r=0;return new t(function(t,o){for(var i=0,a=e;i<a.length;i++)a[i].next(function(){++r===n&&t()},function(t){return o(t)})})},t.map=function(e){for(var n=[],r=[],o=function(t){r[t]=e[t].next(function(e){n[t]=e})},i=0;i<e.length;++i)o(i);return t.waitFor(r).next(function(){return n})},t}(),on=function(){function t(){this.isEager=!0,this.sources=[],this.potentialGarbage=ve()}return t.prototype.addGarbageSource=function(t){this.sources.push(t),t.setGarbageCollector(this)},t.prototype.removeGarbageSource=function(t){this.sources.splice(this.sources.indexOf(t),1),t.setGarbageCollector(null)},t.prototype.addPotentialGarbageKey=function(t){this.potentialGarbage=this.potentialGarbage.add(t)},t.prototype.collectGarbage=function(t){var e=this,n=[],r=ve();return this.potentialGarbage.forEach(function(o){var i=e.documentHasAnyReferences(t,o);n.push(i.next(function(t){return t||(r=r.add(o)),rn.resolve()}))}),this.potentialGarbage=ve(),rn.waitFor(n).next(function(){return r})},t.prototype.documentHasAnyReferences=function(t,e){var n=rn.resolve(!1);return this.sources.map(function(n){return function(){return n.containsKey(t,e)}}).reduce(function(t,e){return t.next(function(t){return t?rn.resolve(!0):e()})},n)},t}(),an=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=ve(),o=ve(),i=0,a=n.docChanges;i<a.length;i++){var s=a[i];switch(s.type){case ge.Added:r=r.add(s.doc.key);break;case ge.Removed:o=o.add(s.doc.key)}}return new t(e,r,o)},t}(),sn=function(){function t(){this.refsByKey=new se(un.compareByKey),this.refsByTarget=new se(un.compareByTargetId),this.garbageCollector=null}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new un(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new un(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=it.EMPTY,r=new un(n,t),o=new un(n,t+1);this.refsByTarget.forEachInRange([r,o],function(t){e.removeRef(t)})},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t),null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(t.key)},t.prototype.referencesForId=function(t){var e=it.EMPTY,n=new un(e,t),r=new un(e,t+1),o=ve();return this.refsByTarget.forEachInRange([n,r],function(t){o=o.add(t.key)}),o},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new un(e,0),r=this.refsByKey.firstAfterOrEqual(n);return rn.resolve(null!==r&&e.isEqual(r.key))},t}(),un=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return it.comparator(t.key,e.key)||W(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return W(t.targetOrBatchId,e.targetOrBatchId)||it.comparator(t.key,e.key)},t}(),cn=1,ln=function(t){return t[t.LocalStore=0]="LocalStore",t[t.SyncEngine=1]="SyncEngine",t}({}),hn=function(){function t(t,e){void 0===e&&(e=0),this.generatorId=t;var n=e>>cn<<cn;this.previousId=e-n>=t?n|this.generatorId:(n|this.generatorId)-(1<<cn)}return t.prototype.next=function(){return this.previousId+=1<<cn,this.previousId},t.forLocalStore=function(e){return void 0===e&&(e=0),new t(ln.LocalStore,e)},t.forSyncEngine=function(){return new t(ln.SyncEngine)},t}(),dn=function(t){this.key=t},fn=function(t){this.key=t},pn=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=ve(),this.mutatedKeys=ve(),this.documentSet=new Je(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new be,o=e?e.documentSet:this.documentSet,i=e?e.mutatedKeys:this.mutatedKeys,a=o,s=!1,u=this.query.hasLimit()&&o.size===this.query.limit?o.last():null;if(t.inorderTraversal(function(t,e){var c=o.get(t),l=e instanceof at?e:null;if(l&&(g(t.isEqual(l.key),"Mismatching keys found in document changes: "+t+" != "+l.key),l=n.query.matches(l)?l:null),l?(a=a.add(l),i=l.hasLocalMutations?i.add(t):i.delete(t)):(a=a.delete(t),i=i.delete(t)),c&&l){var h=c.data.isEqual(l.data);h&&c.hasLocalMutations===l.hasLocalMutations||(r.track(h?{type:ge.Metadata,doc:l}:{type:ge.Modified,doc:l}),u&&n.query.docComparator(l,u)>0&&(s=!0))}else!c&&l?r.track({type:ge.Added,doc:l}):c&&!l&&(r.track({type:ge.Removed,doc:c}),u&&(s=!0))}),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),r.track({type:ge.Removed,doc:c})}return g(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:i}},t.prototype.applyChanges=function(t,e){var n=this;g(!t.needsRefill,"Cannot apply changes that need a refill");var r=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case ge.Added:return 1;case ge.Modified:case ge.Metadata:return 2;case ge.Removed:return 0;default:return y("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||n.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(e);var i=this.updateLimboDocuments(),a=0===this.limboDocuments.size&&this.current?me.Synced:me.Local,s=a!==this.syncState;return this.syncState=a,0!==o.length||s?{snapshot:new _e(this.query,t.documentSet,r,o,a===me.Local,!t.mutatedKeys.isEmpty(),s,!1),limboChanges:i}:{limboChanges:i}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===Ze.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new be,mutatedKeys:this.mutatedKeys,needsRefill:!1})):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return g(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=ve(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new fn(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new dn(t))}),n},t}(),vn=function(){function t(t,e,n){this.localStore=t,this.remoteStore=e,this.currentUser=n,this.viewHandler=null,this.errorHandler=null,this.queryViewsByQuery=new tn(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new ut(it.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new sn,this.limboCollector=new on,this.mutationUserCallbacks={},this.targetIdGenerator=hn.forSyncEngine(),this.limboCollector.addGarbageSource(this.limboDocumentRefs)}return t.prototype.subscribe=function(t,e){g(null!==t&&null!==e,"View and error handlers cannot be null"),g(null===this.viewHandler&&null===this.errorHandler,"SyncEngine already has a subscriber."),this.viewHandler=t,this.errorHandler=e},t.prototype.listen=function(t){var e=this;return this.assertSubscribed("listen()"),g(!this.queryViewsByQuery.has(t),"We already listen to the query: "+t),this.localStore.allocateQuery(t).then(function(n){return e.localStore.executeQuery(t).then(function(r){return e.localStore.remoteDocumentKeys(n.targetId).then(function(o){var i=new pn(t,o),a=i.computeDocChanges(r),s=i.applyChanges(a);g(0===s.limboChanges.length,"View returned limbo docs before target ack from the server."),g(!!s.snapshot,"applyChanges for new view should always return a snapshot");var u=new function(t,e,n){this.query=t,this.targetId=e,this.view=n}(t,n.targetId,i);e.queryViewsByQuery.set(t,u),e.queryViewsByTarget[n.targetId]=u,e.viewHandler([s.snapshot]),e.remoteStore.listen(n)})}).then(function(){return n.targetId})})},t.prototype.unlisten=function(t){var e=this;this.assertSubscribed("unlisten()");var n=this.queryViewsByQuery.get(t);return g(!!n,"Trying to unlisten on query not found:"+t),this.localStore.releaseQuery(t).then(function(){return e.remoteStore.unlisten(n.targetId),e.removeAndCleanupQuery(n).then(function(){return e.localStore.collectGarbage()})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),g(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!Pt(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}}().then(function(o){return r.commit().then(function(){return o}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),I(t.targetChanges,function(t,n){var r=e.limboResolutionsByTarget[t];r&&(g(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?g(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(g(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),this.localStore.applyRemoteEvent(t).then(function(n){return e.emitNewSnapsAndNotifyLocalStore(n,t)})},t.prototype.applyOnlineStateChange=function(t){var e=[];this.queryViewsByQuery.forEach(function(n,r){var o=r.view.applyOnlineStateChange(t);g(0===o.limboChanges.length,"OnlineState should not affect limbo documents."),o.snapshot&&e.push(o.snapshot)}),this.viewHandler(e)},t.prototype.rejectListen=function(t,e){var n=this;this.assertSubscribed("rejectListens()");var r=this.limboResolutionsByTarget[t],o=r&&r.key;if(o){this.limboTargetsByKey=this.limboTargetsByKey.remove(o),delete this.limboResolutionsByTarget[t];var i=new ut(it.comparator);i=i.insert(o,new st(o,Wt.forDeletedDoc()));var a=ve().add(o),s=new ye(Wt.MIN,{},new se(W),i,a);return this.applyRemoteEvent(s)}var u=this.queryViewsByTarget[t];return g(!!u,"Unknown targetId: "+t),this.localStore.releaseQuery(u.query).then(function(){return n.removeAndCleanupQuery(u).then(function(){n.errorHandler(u.query,e)})})},t.prototype.applySuccessfulWrite=function(t){var e=this;return this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(t.batch.batchId,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(t){return n.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new ut(W)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(g(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){return this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.limboDocumentRefs.removeReferencesForId(t.targetId),this.gcLimboDocuments()},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var o=r[n];o instanceof dn?(this.limboDocumentRefs.addReference(o.key,t),this.trackLimboChange(o)):o instanceof fn?(f("SyncEngine","Document no longer in limbo: "+o.key),this.limboDocumentRefs.removeReference(o.key,t)):y("Unknown limbo change: "+JSON.stringify(o))}return this.gcLimboDocuments()},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){f("SyncEngine","New document in limbo: "+e);var n=this.targetIdGenerator.next(),r=xt.atPath(e.path);this.limboResolutionsByTarget[n]=new function(t){this.key=t}(e),this.remoteStore.listen(new Kt(r,n,Gt.LimboResolution)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.gcLimboDocuments=function(){var t=this;return this.limboCollector.collectGarbage(null).next(function(e){e.forEach(function(e){var n=t.limboTargetsByKey.get(e);null!==n&&(t.remoteStore.unlisten(n),t.limboTargetsByKey=t.limboTargetsByKey.remove(e),delete t.limboResolutionsByTarget[n])})}).toPromise()},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){var n=this,r=[],o=[],i=[];return this.queryViewsByQuery.forEach(function(a,s){i.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?n.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var i=s.view.applyChanges(t,e&&e.targetChanges[s.targetId]);return n.updateTrackedLimbos(s.targetId,i.limboChanges).then(function(){if(i.snapshot){r.push(i.snapshot);var t=an.fromSnapshot(s.targetId,i.snapshot);o.push(t)}})}))}),Promise.all(i).then(function(){return n.viewHandler(r),n.localStore.notifyLocalViewChanges(o),n.localStore.collectGarbage()})},t.prototype.assertSubscribed=function(t){g(null!==this.viewHandler&&null!==this.errorHandler,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleUserChange=function(t){var e=this;return this.currentUser=t,this.localStore.handleUserChange(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)}).then(function(){return e.remoteStore.handleUserChange(t)})},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?ve().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:ve()},t}(),yn=-1,gn=function(){function t(t,e,n){this.batchId=t,this.localWriteTime=e,this.mutations=n}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&g(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;g(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var o=0;o<this.mutations.length;o++){var i=this.mutations[o];i.key.isEqual(t)&&(e=i.applyToRemoteDocument(e,r[o]))}return e},t.prototype.applyToLocalView=function(t,e){e&&g(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=e,r=0;r<this.mutations.length;r++){var o=this.mutations[r];o.key.isEqual(t)&&(e=o.applyToLocalView(e,n,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=ve(),e=0,n=this.mutations;e<n.length;e++)t=t.add(n[e].key);return t},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&G(this.mutations,t.mutations)},t.prototype.isTombstone=function(){return 0===this.mutations.length},t.prototype.toTombstone=function(){return new t(this.batchId,this.localWriteTime,[])},t}(),mn=function(){function t(t,e,n,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=o}return t.from=function(e,n,r,o){g(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var i=fe(),a=e.mutations,s=0;s<a.length;s++){var u=r[s].version;null===u&&(u=n),i=i.insert(a[s].key,u)}return new t(e,n,r,o,i)},t}(),bn="\x01",_n="\x01",wn="\x10",En="\x11";function Cn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Tn(e)),e=Sn(t.get(n),e);return Tn(e)}function Sn(t,e){for(var n=e,r=t.length,o=0;o<r;o++){var i=t.charAt(o);switch(i){case"\0":n+=bn+wn;break;case bn:n+=bn+En;break;default:n+=i}}return n}function Tn(t){return t+bn+_n}function In(t){var e=t.length;if(g(e>=2,"Invalid path "+t),2===e)return g(t.charAt(0)===bn&&t.charAt(1)===_n,"Non-empty path "+t+" had length 2"),nt.EMPTY_PATH;for(var n=e-2,r=[],o="",i=0;i<e;){var a=t.indexOf(bn,i);switch((a<0||a>n)&&y('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case _n:var s=t.substring(i,a),u=void 0;0===o.length?u=s:(u=o+=s,o=""),r.push(u);break;case wn:o+=t.substring(i,a),o+="\0";break;case En:o+=t.substring(i,a+1);break;default:y('Invalid encoded resource path: "'+t+'"')}i=a+2}return new nt(r)}var On=3;function Dn(t,e,n,r){g(n<r&&n>=0&&r<=On,"Unexpected schema upgrade from v${fromVersion} to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(An.store)}(t),function(t){t.createObjectStore(Rn.store,{keyPath:Rn.keyPath}),t.createObjectStore(kn.store,{keyPath:kn.keyPath}),t.createObjectStore(Pn.store)}(t),jn(t),function(t){t.createObjectStore(xn.store)}(t));var o=rn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore($n.store),t.deleteObjectStore(Mn.store),t.deleteObjectStore(Ln.store)}(t),jn(t)),o=o.next(function(){return function(t){var e=t.store(Ln.store),n=new Ln(0,0,Wt.MIN.toTimestamp(),0);return e.put(Ln.key,n)}(e)})),o}var Nn=function(t,e){this.seconds=t,this.nanoseconds=e},An=function(){function t(t,e){this.ownerId=t,this.leaseTimestampMs=e}return t.store="owner",t}(),Rn=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),kn=function(){function t(t,e,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.mutations=r}return t.store="mutations",t.keyPath=["userId","batchId"],t}(),Pn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Cn(e)]},t.key=function(t,e,n){return[t,Cn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),xn=function(){function t(t,e){this.noDocument=t,this.document=e}return t.store="remoteDocuments",t}(),Mn=function(){function t(t,e,n,r,o,i){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.query=i}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),$n=function(){function t(t,e){this.targetId=t,this.path=e}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),Ln=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}();function jn(t){t.createObjectStore($n.store,{keyPath:$n.keyPath}).createIndex($n.documentTargetsIndex,$n.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Mn.store,{keyPath:Mn.keyPath}).createIndex(Mn.queryTargetsIndexName,Mn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ln.store)}var Fn=[Rn.store,kn.store,Pn.store,xn.store,Mn.store,An.store,Ln.store,$n.store],Vn=function(){function t(t,e){this.userId=t,this.serializer=e,this.garbageCollector=null}return t.forUser=function(e,n){return g(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n)},t.prototype.start=function(e){var n=this;return t.loadNextBatchIdFromDb(e).next(function(t){return n.nextBatchId=t,Hn(e).get(n.userId)}).next(function(t){return t||(t=new Rn(n.userId,yn,"")),n.metadata=t,n.metadata.lastAcknowledgedBatchId>=n.nextBatchId?n.checkEmpty(e).next(function(t){return g(t,"Reset nextBatchID is only possible when the queue is empty"),n.metadata.lastAcknowledgedBatchId=yn,Hn(e).put(n.metadata)}):rn.resolve()})},t.loadNextBatchIdFromDb=function(t){var e=yn;return Bn(t).iterate({reverse:!0},function(t,n,r){var o,i,a=t[0];if(t[1]>e&&(e=n.batchId),""===a)r.done();else{var s=(i=(o=a).length-1,0===o.length?"":"\0"===o.charAt(i)?o.substring(0,i):o.substring(0,i)+String.fromCharCode(o.charCodeAt(i)-1));r.skip([s])}}).next(function(){return e+1})},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound(this.keyForBatchId(Number.NEGATIVE_INFINITY),this.keyForBatchId(Number.POSITIVE_INFINITY));return Bn(t).iterate({range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.getNextBatchId=function(t){return rn.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return rn.resolve(this.metadata.lastAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;return g(r>this.metadata.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),this.metadata.lastAcknowledgedBatchId=r,this.metadata.lastStreamToken=Un(n),Hn(t).put(this.metadata)},t.prototype.getLastStreamToken=function(t){return rn.resolve(this.metadata.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.metadata.lastStreamToken=Un(e),Hn(t).put(this.metadata)},t.prototype.addMutationBatch=function(t,e,n){var r=this,o=this.nextBatchId;this.nextBatchId++;var i=new gn(o,e,n),a=this.serializer.toDbMutationBatch(this.userId,i);return Bn(t).put(a).next(function(){for(var e=[],i=0,a=n;i<a.length;i++){var s=Pn.key(r.userId,a[i].key.path,o);e.push(qn(t).put(s,Pn.PLACEHOLDER))}return rn.waitFor(e)}).next(function(){return i})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Bn(t).get(this.keyForBatchId(e)).next(function(t){return t?n.serializer.fromDbMutationBatch(t):null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=Math.max(e,this.metadata.lastAcknowledgedBatchId)+1,o=IDBKeyRange.lowerBound(this.keyForBatchId(r)),i=null;return Bn(t).iterate({range:o},function(t,e,o){e.userId===n.userId&&(g(e.batchId>=r,"Should have found mutation after "+r),i=n.serializer.fromDbMutationBatch(e)),o.done()}).next(function(){return i})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound(this.keyForBatchId(yn),this.keyForBatchId(Number.POSITIVE_INFINITY));return Bn(t).loadAll(n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this,r=IDBKeyRange.bound(this.keyForBatchId(yn),this.keyForBatchId(e));return Bn(t).loadAll(r).next(function(t){return t.map(function(t){return n.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Pn.prefixForPath(this.userId,e.path),o=IDBKeyRange.lowerBound(r),i=[];return qn(t).iterate({range:o},function(r,o,a){var s=r[0],u=r[2],c=In(r[1]);if(s===n.userId&&e.path.isEqual(c)){var l=n.keyForBatchId(u);return Bn(t).get(l).next(function(t){null===t&&y("Dangling document-mutation reference found: "+r+" which points to "+l),i.push(n.serializer.fromDbMutationBatch(t))})}a.done()}).next(function(){return i})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new se(W),o=[];return e.forEach(function(e){var i=Pn.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(i),s=qn(t).iterate({range:a},function(t,o,i){var a=t[0],s=t[2],u=In(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):i.done()});o.push(s)}),rn.waitFor(o).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;g(!e.isDocumentQuery(),"Document queries shouldn't go down this path");var r=e.path,o=r.length+1,i=Pn.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(i),s=new se(W);return qn(t).iterate({range:a},function(t,e,i){var a=t[0],u=t[2],c=In(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===o&&(s=s.add(u)):i.done()}).next(function(){return n.lookupMutationBatches(t,s)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],o=[];return e.forEach(function(e){var i=n.keyForBatchId(e);o.push(Bn(t).get(i).next(function(t){null===t&&y("Dangling document-mutation reference found, which points to "+i),r.push(n.serializer.fromDbMutationBatch(t))}))}),rn.waitFor(o).next(function(){return r})},t.prototype.removeMutationBatches=function(t,e){for(var n=Bn(t),r=qn(t),o=[],i=function(t){var e=IDBKeyRange.only(a.keyForBatchId(t.batchId)),i=0,s=n.iterate({range:e},function(t,e,n){return i++,n.delete()});o.push(s.next(function(){g(1===i,"Dangling document-mutation reference found: Missing batch "+t.batchId)}));for(var u=0,c=t.mutations;u<c.length;u++){var l=c[u],h=Pn.key(a.userId,l.key.path,t.batchId);o.push(r.delete(h)),null!==a.garbageCollector&&a.garbageCollector.addPotentialGarbageKey(l.key)}},a=this,s=0,u=e;s<u.length;s++)i(u[s]);return rn.waitFor(o)},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return rn.resolve();var r=IDBKeyRange.lowerBound(Pn.prefixForUser(e.userId)),o=[];return qn(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var i=In(t[1]);o.push(i)}else r.done()}).next(function(){g(0===o.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+o.map(function(t){return t.canonicalString()}))})})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=this,r=Pn.prefixForPath(this.userId,e.path),o=r[1],i=IDBKeyRange.lowerBound(r),a=!1;return qn(t).iterate({range:i,keysOnly:!0},function(t,e,r){t[0]===n.userId&&t[1]===o&&(a=!0),r.done()}).next(function(){return a})},t.prototype.keyForBatchId=function(t){return[this.userId,t]},t}();function Un(t){return t instanceof Uint8Array?(g("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),t.toString()):t}function Bn(t){return cr.getStore(t,kn.store)}function qn(t){return cr.getStore(t,Pn.store)}function Hn(t){return cr.getStore(t,Rn.store)}var Wn=function(){function t(t){this.serializer=t,this.lastRemoteSnapshotVersion=Wt.MIN,this.metadata=null,this.garbageCollector=null}return t.prototype.start=function(t){var e=this;return Kn(t).get(Ln.key).next(function(t){g(null!==t,"Missing metadata row that should be added by schema migration."),e.metadata=t;var n=t.lastRemoteSnapshotVersion;return e.lastRemoteSnapshotVersion=Wt.fromTimestamp(new Z(n.seconds,n.nanoseconds)),rn.resolve()})},t.prototype.getHighestTargetId=function(){return this.metadata.highestTargetId},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,this.metadata.lastRemoteSnapshotVersion=e.toTimestamp(),Kn(t).put(Ln.key,this.metadata)},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.metadata.targetCount+=1,n.updateMetadataFromQueryData(e),n.saveMetadata(t)})},t.prototype.updateQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.updateMetadataFromQueryData(e)?n.saveMetadata(t):rn.resolve()})},t.prototype.removeQueryData=function(t,e){var n=this;return g(this.metadata.targetCount>0,"Removing from an empty query cache"),this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Gn(t).delete(e.targetId)}).next(function(){return n.metadata.targetCount-=1,n.saveMetadata(t)})},t.prototype.saveMetadata=function(t){return Kn(t).put(Ln.key,this.metadata)},t.prototype.saveQueryData=function(t,e){return Gn(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t){var e=!1;return t.targetId>this.metadata.highestTargetId&&(this.metadata.highestTargetId=t.targetId,e=!0),e},Object.defineProperty(t.prototype,"count",{get:function(){return this.metadata.targetCount},enumerable:!0,configurable:!0}),t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),i=null;return Gn(t).iterate({range:o,index:Mn.queryTargetsIndexName},function(t,r,o){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(i=a,o.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=[],o=Qn(t);return e.forEach(function(t){var e=Cn(t.path);r.push(o.put(new $n(n,e)))}),rn.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,o=[],i=Qn(t);return e.forEach(function(t){var e=Cn(t.path);o.push(i.delete([n,e])),null!==r.garbageCollector&&r.garbageCollector.addPotentialGarbageKey(t)}),rn.waitFor(o)},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Qn(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return this.notifyGCForRemovedKeys(t,r).next(function(){return n.delete(r)})},t.prototype.notifyGCForRemovedKeys=function(t,e){var n=this,r=Qn(t);return null!==this.garbageCollector&&this.garbageCollector.isEager?r.iterate({range:e,keysOnly:!0},function(t,e,r){var o=In(t[1]),i=new it(o);g(null!==n.garbageCollector,"GarbageCollector for query cache set to null during key removal."),n.garbageCollector.addPotentialGarbageKey(i)}):rn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Qn(t),o=ve();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=In(t[1]),i=new it(r);o=o.add(i)}).next(function(){return o})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){g(null!==t,"Persistence Transaction cannot be null for query cache containsKey");var n,r=Cn(e.path),o=IDBKeyRange.bound([r],[(n=r,n+"\0")],!1,!0),i=0;return Qn(t).iterate({index:$n.documentTargetsIndex,keysOnly:!0,range:o},function(t,e,n){i++,n.done()}).next(function(){return i>0})},t}();function Gn(t){return cr.getStore(t,Mn.store)}function Kn(t){return cr.getStore(t,Ln.store)}function Qn(t){return cr.getStore(t,$n.store)}var zn=function(){function t(t){this.serializer=t}return t.prototype.addEntry=function(t,e){return Yn(t).put(Xn(e.key),this.serializer.toDbRemoteDocument(e))},t.prototype.removeEntry=function(t,e){return Yn(t).delete(Xn(e))},t.prototype.getEntry=function(t,e){var n=this;return Yn(t).get(Xn(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this,r=he(),o=e.path.toArray(),i=IDBKeyRange.lowerBound(o);return Yn(t).iterate({range:i},function(t,o,i){var a=n.serializer.fromDbRemoteDocument(o);e.path.isPrefixOf(a.key.path)?a instanceof at&&e.matches(a)&&(r=r.insert(a.key,a)):i.done()}).next(function(){return r})},t}();function Yn(t){return cr.getStore(t,xn.store)}function Xn(t){return t.path.toArray()}var Zn=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document);if(t.noDocument){var e=it.fromSegments(t.noDocument.path),n=t.noDocument.readTime,r=new Z(n.seconds,n.nanoseconds);return new st(e,Wt.fromTimestamp(r))}return y("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof at){var e=this.remoteSerializer.toDocument(t);return new xn(null,e)}var n=t.key.path.toArray(),r=t.version.toTimestamp(),o=new Nn(r.seconds,r.nanoseconds);return new xn(new function(t,e){this.path=t,this.readTime=e}(n,o),null)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new kn(t,e.batchId,e.localWriteTime.toMillis(),r)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),r=Z.fromMillis(t.localWriteTimeMs);return new gn(t.batchId,r,n)},t.prototype.fromDbTarget=function(t){var e,n=new Z(t.readTime.seconds,t.readTime.nanoseconds),r=Wt.fromTimestamp(n);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Kt(e,t.targetId,Gt.Listen,r,t.resumeToken)},t.prototype.toDbTarget=function(t){g(Gt.Listen===t.purpose,"Only queries with purpose "+Gt.Listen+" may be stored, got "+t.purpose);var e,n,r=t.snapshotVersion.toTimestamp(),o=new Nn(r.seconds,r.nanoseconds);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(g("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new Mn(t.targetId,t.query.canonicalId(),o,n,0,e)},t}(),Jn=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},tr=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return g(t.isAvailable(),"IndexedDB not supported in current environment."),f("SimpleDb","Opening database:",e),new rn(function(o,i){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){o(new t(e.target.result))},a.onblocked=function(){i(new w(_.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){i(t.target.error)},a.onupgradeneeded=function(t){f("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,o=new nr(a.transaction);r(n,o,t.oldVersion,On).next(function(){f("SimpleDb","Database upgrade to version "+On+" complete")})}}).toPromise()},t.delete=function(t){return f("SimpleDb","Removing database:",t),or(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.getStore=function(t,e){return t.store(e)},t.prototype.runTransaction=function(t,e,n){var r=nr.open(this.db,t,e),o=n(r).catch(function(t){r.abort(t)}).toPromise();return r.completionPromise.then(function(){return o})},t.prototype.close=function(){this.db.close()},t}(),er=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return or(this.dbCursor.delete())},t}(),nr=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new Jn,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){e.completionDeferred.reject(t.target.error)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(f("SimpleDb","Aborting transaction: %s",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return g(!!e,"Object store not part of transaction: "+t),new rr(e)},t}(),rr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(f("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),or(n)},t.prototype.get=function(t){var e=this;return or(this.store.get(t)).next(function(n){return void 0===n&&(n=null),f("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return f("SimpleDb","DELETE",this.store.name,t),or(this.store.delete(t))},t.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),or(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){f("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateCursor=function(t,e){var n=[];return new rn(function(r,o){t.onerror=function(t){o(t.target.error)},t.onsuccess=function(t){var o=t.target.result;if(o){var i=new er(o),a=e(o.primaryKey,o.value,i);a instanceof rn&&n.push(a),i.isDone?r():null===i.skipToKey?o.continue():o.continue(i.skipToKey)}else r()}}).next(function(){return rn.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(g(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function or(t){return new rn(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){n(t.target.error)}})}var ir,ar="IndexedDbPersistence",sr="There is another tab open with offline persistence enabled. Only one such tab is allowed at a time. The other tab must be closed or persistence must be disabled.",ur=function(t){function e(e){var n=t.call(this)||this;return n.simpleDbTransaction=e,n}return a.__extends(e,t),e}(function(){}),cr=function(){function t(e,n){this._started=!1,this.ownerId=this.generateOwnerId(),this.dbName=e+t.MAIN_DATABASE,this.serializer=new Zn(n),this.localStoragePrefix=e}return t.getStore=function(t,e){if(t instanceof ur)return tr.getStore(t.simpleDbTransaction,e);y("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.prototype.start=function(){var e=this;return t.isAvailable()?(g(!this.started,"IndexedDbPersistence double-started!"),tr.openOrCreate(this.dbName,On,Dn).then(function(t){e.simpleDb=t}).then(function(){return e.tryAcquireOwnerLease()}).then(function(){e.scheduleOwnerLeaseRefreshes(),e.attachWindowUnloadHook()}).then(function(){e._started=!0})):(this.persistenceError=new w(_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled."),Promise.reject(this.persistenceError))},t.prototype.shutdown=function(t){var e=this;return g(this.started,"IndexedDbPersistence shutdown without start!"),this._started=!1,this.detachWindowUnloadHook(),this.stopOwnerLeaseRefreshes(),this.releaseOwnerLease().then(function(){if(e.simpleDb.close(),t)return tr.delete(e.dbName)})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return Vn.forUser(t,this.serializer)},t.prototype.getQueryCache=function(){return new Wn(this.serializer)},t.prototype.getRemoteDocumentCache=function(){return new zn(this.serializer)},t.prototype.runTransaction=function(t,e){var n=this;return this.persistenceError?Promise.reject(this.persistenceError):(f(ar,"Starting transaction:",t),this.simpleDb.runTransaction("readwrite",Fn,function(t){return n.ensureOwnerLease(t).next(function(){return e(new ur(t))})}))},t.isAvailable=function(){return tr.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.tryAcquireOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[An.store],function(e){var n=e.store(An.store);return n.get("owner").next(function(e){if(t.validOwner(e))return f(ar,"Valid owner already. Failing. Current owner:",e),t.persistenceError=new w(_.FAILED_PRECONDITION,sr),rn.reject(t.persistenceError);var r=new An(t.ownerId,Date.now());return f(ar,"No valid owner. Acquiring owner lease. Current owner:",e,"New owner:",r),n.put("owner",r)})})},t.prototype.releaseOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[An.store],function(e){var n=e.store(An.store);return n.get("owner").next(function(e){return null!==e&&e.ownerId===t.ownerId?(f(ar,"Releasing owner lease."),n.delete("owner")):rn.resolve()})})},t.prototype.ensureOwnerLease=function(t){var e=this;return t.store(An.store).get("owner").next(function(t){return null===t||t.ownerId!==e.ownerId?(e.persistenceError=new w(_.FAILED_PRECONDITION,sr),rn.reject(e.persistenceError)):rn.resolve()})},t.prototype.validOwner=function(t){var e=Date.now();return!(null===t||t.leaseTimestampMs<e-5e3||(t.leaseTimestampMs>e?(p("Persistence owner-lease is in the future. Discarding.",t),1):t.ownerId===this.getZombiedOwnerId()))},t.prototype.scheduleOwnerLeaseRefreshes=function(){var t=this;this.ownerLeaseRefreshHandle=setInterval(function(){t.simpleDb.runTransaction("readwrite",Fn,function(e){return t.ensureOwnerLease(e).next(function(){return e.store(An.store).put("owner",new An(t.ownerId,Date.now()))})}).catch(function(e){p(e),t.stopOwnerLeaseRefreshes()})},4e3)},t.prototype.stopOwnerLeaseRefreshes=function(){this.ownerLeaseRefreshHandle&&(clearInterval(this.ownerLeaseRefreshHandle),this.ownerLeaseRefreshHandle=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"object"==typeof window&&"function"==typeof window.addEventListener&&(this.windowUnloadHandler=function(){t.setZombiedOwnerId(t.ownerId),t.shutdown()},window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(g("object"==typeof window&&"function"==typeof window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.getZombiedOwnerId=function(){try{var t=window.localStorage.getItem(this.zombiedOwnerLocalStorageKey());return f(ar,"Zombied ownerID from LocalStorage:",t),t}catch(t){return p("Failed to get zombie owner id.",t),null}},t.prototype.setZombiedOwnerId=function(t){try{null===t?window.localStorage.removeItem(this.zombiedOwnerLocalStorageKey()):window.localStorage.setItem(this.zombiedOwnerLocalStorageKey(),t)}catch(t){p("Failed to set zombie owner id.",t)}},t.prototype.zombiedOwnerLocalStorageKey=function(){return this.localStoragePrefix+"zombiedOwnerId"},t.prototype.generateOwnerId=function(){return H.newId()},t.MAIN_DATABASE="main",t}(),lr=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,o=n;r<o.length;r++)t=o[r].applyToLocalView(e,t);return t})},t.prototype.getDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var o=[],i=ce();return e.forEach(function(e){o.push(n.getDocumentInternal(t,e,r).next(function(t){t||(t=new st(e,Wt.forDeletedDoc())),i=i.insert(e,t)}))}),rn.waitFor(o).next(function(){return i})})},t.prototype.getDocumentsMatchingQuery=function(t,e){return it.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new it(e)).next(function(t){var e=he();return t instanceof at&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(o){return n=o,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(t){for(var r=0,o=t;r<o.length;r++)for(var i=o[r],a=0,s=i.mutations;a<s.length;a++){var u=s[a],c=u.key;if(e.path.isImmediateParentOf(c.path)){var l=n.get(c),h=u.applyToLocalView(l,l,i.localWriteTime);!h||h instanceof st?n=n.remove(c):h instanceof at?n=n.insert(c,h):y("Unknown MaybeDocument: "+h)}}}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t}(),hr=function(){function t(t){this.remoteDocumentCache=t,this.changes=ce()}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this.assertChanges().get(e);return n?rn.resolve(n):this.remoteDocumentCache.getEntry(t,e)},t.prototype.apply=function(t){var e=this,n=[];return this.assertChanges().forEach(function(r,o){n.push(e.remoteDocumentCache.addEntry(t,o))}),this.changes=null,rn.waitFor(n)},t.prototype.assertChanges=function(){return g(null!==this.changes,"Changes have already been applied."),this.changes},t}(),dr=function(){function t(t,e,n){this.persistence=t,this.garbageCollector=n,this.localViewReferences=new sn,this.targetIds={},this.targetIdGenerator=hn.forLocalStore(),this.heldBatchResults=[],g(t.started,"LocalStore was passed an unstarted persistence implementation"),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new lr(this.remoteDocuments,this.mutationQueue),this.garbageCollector.addGarbageSource(this.localViewReferences),this.garbageCollector.addGarbageSource(this.queryCache),this.garbageCollector.addGarbageSource(this.mutationQueue)}return t.prototype.start=function(){var t=this;return this.persistence.runTransaction("Start LocalStore",function(e){return t.startMutationQueue(e).next(function(){return t.startQueryCache(e)})})},t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(o){return r=o,e.garbageCollector.removeGarbageSource(e.mutationQueue),e.mutationQueue=e.persistence.getMutationQueue(t),e.garbageCollector.addGarbageSource(e.mutationQueue),e.startMutationQueue(n)}).next(function(){return e.localDocuments=new lr(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var o=ve(),i=0,a=[r,t];i<a.length;i++)for(var s=0,u=a[i];s<u.length;s++)for(var c=0,l=u[s].mutations;c<l.length;c++)o=o.add(l[c].key);return e.localDocuments.getDocuments(n,o)})})},t.prototype.startQueryCache=function(t){var e=this;return this.queryCache.start(t).next(function(){var t=e.queryCache.getHighestTargetId();e.targetIdGenerator=hn.forLocalStore(t)})},t.prototype.startMutationQueue=function(t){var e=this;return this.mutationQueue.start(t).next(function(){return e.heldBatchResults=[],e.mutationQueue.getHighestAcknowledgedBatchId(t)}).next(function(n){return n!==yn?e.mutationQueue.getAllMutationBatchesThroughBatchId(t,n):rn.resolve([])}).next(function(n){return n.length>0?e.mutationQueue.removeMutationBatches(t,n):rn.resolve()})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction("Locally write mutations",function(n){var r,o=Z.now();return e.mutationQueue.addMutationBatch(n,o,t).next(function(t){var o=(r=t).keys();return e.localDocuments.getDocuments(n,o)}).next(function(t){return{batchId:r.batchId,changes:t}})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch",function(n){var r;return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){if(e.shouldHoldBatchResult(t.commitVersion))return e.heldBatchResults.push(t),r=ve(),rn.resolve();var o=new hr(e.remoteDocuments);return e.releaseBatchResults(n,[t],o).next(function(t){return r=t,o.apply(n)})}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch",function(n){var r,o;return e.mutationQueue.lookupMutationBatch(n,t).next(function(o){return g(null!=o,"Attempt to reject nonexistent batch!"),r=o,e.mutationQueue.getHighestAcknowledgedBatchId(n).next(function(e){return g(t>e,"Acknowledged batches can't be rejected."),r})}).next(function(){return e.removeMutationBatch(n,r)}).next(function(t){return o=t,e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,o)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){return this.queryCache.getLastRemoteSnapshotVersion()},t.prototype.applyRemoteEvent=function(e){var n=this,r=new hr(this.remoteDocuments);return this.persistence.runTransaction("Apply remote event",function(o){var i=[],a=ve();T(e.targetChanges,function(r,s){var u=n.targetIds[r];if(u){s.addedDocuments.forEach(function(t){a=a.add(t)}),s.modifiedDocuments.forEach(function(t){a=a.add(t)}),i.push(n.queryCache.removeMatchingKeys(o,s.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(o,s.addedDocuments,r)}));var c=s.resumeToken;if(c.length>0){var l=u;u=u.copy({resumeToken:c,snapshotVersion:e.snapshotVersion}),n.targetIds[r]=u,t.shouldPersistQueryData(l,u,s)&&i.push(n.queryCache.updateQueryData(o,u))}}});var s=ve();e.documentUpdates.forEach(function(t,e){s=s.add(t),i.push(r.getEntry(o,t).next(function(o){null==o||e.version.isEqual(Wt.MIN)||a.has(e.key)||e.version.compareTo(o.version)>=0?r.addEntry(e):f("LocalStore","Ignoring outdated watch update for ",t,". Current version:",o.version," Watch version:",e.version),n.garbageCollector.addPotentialGarbageKey(t)}))});var u,c=n.queryCache.getLastRemoteSnapshotVersion(),l=e.snapshotVersion;return l.isEqual(Wt.MIN)||(g(l.compareTo(c)>=0,"Watch stream reverted to previous snapshot?? "+l+" < "+c),i.push(n.queryCache.setLastRemoteSnapshotVersion(o,l))),rn.waitFor(i).next(function(){return n.releaseHeldBatchResults(o,r)}).next(function(t){return u=t,r.apply(o)}).next(function(){return n.localDocuments.getDocuments(o,s.unionWith(u))})})},t.shouldPersistQueryData=function(t,e,n){return 0!==e.resumeToken.length&&(0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},t.prototype.notifyLocalViewChanges=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];this.localViewReferences.addReferences(r.addedKeys,r.targetId),this.localViewReferences.removeReferences(r.removedKeys,r.targetId)}},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch",function(n){return void 0===t&&(t=yn),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(o){if(o)return r=o,rn.resolve();var i=e.targetIdGenerator.next();return r=new Kt(t,i,Gt.Listen),e.queryCache.addQueryData(n,r)}).next(function(){return g(!e.targetIds[r.targetId],"Tried to allocate an already allocated query: "+t),e.targetIds[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t){var e=this;return this.persistence.runTransaction("Release query",function(n){return e.queryCache.getQueryData(n,t).next(function(r){g(null!=r,"Tried to release nonexistent query: "+t);var o=r.targetId,i=e.targetIds[o];return e.localViewReferences.removeReferencesForId(o),delete e.targetIds[o],e.garbageCollector.isEager?e.queryCache.removeQueryData(n,r):i.snapshotVersion>r.snapshotVersion?e.queryCache.updateQueryData(n,i):rn.resolve()}).next(function(){if(O(e.targetIds)){var t=new hr(e.remoteDocuments);return e.releaseHeldBatchResults(n,t).next(function(){t.apply(n)})}return rn.resolve()})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.collectGarbage=function(){var t=this;return this.persistence.runTransaction("Garbage collection",function(e){return t.garbageCollector.collectGarbage(e).next(function(n){var r=[];return n.forEach(function(n){r.push(t.remoteDocuments.removeEntry(e,n))}),rn.waitFor(r)})})},t.prototype.releaseHeldBatchResults=function(t,e){for(var n=[],r=0,o=this.heldBatchResults;r<o.length;r++){var i=o[r];if(!this.isRemoteUpToVersion(i.commitVersion))break;n.push(i)}return 0===n.length?rn.resolve(ve()):(this.heldBatchResults.splice(0,n.length),this.releaseBatchResults(t,n,e))},t.prototype.isRemoteUpToVersion=function(t){var e=this.queryCache.getLastRemoteSnapshotVersion();return t.compareTo(e)<=0||O(this.targetIds)},t.prototype.shouldHoldBatchResult=function(t){return!this.isRemoteUpToVersion(t)||this.heldBatchResults.length>0},t.prototype.releaseBatchResults=function(t,e,n){for(var r=this,o=rn.resolve(),i=function(e){o=o.next(function(){return r.applyWriteToRemoteDocuments(t,e,n)})},a=0,s=e;a<s.length;a++)i(s[a]);return o.next(function(){return r.removeMutationBatches(t,e.map(function(t){return t.batch}))})},t.prototype.removeMutationBatch=function(t,e){return this.removeMutationBatches(t,[e])},t.prototype.removeMutationBatches=function(t,e){for(var n=ve(),r=0,o=e;r<o.length;r++)for(var i=0,a=o[r].mutations;i<a.length;i++)n=n.add(a[i].key);return this.mutationQueue.removeMutationBatches(t,e).next(function(){return n})},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=e.batch,o=r.keys(),i=rn.resolve();return o.forEach(function(o){i=i.next(function(){return n.getEntry(t,o)}).next(function(t){var i=t,a=e.docVersions.get(o);g(null!==a,"ackVersions should contain every doc in the write."),(!i||i.version.compareTo(a)<0)&&((i=r.applyToRemoteDocument(o,i,e))?n.addEntry(i):g(!t,"Mutation batch "+r+" applied to document "+t+" resulted in null"))})}),i},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),fr=function(){function t(){this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=yn,this.lastStreamToken=b(),this.garbageCollector=null,this.batchesByDocumentKey=new se(un.compareByKey)}return t.prototype.start=function(t){return 0===this.mutationQueue.length&&(this.nextBatchId=1,this.highestAcknowledgedBatchId=yn),g(this.highestAcknowledgedBatchId<this.nextBatchId,"highestAcknowledgedBatchId must be less than the nextBatchId"),rn.resolve()},t.prototype.checkEmpty=function(t){return rn.resolve(0===this.mutationQueue.length)},t.prototype.getNextBatchId=function(t){return rn.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return rn.resolve(this.highestAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;g(r>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var o=this.indexOfExistingBatchId(r,"acknowledged"),i=this.mutationQueue[o];return g(r===i.batchId,"Queue ordering failure: expected batch "+r+", got batch "+i.batchId),g(!i.isTombstone(),"Can't acknowledge a previously removed batch"),this.highestAcknowledgedBatchId=r,this.lastStreamToken=n,rn.resolve()},t.prototype.getLastStreamToken=function(t){return rn.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,rn.resolve()},t.prototype.addMutationBatch=function(t,e,n){g(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&g(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var o=new gn(r,e,n);this.mutationQueue.push(o);for(var i=0,a=n;i<a.length;i++)this.batchesByDocumentKey=this.batchesByDocumentKey.add(new un(a[i].key,r));return rn.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return rn.resolve(this.findMutationBatch(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){for(var n=this.mutationQueue.length,r=Math.max(e,this.highestAcknowledgedBatchId)+1,o=this.indexOfBatchId(r),i=o<0?0:o;i<n;i++){var a=this.mutationQueue[i];if(!a.isTombstone())return rn.resolve(a)}return rn.resolve(null)},t.prototype.getAllMutationBatches=function(t){return rn.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this.mutationQueue.length,r=this.indexOfBatchId(e);return r<0?r=0:r>=n?r=n:r++,rn.resolve(this.getAllLiveMutationBatchesBeforeIndex(r))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new un(e,0),o=new un(e,Number.POSITIVE_INFINITY),i=[];return this.batchesByDocumentKey.forEachInRange([r,o],function(t){g(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);g(null!==r,"Batches in the index must exist in the main table"),i.push(r)}),rn.resolve(i)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new se(W);return e.forEach(function(t){var e=new un(t,0),o=new un(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,o],function(e){g(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),rn.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,o=n;it.isDocumentKey(o)||(o=o.child(""));var i=new un(new it(o),0),a=new se(W);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)},i),rn.resolve(this.findMutationBatches(a))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatches=function(t,e){var n=e.length;g(n>0,"Should not remove mutations when none exist.");var r=e[0].batchId,o=this.mutationQueue.length,i=this.indexOfExistingBatchId(r,"removed");g(this.mutationQueue[i].batchId===r,"Removed batches must exist in the queue");for(var a=1,s=i+1;a<n&&s<o;)(d=this.mutationQueue[s]).isTombstone()?s++:(g(d.batchId===e[a].batchId,"Removed batches must be contiguous in the queue"),a++,s++);if(0===i){for(;s<o&&(d=this.mutationQueue[s]).isTombstone();s++);this.mutationQueue.splice(i,s-i)}else for(var u=i;u<s;u++)this.mutationQueue[u]=this.mutationQueue[u].toTombstone();for(var c=this.batchesByDocumentKey,l=0,h=e;l<h.length;l++)for(var d,f=(d=h[l]).batchId,p=0,v=d.mutations;p<v.length;p++){var y=v[p].key;null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(y);var m=new un(y,f);c=c.delete(m)}return this.batchesByDocumentKey=c,rn.resolve()},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new un(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return rn.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&g(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),rn.resolve()},t.prototype.getAllLiveMutationBatchesBeforeIndex=function(t){for(var e=[],n=0;n<t;n++){var r=this.mutationQueue[n];r.isTombstone()||e.push(r)}return e},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return g(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return g(n.batchId===t,"If found batch must match"),n.isTombstone()?null:n},t}(),pr=function(){function t(){this.queries=new tn(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Wt.MIN,this.highestTargetId=0,this.references=new sn,this.targetCount=0}return t.prototype.start=function(t){return rn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.getHighestTargetId=function(){return this.highestTargetId},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,rn.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e)},t.prototype.addQueryData=function(t,e){return g(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,rn.resolve()},t.prototype.updateQueryData=function(t,e){return g(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),rn.resolve()},t.prototype.removeQueryData=function(t,e){return g(this.targetCount>0,"Removing a target from an empty cache"),g(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,rn.resolve()},Object.defineProperty(t.prototype,"count",{get:function(){return this.targetCount},enumerable:!0,configurable:!0}),t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return rn.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.references.addReferences(e,n),rn.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){return this.references.removeReferences(e,n),rn.resolve()},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),rn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return rn.resolve(n)},t.prototype.setGarbageCollector=function(t){this.references.setGarbageCollector(t)},t.prototype.containsKey=function(t,e){return this.references.containsKey(t,e)},t}(),vr=function(){function t(){this.docs=ce()}return t.prototype.addEntry=function(t,e){return this.docs=this.docs.insert(e.key,e),rn.resolve()},t.prototype.removeEntry=function(t,e){return this.docs=this.docs.remove(e),rn.resolve()},t.prototype.getEntry=function(t,e){return rn.resolve(this.docs.get(e))},t.prototype.getDocumentsMatchingQuery=function(t,e){for(var n=he(),r=new it(e.path.child("")),o=this.docs.getIteratorFrom(r);o.hasNext();){var i=o.getNext(),a=i.value;if(!e.path.isPrefixOf(i.key.path))break;a instanceof at&&e.matches(a)&&(n=n.insert(a.key,a))}return rn.resolve(n)},t}(),yr=function(){function t(){this.mutationQueues={},this.remoteDocumentCache=new vr,this.queryCache=new pr,this._started=!1}return t.prototype.start=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return g(!this._started,"MemoryPersistence double-started!"),this._started=!0,[2]})})},t.prototype.shutdown=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return g(this._started,"MemoryPersistence shutdown without start!"),this._started=!1,[2]})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new fr,this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e){return f("MemoryPersistence","Starting transaction:",t),e(new gr).toPromise()},t}(),gr=function(){},mr=function(){function t(){this.isEager=!1}return t.prototype.addGarbageSource=function(t){},t.prototype.removeGarbageSource=function(t){},t.prototype.addPotentialGarbageKey=function(t){},t.prototype.collectGarbage=function(t){return rn.resolve(ve())},t}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout"}(ir||(ir={}));var br=function(){function t(t,e,n,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,o,i){var a=new t(e,n,Date.now()+r,o,i);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new w(_.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueue(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),_r=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw p("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),g(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var o=br.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(o),o},t.prototype.verifyNotFailed=function(){this.failure&&y("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){g(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){return this.delayedOperations.findIndex(function(e){return e.timerId===t})>=0},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){g(t===ir.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var o=r[n];if(o.skipDelay(),t!==ir.All&&o.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);g(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),wr=function(){function t(t,e,n,r,o){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=o,this.timerPromise=null,this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){this.cancel();var e=this.currentBaseMs+this.jitterDelayMs();this.currentBaseMs>0&&f("ExponentialBackoff","Backing off for "+e+" ms (base delay: "+this.currentBaseMs+" ms)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,e,t),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),Er=function(t){return t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t}({}),Cr=1e3,Sr=6e4,Tr=1.5,Ir=function(){function t(t,e,n,r,o,i){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=o,this.listener=i,this.state=Er.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new wr(t,e,Cr,Tr,Sr)}return t.prototype.isStarted=function(){return this.state===Er.Starting||this.state===Er.Open||this.state===Er.Backoff},t.prototype.isOpen=function(){return this.state===Er.Open},t.prototype.start=function(){this.state!==Er.Error?(g(this.state===Er.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){this.isStarted()&&this.close(Er.Initial)},t.prototype.inhibitBackoff=function(){g(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Er.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.isOpen()?[2,this.close(Er.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(n.label){case 0:return g(this.isStarted(),"Only started streams should be closed."),g(t===Er.Error||Pt(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==Er.Error?this.backoff.reset():e&&e.code===_.RESOURCE_EXHAUSTED?(p(e.toString()),p("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===_.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;g(this.state===Er.Initial,"Must be in initial state to auth"),this.state=Er.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new w(_.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;g(this.state===Er.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return g(e.state===Er.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=Er.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;g(this.state===Er.Error,"Should only perform backoff when in Error state"),this.state=Er.Backoff,this.backoff.backoffAndRun(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){return g(this.state===Er.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Er.Initial,this.start(),g(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return g(this.isStarted(),"Can't handle server close on non-started stream"),f("PersistentStream","close with error: "+t),this.stream=null,this.close(Er.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueue(function(){return e.closeCount===t?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Or=function(t){function e(e,n,r,o,i){var a=t.call(this,e,ir.ListenStreamConnectionBackoff,ir.ListenStreamIdle,n,r,i)||this;return a.serializer=o,a}return a.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(Ir),Dr=function(t){function e(e,n,r,o,i){var a=t.call(this,e,ir.WriteStreamConnectionBackoff,ir.WriteStreamIdle,n,r,i)||this;return a.serializer=o,a.handshakeComplete_=!1,a}return a.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(g(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return g(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){g(this.isOpen(),"Writing handshake requires an opened stream"),g(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;g(this.isOpen(),"Writing mutations requires an opened stream"),g(this.handshakeComplete_,"Handshake must be complete before writing mutations"),g(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(Ir),Nr=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new Dr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new Or(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=ce();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var o=[];return t.forEach(function(t){var e=r.get(t);g(!!e,"Missing entity in write response for "+t),o.push(e)}),o})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),Ar=function(){function t(t){this.datastore=t,this.readVersions=fe(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e=t.version;t instanceof st&&(e=Wt.forDeletedDoc());var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new w(_.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){return e.recordVersion(t)}),t})},t.prototype.write=function(t){if(this.committed)throw new w(_.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?Xt.updateTime(e):Xt.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(Wt.forDeletedDoc()))throw new w(_.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?Xt.updateTime(e):Xt.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new ne(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,Wt.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}(),Rr=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=Ze.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Ze.Unknown),g(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(ir.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,g(t.state===Ze.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(Ze.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===Ze.Online?(this.setAndBroadcast(Ze.Unknown),g(0===this.watchStreamFailures,"watchStreamFailures must be 0"),g(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=2&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 2 times. Most recent error: "+t.toString()),this.setAndBroadcast(Ze.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===Ze.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(p(e),this.shouldWarnClientIsOffline=!1):f("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),kr=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.networkEnabled=!1,this.watchChangeAggregator=null,this.onlineStateTracker=new Rr(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return[4,this.enableNetwork()];case 1:return t.sent(),[2]}})})},t.prototype.enableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled?[3,3]:(this.networkEnabled=!0,t=this.writeStream,[4,this.localStore.getLastStreamToken()]);case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(Ze.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(Ze.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.networkEnabled&&(this.networkEnabled=!1,this.writeStream.stop(),this.watchStream.stop(),this.writePipeline.length>0&&(f("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState()),[2]})})},t.prototype.shutdown=function(){return f("RemoteStore","RemoteStore shutting down."),this.disableNetworkInternal(),this.onlineStateTracker.set(Ze.Unknown),Promise.resolve()},t.prototype.listen=function(t){g(!C(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){g(C(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&(this.sendUnwatchRequest(t),O(this.listenTargets)&&this.watchStream.markIdle())},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){g(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Ie(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!O(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(e){return T(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return void 0===t&&g(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(Ze.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(n.label){case 0:return this.onlineStateTracker.set(Ze.Online),t instanceof Se&&t.state===Ce.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof we?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Ee?this.watchChangeAggregator.handleExistenceFilter(t):(g(t instanceof Se,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),!e.isEqual(Wt.MIN)&&e.compareTo(this.localStore.getLastRemoteSnapshotVersion())>=0?[4,this.raiseWatchSnapshot(e)]:[3,2]);case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;g(!t.isEqual(Wt.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return T(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var o=e.listenTargets[n];o&&(e.listenTargets[n]=o.copy({resumeToken:r.resumeToken,snapshotVersion:t}))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:b()}),e.sendUnwatchRequest(t);var r=new Kt(n.query,t,Gt.ExistenceFilterMismatch);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;g(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return C(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:yn)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.networkEnabled&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){g(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){g(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)})},t.prototype.onMutationResult=function(t,e){var n=this;g(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),o=mn.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(o).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){var e=this;return a.__generator(this,function(n){return void 0===t&&g(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]:[2]})})},t.prototype.handleHandshakeError=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return ie(t.code)||t.code===_.ABORTED?(f("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=b(),[2,this.localStore.setLastStreamToken(b())]):[2]})})},t.prototype.handleWriteError=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){return ie(t.code)?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2]})})},t.prototype.createTransaction=function(){return new Ar(this.datastore)},t.prototype.handleUserChange=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return f("RemoteStore","RemoteStore changing users: uid=",t.uid),this.networkEnabled?(this.disableNetworkInternal(),this.onlineStateTracker.set(Ze.Unknown),[4,this.enableNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t}(),Pr=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r}return t.prototype.start=function(t){var e=this,n=new Jn,r=new Jn,o=!1;return this.credentials.setUserChangeListener(function(i){o?e.asyncQueue.enqueue(function(){return e.handleUserChange(i)}):(o=!0,e.initializePersistence(t,r).then(function(){return e.initializeRest(i)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueue(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.remoteStore.enableNetwork()})},t.prototype.initializePersistence=function(t,e){var n=this;return t?this.startIndexedDbPersistence().then(e.resolve).catch(function(t){return e.reject(t),n.canFallback(t)?(console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),n.startMemoryPersistence()):Promise.reject(t)}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof w?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code},t.prototype.startIndexedDbPersistence=function(){this.garbageCollector=new mr;var t=cr.buildStoragePrefix(this.databaseInfo),e=new Ve(this.databaseInfo.databaseId,{useProto3Json:!0});return this.persistence=new cr(t,e),this.persistence.start()},t.prototype.startMemoryPersistence=function(){return this.garbageCollector=new on,this.persistence=new yr,this.persistence.start()},t.prototype.initializeRest=function(t){var e=this;return this.platform.loadConnection(this.databaseInfo).then(function(n){e.localStore=new dr(e.persistence,t,e.garbageCollector);var r=e.platform.newSerializer(e.databaseInfo.databaseId),o=new Nr(e.asyncQueue,n,e.credentials,r);return e.remoteStore=new kr(e.localStore,o,e.asyncQueue,function(t){e.syncEngine.applyOnlineStateChange(t),e.eventMgr.applyOnlineStateChange(t)}),e.syncEngine=new vn(e.localStore,e.remoteStore,t),e.remoteStore.syncEngine=e.syncEngine,e.eventMgr=new en(e.syncEngine),e.localStore.start()}).then(function(){return e.remoteStore.start()})},t.prototype.handleUserChange=function(t){return this.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","User Changed: "+t.uid),this.syncEngine.handleUserChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.remoteStore.disableNetwork()})},t.prototype.shutdown=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.credentials.removeUserChangeListener(),e.remoteStore.shutdown()}).then(function(){return e.persistence.shutdown(t&&t.purgePersistenceWithDataLoss)})},t.prototype.listen=function(t,e,n){var r=this,o=new nn(t,e,n);return this.asyncQueue.enqueue(function(){return r.eventMgr.listen(o)}),o},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.enqueue(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof at)return t;throw new w(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=ve(),r=new pn(t,n),o=r.computeDocChanges(e);return r.applyChanges(o).snapshot})},t.prototype.write=function(t){var e=this,n=new Jn;return this.asyncQueue.enqueue(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.enqueue(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),xr=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Mr=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),$r=function(){function t(){this.userListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setUserChangeListener=function(t){g(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,t(Mr.UNAUTHENTICATED)},t.prototype.removeUserChangeListener=function(){g(null!==this.userListener,"removeUserChangeListener() when no listener registered"),this.userListener=null},t}(),Lr=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.userCounter=0,this.userListener=null,this.forceRefresh=!1,this.tokenListener=function(){var t=e.getUser();e.currentUser&&t.isEqual(e.currentUser)||(e.currentUser=t,e.userCounter++,e.userListener&&e.userListener(e.currentUser))},this.userCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;g(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.userCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.userCounter!==e)throw new w(_.ABORTED,"getToken aborted due to uid change.");return n?(g("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setUserChangeListener=function(t){g(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeUserChangeListener=function(){g(null!=this.tokenListener,"removeUserChangeListener() called twice"),g(null!==this.userListener,"removeUserChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.userListener=null},t.prototype.getUser=function(){"function"!=typeof this.app.INTERNAL.getUid&&y("This version of the Firestore SDK requires at least version 3.7.0 of firebase.js.");var t=this.app.INTERNAL.getUid();return g(null===t||"string"==typeof t,"Received invalid UID: "+t),new Mr(t)},t}(),jr=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=Mr.FIRST_PARTY,g(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),t}(),Fr=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,g(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return t.prototype.getToken=function(){return Promise.resolve(new jr(this.gapi,this.sessionIndex))},t.prototype.setUserChangeListener=function(t){t(Mr.FIRST_PARTY)},t.prototype.removeUserChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Vr(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,o=["next","error","complete"];r<o.length;r++){var i=o[r];if(i in n&&"function"==typeof n[i])return!0}return!1}(t)}var Ur=function(){function t(t){this.methodName=t}return t.delete=function(){return Br.instance},t.serverTimestamp=function(){return qr.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N("FieldValue.arrayUnion",arguments,1),new Hr(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N("FieldValue.arrayRemove",arguments,1),new Wr(t)},t.prototype.isEqual=function(t){return this===t},t}(),Br=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return a.__extends(e,t),e.instance=new e,e}(Ur),qr=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return a.__extends(e,t),e.instance=new e,e}(Ur),Hr=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return a.__extends(e,t),e}(Ur),Wr=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return a.__extends(e,t),e}(Ur),Gr=E(Ur,"Use FieldValue.<field>() instead."),Kr=/^__.*__$/,Qr=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new te(t,this.data,this.fieldMask,e):new Jt(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new ee(t,this.fieldTransforms)),n},t}(),zr=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new te(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new ee(t,this.fieldTransforms)),n},t}(),Yr=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t}({});function Xr(t){switch(t){case Yr.Set:case Yr.MergeSet:case Yr.Update:return!0;case Yr.Argument:return!1;default:throw y("Unexpected case for UserDataSource: "+t)}}var Zr=function(){function t(t,e,n,r,o,i){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===o&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=o||[],this.fieldMask=i||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new w(_.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(Xr(this.dataSource)&&Kr.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),Jr=function(t,e){this.databaseId=t,this.key=e},to=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new Zr(Yr.Set,t,ot.EMPTY_PATH);no("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new Qr(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new Zr(Yr.MergeSet,t,ot.EMPTY_PATH);no("Data must be an object, but it was:",r,e);var o,i,a=this.parseData(e,r);if(n){for(var s=[],u=0,c=n;u<c.length;u++){var l=c[u],h=void 0;if(l instanceof Ye?h=l:"string"==typeof l?h=oo(t,l):y("Expected stringOrFieldPath to be a string or a FieldPath"),!r.contains(h))throw new w(_.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s.push(h)}o=new Qt(s),i=r.fieldTransforms.filter(function(t){return o.covers(t.field)})}else o=new Qt(r.fieldMask),i=r.fieldTransforms;return new Qr(a,o,i)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new Zr(Yr.Update,t,ot.EMPTY_PATH);no("Data must be an object, but it was:",r,e);var o=[],i=Ot.EMPTY;I(e,function(e,a){var s=oo(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof Br)o.push(s);else{var c=n.parseData(a,u);null!=c&&(o.push(s),i=i.set(s,c))}});var a=new Qt(o);return new zr(i,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var o=new Zr(Yr.Update,t,ot.EMPTY_PATH),i=[ro(t,e)],a=[n];if(r.length%2!=0)throw new w(_.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)i.push(ro(t,r[s])),a.push(r[s+1]);var u=[],c=Ot.EMPTY;for(s=0;s<i.length;++s){var l=i[s],h=o.childContextForFieldPath(l),d=this.runPreConverter(a[s],h);if(d instanceof Br)u.push(l);else{var f=this.parseData(d,h);null!=f&&(u.push(l),c=c.set(l,f))}}var p=new Qt(u);return new zr(c,p,o.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new Zr(Yr.Argument,t,ot.EMPTY_PATH),r=this.parseData(e,n);return g(null!=r,"Parsed data should not be null."),g(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=io(t);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(eo(t=this.runPreConverter(t,e)))return no("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof Ur)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new ut(W);return I(t,function(t,o){var i=n.parseData(o,e.childContextForField(t));null!=i&&(r=r.insert(t,i))}),new Ot(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,o=0,i=t;o<i.length;o++){var a=this.parseData(i[o],e.childContextForArray(r));null==a&&(a=vt.INSTANCE),n.push(a),r++}return new Dt(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!Xr(e.dataSource))throw e.createError(t.methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t.methodName+"() is not currently supported inside arrays");if(t instanceof Br){if(e.dataSource!==Yr.MergeSet)throw e.dataSource===Yr.Update?(g(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof qr)e.fieldTransforms.push(new zt(e.path,Ne.instance));else if(t instanceof Hr){var n=this.parseArrayTransformElements(t.methodName,t._elements),r=new Ae(n);e.fieldTransforms.push(new zt(e.path,r))}else if(t instanceof Wr){n=this.parseArrayTransformElements(t.methodName,t._elements);var o=new Re(n);e.fieldTransforms.push(new zt(e.path,o))}else y("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return vt.INSTANCE;if("number"==typeof t)return function(t){return kt(t)&&t<=Rt&&t>=At}(t)?new bt(t):new _t(t);if("boolean"==typeof t)return yt.of(t);if("string"==typeof t)return new wt(t);if(t instanceof Date)return new Et(Z.fromDate(t));if(t instanceof Z)return new Et(new Z(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof X)return new It(t);if(t instanceof z)return new St(t);if(t instanceof Jr)return new Tt(t.databaseId,t.key);throw e.createError("Unsupported field value: "+j(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var o=new Zr(Yr.Argument,t,ot.EMPTY_PATH);return n.parseData(e,o.childContextForArray(r))})},t}();function eo(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Z||t instanceof X||t instanceof z||t instanceof Jr||t instanceof Ur)}function no(t,e,n){if(!eo(n)||!L(n)){var r=j(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function ro(t,e){if(e instanceof Ye)return e._internalPath;if("string"==typeof e)return oo(t,e);throw new w(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function oo(t,e){try{return function(t){if(t.search(Xe)>=0)throw new w(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Ye.bind.apply(Ye,[void 0].concat(t.split("."))))}catch(e){throw new w(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(e){var n=io(e);throw new w(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function io(t){return t instanceof Error?t.message:t.toString()}var ao="firestore.googleapis.com",so=!0,uo=!1,co=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new w(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ao,this.ssl=so}else P("settings","string","host",t.host),this.host=t.host,x("settings","boolean","ssl",t.ssl),this.ssl=S(t.ssl,so);V("settings",t,["host","ssl","credentials","timestampsInSnapshots"]),x("settings","object","credentials",t.credentials),this.credentials=t.credentials,x("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),this.timestampsInSnapshots=S(t.timestampsInSnapshots,uo)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials},t}(),lo=function(){},ho=function(){function t(e){var n=this;this._queue=new _r,this.INTERNAL={delete:function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return this._firestoreClient?[2,this._firestoreClient.shutdown(t)]:[2]})})}};var r=new lo;if("object"==typeof e.options){var o=e;r.firebaseApp=o,r.databaseId=t.databaseIdFromApp(o),r.persistenceKey=r.firebaseApp.name,r.credentials=new Lr(o)}else{var i=e;if(!i.projectId)throw new w(_.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new tt(i.projectId,i.database),r.persistenceKey="[DEFAULT]",r.credentials=new $r}r.settings=new co({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(D("Firestore.settings",arguments,1),R("Firestore.settings","object",1,t),C(t,"persistence"))throw new w(_.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new co(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new w(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new $r;switch(t.type){case"gapi":return new Fr(t.client,t.sessionIndex||"0");case"provider":return t.client;default:throw new w(_.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(){if(this._firestoreClient)throw new w(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(!0)},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(!1),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;g(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),this._config.settings.timestampsInSnapshots||p("\nThe behavior for Date objects stored in Firestore is going to change\nAND YOUR APP MAY BREAK.\nTo hide this warning and ensure your app does not break, you need to add the\nfollowing code to your app before calling any other Cloud Firestore methods:\n\n  const firestore = firebase.firestore();\n  const settings = {/* your settings... */ timestampsInSnapshots: true};\n  firestore.settings(settings);\n\nWith this change, timestamps stored in Cloud Firestore will be read back as\nFirebase Timestamp objects instead of as system Date objects. So you will also\nneed to update code expecting a Date to instead expect a Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at');\n  const date = timestamp.toDate();\n\nPlease audit all existing usages of Date when you enable the new behavior. In a\nfuture release, the behavior will change to the new behavior, so if you do not\nfollow these steps, YOUR APP MAY BREAK."),g(!this._firestoreClient,"configureClient() called multiple times");var n=new function(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r}(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new to(function(t){if(t instanceof vo){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new w(_.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Jr(e._config.databaseId,t._key)}return t}),this._firestoreClient=new Pr(m.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!C(e,"projectId")){if(C(e,"firestoreId"))throw new w(_.INVALID_ARGUMENT,'"firestoreId" is now specified as "projectId" in firebase.initializeApp.');throw new w(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.')}if(C(e,"firestoreOptions"))throw new w(_.INVALID_ARGUMENT,'"firestoreOptions" values are now specified with Firestore.settings()');var n=e.projectId;if(!n||"string"!=typeof n)throw new w(_.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new tt(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new w(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(D("Firestore.collection",arguments,1),R("Firestore.collection","string",1,t),!t)throw new w(_.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new wo(nt.fromString(t),this)},t.prototype.doc=function(t){if(D("Firestore.doc",arguments,1),R("Firestore.doc","string",1,t),!t)throw new w(_.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),vo.forPath(nt.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return D("Firestore.runTransaction",arguments,1),R("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new fo(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new po(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(h()){case l.DEBUG:return"debug";case l.ERROR:return"error";case l.SILENT:return"silent";default:return y("Unknown log level: "+h())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(D("Firestore.setLogLevel",arguments,1),R("Firestore.setLogLevel","string",1,t),t){case"debug":d(l.DEBUG);break;case"error":d(l.ERROR);break;case"silent":d(l.SILENT);break;default:throw new w(_.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),fo=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;D("Transaction.get",arguments,1);var n=So("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return y("Mismatch in docs returned from document lookup.");var r=t[0];return new go(e._firestore,n._key,r instanceof st?null:r,!1)})},t.prototype.set=function(t,e,n){A("Transaction.set",arguments,2,3);var r=So("Transaction.set",t,this._firestore),o=(n=Eo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r,o,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return"string"==typeof e||e instanceof Ye?(N("Transaction.update",arguments,3),r=So("Transaction.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,i)):(D("Transaction.update",arguments,2),r=So("Transaction.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,o),this},t.prototype.delete=function(t){D("Transaction.delete",arguments,1);var e=So("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),po=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){A("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=So("WriteBatch.set",t,this._firestore),o=(n=Eo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(o.toMutations(r._key,Xt.NONE)),this},t.prototype.update=function(t,e,n){for(var r,o,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof e||e instanceof Ye?(N("WriteBatch.update",arguments,3),r=So("WriteBatch.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,i)):(D("WriteBatch.update",arguments,2),r=So("WriteBatch.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(o.toMutations(r._key,Xt.exists(!0))),this},t.prototype.delete=function(t){D("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=So("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new ne(e._key,Xt.NONE)),this},t.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new w(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),vo=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new w(_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new it(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new wo(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(D("DocumentReference.collection",arguments,1),R("DocumentReference.collection","string",1,t),!t)throw new w(_.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=nt.fromString(t);return new wo(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw U("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){A("DocumentReference.set",arguments,1,2);var n=(e=Eo("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,Xt.NONE))},t.prototype.update=function(t,e){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return"string"==typeof t||t instanceof Ye?(N("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(D("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,Xt.exists(!0)))},t.prototype.delete=function(){return D("DocumentReference.delete",arguments,0),this._firestoreClient.write([new ne(this._key,Xt.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];A("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||Vr(t[o])||(V("DocumentReference.onSnapshot",r=t[o],["includeMetadataChanges"]),x("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++);var i={includeMetadataChanges:r.includeMetadataChanges};return Vr(t[o])?n=t[o]:(R("DocumentReference.onSnapshot","function",o,t[o]),k("DocumentReference.onSnapshot","function",o+1,t[o+1]),k("DocumentReference.onSnapshot","function",o+2,t[o+2]),n={next:t[o],error:t[o+1],complete:t[o+2]}),this.onSnapshotInternal(i,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var o=new xr({next:function(t){if(e.next){g(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new go(n.firestore,n._key,r,t.fromCache))}},error:r}),i=this._firestoreClient.listen(xt.atPath(this._key.path),o,t);return function(){o.mute(),n._firestoreClient.unlisten(i)}},t.prototype.get=function(t){var e=this;return V("DocumentReference.get",t,["source"]),t&&M("DocumentReference.get",0,"source",t.source,["default","server","cache"]),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new go(e.firestore,e._key,t,!0))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),!o.exists&&o.metadata.fromCache?e(new w(_.UNAVAILABLE,"Failed to get document because the client is offline.")):o.exists&&o.metadata.fromCache&&n&&"server"===n.source?e(new w(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(o)},error:e})},t}(),yo=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),go=function(){function t(t,e,n,r){this._firestore=t,this._key=e,this._document=n,this._fromCache=r}return t.prototype.data=function(t){return A("DocumentSnapshot.data",arguments,0,1),t=Co("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,ft.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(A("DocumentSnapshot.get",arguments,1,2),e=Co("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(ro("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,ft.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new vo(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new yo(null!==this._document&&this._document.hasLocalMutations,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw U("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,o){r[t]=n.convertValue(o,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof Ot)return this.convertObject(t,e);if(t instanceof Dt)return this.convertArray(t,e);if(t instanceof Tt){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||p("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new vo(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),mo=function(t){function e(e,n,r,o){return t.call(this,e,n,r,o)||this}return a.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return g("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(go),bo=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){var o;D("Query.where",arguments,3),R("Query.where","string",2,n),F("Query.where",3,r);var i=ro("Query.where",e),a=$t.fromString(n);if(i.isKeyField()){if(a===$t.ARRAY_CONTAINS)throw new w(_.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof r){if(-1!==r.indexOf("/"))throw new w(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new w(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var s=this._query.path.child(new nt([r]));g(s.length%2==0,"Path should be a document key"),o=new Tt(this.firestore._databaseId,new it(s))}else{if(!(r instanceof vo))throw new w(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+j(r)+".");o=new Tt(this.firestore._databaseId,r._key)}}else o=this.firestore._dataConverter.parseQueryValue("Query.where",r);var u=Mt.create(i,a,o);return this.validateNewFilter(u),new t(this._query.addFilter(u),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(A("Query.orderBy",arguments,1,2),k("Query.orderBy","string",2,n),void 0===n||"asc"===n)r=Vt.ASCENDING;else{if("desc"!==n)throw new w(_.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Vt.DESCENDING}if(null!==this._query.startAt)throw new w(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new w(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var o=ro("Query.orderBy",e),i=new Bt(o,r);return this.validateNewOrderBy(i),new t(this._query.addOrderBy(i),this.firestore)},t.prototype.limit=function(e){if(D("Query.limit",arguments,1),R("Query.limit","number",1,e),e<=0)throw new w(_.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.startAt",arguments,1);var o=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(o),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.startAfter",arguments,1);var o=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(o),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.endBefore",arguments,1);var o=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(o),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.endAt",arguments,1);var o=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(o),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw U("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(F(t,1,e),e instanceof go){if(n.length>0)throw new w(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var o=e;if(!o.exists)throw new w(_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,o._document,r)}var i=[e].concat(n);return this.boundFromFields(t,i,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],o=0,i=this._query.orderBy;o<i.length;o++){var a=i[o];if(a.field.isKeyField())r.push(new Tt(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(void 0===s){var u=a.field.canonicalString();throw new w(_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Ut(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new w(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var o=[],i=0;i<e.length;i++){var a=e[i];if(r[i].field.isKeyField()){if("string"!=typeof a)throw new w(_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(-1!==a.indexOf("/"))throw new w(_.INVALID_ARGUMENT,"Invalid query. Document ID '"+a+"' contains a slash in "+t+"()");var s=new it(this._query.path.child(a));o.push(new Tt(this.firestore._databaseId,s))}else{var u=this.firestore._dataConverter.parseQueryValue(t,a);o.push(u)}}return new Ut(o,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];A("Query.onSnapshot",arguments,1,4);var n,r={},o=0;return"object"!=typeof t[o]||Vr(t[o])||(V("Query.onSnapshot",r=t[o],["includeMetadataChanges"]),x("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++),Vr(t[o])?n=t[o]:(R("Query.onSnapshot","function",o,t[o]),k("Query.onSnapshot","function",o+1,t[o+1]),k("Query.onSnapshot","function",o+2,t[o+2]),n={next:t[o],error:t[o+1],complete:t[o+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var o=new xr({next:function(t){e.next&&e.next(new _o(n.firestore,n._query,t))},error:r}),i=this.firestore.ensureClientConfigured(),a=i.listen(this._query,o,t);return function(){o.mute(),i.unlisten(a)}},t.prototype.get=function(t){var e=this;return A("Query.get",arguments,0,1),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new _o(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),o.metadata.fromCache&&n&&"server"===n.source?e(new w(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(o)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof Lt)if(t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new w(_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}else if(t.op===$t.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new w(_.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new w(_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),_o=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new yo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;A("QuerySnapshot.forEach",arguments,1,2),R("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new bo(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){V("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),t&&x("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges);var e=t&&t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new w(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,o=0;return n.docChanges.map(function(e){var i=new mo(t,e.doc.key,e.doc,n.fromCache);return g(e.type===ge.Added,"Invalid event type for first snapshot"),g(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:o++}})}var i=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==ge.Metadata}).map(function(e){var r=new mo(t,e.doc.key,e.doc,n.fromCache),o=-1,a=-1;return e.type!==ge.Added&&(g((o=i.indexOf(e.doc.key))>=0,"Index for document not found"),i=i.delete(e.doc.key)),e.type!==ge.Removed&&(a=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case ge.Added:return"added";case ge.Modified:case ge.Metadata:return"modified";case ge.Removed:return"removed";default:return y("Unknown change type: "+t)}}(e.type),doc:r,oldIndex:o,newIndex:a}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw U("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new mo(this._firestore,t.key,t,this.metadata.fromCache)},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(_o.prototype.docChanges,t,{get:function(){return function(){throw new w(_.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}});var wo=function(t){function e(e,n){var r=t.call(this,xt.atPath(e),n)||this;if(e.length%2!=1)throw new w(_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return a.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new vo(new it(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(A("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=H.newId()),R("CollectionReference.doc","string",1,t),""===t)throw new w(_.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=nt.fromString(t);return vo.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){D("CollectionReference.add",arguments,1),R("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(bo);function Eo(t,e){if(void 0===e)return{merge:!1};if(V(t,e,["merge","mergeFields"]),x(t,"boolean","merge",e.merge),void 0!==(n=e.mergeFields)&&function(t,e,n,r,o){if(!(r instanceof Array))throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+j(r));for(var i=0;i<r.length;++i)if(!("string"==typeof(a=r[i])||a instanceof Ye))throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+i+" was: "+j(r[i]));var a}(t,0,0,n),void 0!==e.mergeFields&&void 0!==e.merge)throw new w(_.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function Co(t,e){return void 0===e?{}:(V(t,e,["serverTimestamps"]),M(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function So(t,e,n){if(e instanceof vo){if(e.firestore!==n)throw new w(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw U(t,"DocumentReference",1,e)}var To=E(ho,"Use firebase.firestore() instead."),Io=E(fo,"Use firebase.firestore().runTransaction() instead."),Oo=E(po,"Use firebase.firestore().batch() instead."),Do=E(vo,"Use firebase.firestore().doc() instead."),No=E(go),Ao=E(mo),Ro=E(bo),ko=E(_o),Po=E(wo,"Use firebase.firestore().collection() instead."),xo={Firestore:To,GeoPoint:X,Timestamp:Z,Blob:Y,Transaction:Io,WriteBatch:Oo,DocumentReference:Do,DocumentSnapshot:No,Query:Ro,QueryDocumentSnapshot:Ao,QuerySnapshot:ko,CollectionReference:Po,FieldPath:Ye,FieldValue:Gr,setLogLevel:ho.setLogLevel};function Mo(t){t.INTERNAL.registerService("firestore",function(t){return new ho(t)},function(t){g(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(xo))}Mo(o),e.registerFirestore=Mo},"6ahw":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("iLxQ"),o=n("DKTb"),i={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(o.a)(t)},complete:function(){}}},"6blF":function(t,e,n){"use strict";var r=n("FFOo"),o=n("L/V9"),i=n("6ahw"),a=n("xTla"),s=n("y3By"),u=n("iLxQ");n.d(e,"a",function(){return c});var c=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,s=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new r.a(t,e,n):new r.a(i.a)}(t,e,n);if(a?a.call(s,this.source):s.add(this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=l(e))(function(e,r){var o;o=n.subscribe(function(e){try{t(e)}catch(t){r(t),o&&o.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(s.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=l(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"7Qw6":function(t,e,n){"use strict";n.r(e),n.d(e,"using",function(){return a});var r=n("6blF"),o=n("0/uQ"),i=n("G5J1");function a(t,e){return new r.a(function(n){var r,a;try{r=t()}catch(t){return void n.error(t)}try{a=e(r)}catch(t){return void n.error(t)}var s=(a?Object(o.a)(a):i.a).subscribe(n);return function(){s.unsubscribe(),r&&r.unsubscribe()}})}},"7h4N":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("N2oW"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.ngOnInit=function(){this.validator=i.max(this.max)},t.prototype.ngOnChanges=function(t){for(var e in t)"max"===e&&(this.validator=i.max(t[e].currentValue),this.onChange&&this.onChange())},t.prototype.validate=function(t){return this.validator(t)},t.prototype.registerOnValidatorChange=function(t){this.onChange=t},t.decorators=[{type:r.Directive,args:[{selector:"[max][formControlName],[max][formControl],[max][ngModel]",providers:[a]}]}],t.propDecorators={max:[{type:r.Input}]},t}();e.MaxValidator=s},"7yqV":function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("wrUr")),r(n("3ELE"))},"8g8A":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),o=function(t){function e(){var n=t.call(this,"object unsubscribed")||this;return n.name="ObjectUnsubscribedError",Object.setPrototypeOf(n,e.prototype),n}return r.b(e,t),e}(Error)},"8r50":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("t1MI"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.validate=function(t){return i.url(t)},t.decorators=[{type:r.Directive,args:[{selector:"[url][formControlName],[url][formControl],[url][ngModel]",providers:[a]}]}],t}();e.UrlValidator=s},"909l":function(t,e,n){"use strict";n.r(e),n.d(e,"zip",function(){return l}),n.d(e,"ZipOperator",function(){return h}),n.d(e,"ZipSubscriber",function(){return d});var r=n("mrSG"),o=n("IUTb"),i=n("isby"),a=n("FFOo"),s=n("MGBS"),u=n("zotm"),c=n("En8+");function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),Object(o.a)(t,void 0).lift(new h(n))}var h=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new d(t,this.resultSelector))},t}(),d=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null));var o=t.call(this,e)||this;return o.iterators=[],o.active=0,o.resultSelector="function"==typeof n?n:null,o.values=r,o}return r.b(e,t),e.prototype._next=function(t){var e=this.iterators;Object(i.a)(t)?e.push(new p(t)):e.push("function"==typeof t[c.a]?new f(t[c.a]()):new v(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.add(r.subscribe(r,n)):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++)if("function"==typeof(a=t[r]).hasValue&&!a.hasValue())return;var o=!1,i=[];for(r=0;r<e;r++){var a,s=(a=t[r]).next();if(a.hasCompleted()&&(o=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),o&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(a.a),f=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),p=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[c.a]=function(){return this},t.prototype.next=function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),v=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.parent=n,o.observable=r,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return r.b(e,t),e.prototype[c.a]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return Object(u.a)(this,this.observable,this,e)},e}(s.a)},"93I4":function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"9eTs":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.equalTo=function(t){var e=!1;return function(n){return e||(e=!0,t.valueChanges.subscribe(function(){n.updateValueAndValidity()})),t.value===n.value?null:{equalTo:!0}}}},ABqa:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n("t7fG"),i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,a={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},s=function(t){function e(n,r,o){var i=t.call(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i.code=n,i.details=o,i}return o.__extends(e,t),e}(Error),u=function(){function t(t){this.app=t}return t.prototype.getAuthToken=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.app.INTERNAL.getToken()];case 1:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 2:return e.sent(),[2,void 0];case 3:return[2]}})})},t.prototype.getInstanceIdToken=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.app.messaging?[4,this.app.messaging().getToken()]:[2,void 0];case 1:return(t=e.sent())?[2,t]:[2,void 0];case 2:return e.sent(),[2,void 0];case 3:return[2]}})})},t.prototype.getContext=function(){return o.__awaiter(this,void 0,void 0,function(){var t,e;return o.__generator(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}();function c(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var l=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null===t||void 0===t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"==typeof t||"object"==typeof t)return c(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null===t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=parseFloat(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?c(t,function(t){return e.decode(t)}):t},t}(),h=function(){function t(t,e){void 0===e&&(e="us-central1"),this.app_=t,this.region_=e,this.serializer=new l,this.emulatorOrigin=null,this.contextProvider=new u(t)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId,n=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+n+"/"+t:"https://"+n+"-"+e+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t){var e=this;return function(n){return e.call(t,n)}},t.prototype.postJSON=function(t,e,n){return o.__awaiter(this,void 0,void 0,function(){var r,i;return o.__generator(this,function(o){switch(o.label){case 0:n.append("Content-Type","application/json"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}})})},t.prototype.call=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,u,c,l,h;return o.__generator(this,function(o){switch(o.label){case 0:return n=this._url(t),e=this.serializer.encode(e),r={data:e},i=new Headers,[4,this.contextProvider.getContext()];case 1:return(u=o.sent()).authToken&&i.append("Authorization","Bearer "+u.authToken),u.instanceIdToken&&i.append("Firebase-Instance-ID-Token",u.instanceIdToken),[4,this.postJSON(n,r,i)];case 2:if(c=o.sent(),l=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(c.status),o=r,i=void 0;try{var u=e.error;if(u){var l=u.status;if("string"==typeof l){if(!a[l])return new s("internal","internal");r=a[l]}o=l;var h=u.message;"string"==typeof h&&(o=h),void 0!==(i=u.details)&&(i=n.decode(i))}}catch(t){}return"ok"===r?null:new s(r,o,i)}(0,c.json,this.serializer))throw l;if(!c.json)throw new s("internal","Response is not valid JSON object.");if(void 0===(h=c.json.data)&&(h=c.json.result),void 0===h)throw new s("internal","Response is missing data field.");return[2,{data:this.serializer.decode(h)}]}})})},t}(),d="functions";function f(t,e,n){return new h(t,n)}function p(t){t.INTERNAL.registerService(d,f,{Functions:h},void 0,!0)}p(i),e.registerFunctions=p},AHKl:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("2Gh/"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.ngOnInit=function(){this.validator=i.uuid(this.uuid)},t.prototype.ngOnChanges=function(t){for(var e in t)"uuid"===e&&(this.validator=i.uuid(t[e].currentValue),this.onChange&&this.onChange())},t.prototype.validate=function(t){return this.validator(t)},t.prototype.registerOnValidatorChange=function(t){this.onChange=t},t.decorators=[{type:r.Directive,args:[{selector:"[uuid][formControlName],[uuid][formControl],[uuid][ngModel]",providers:[a]}]}],t.propDecorators={uuid:[{type:r.Input}]},t}();e.UUIDValidator=s},"B+OT":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},COG4:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("+Vid")),r(n("VBAv"))},CSYt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.range=function(t){return function(e){if(!o.isPresent(t))return null;if(o.isPresent(r.Validators.required(e)))return null;var n=+e.value;return n>=t[0]&&n<=t[1]?null:{actualValue:n,requiredValue:t,range:!0}}}},CcnG:function(t,e,n){"use strict";n.r(e),n.d(e,"\u0275angular_packages_core_core_l",function(){return Wr}),n.d(e,"\u0275angular_packages_core_core_i",function(){return Br}),n.d(e,"\u0275angular_packages_core_core_j",function(){return qr}),n.d(e,"\u0275angular_packages_core_core_k",function(){return Hr}),n.d(e,"\u0275angular_packages_core_core_f",function(){return Ae}),n.d(e,"\u0275angular_packages_core_core_g",function(){return Er}),n.d(e,"\u0275angular_packages_core_core_h",function(){return Nr}),n.d(e,"\u0275angular_packages_core_core_c",function(){return de}),n.d(e,"\u0275angular_packages_core_core_d",function(){return ee}),n.d(e,"\u0275angular_packages_core_core_e",function(){return ae}),n.d(e,"\u0275angular_packages_core_core_m",function(){return sn}),n.d(e,"\u0275angular_packages_core_core_o",function(){return nn}),n.d(e,"\u0275angular_packages_core_core_n",function(){return en}),n.d(e,"\u0275angular_packages_core_core_r",function(){return an}),n.d(e,"\u0275angular_packages_core_core_p",function(){return rn}),n.d(e,"\u0275angular_packages_core_core_q",function(){return on}),n.d(e,"\u0275angular_packages_core_core_v",function(){return Hd}),n.d(e,"\u0275angular_packages_core_core_y",function(){return Zd}),n.d(e,"\u0275angular_packages_core_core_x",function(){return Yd}),n.d(e,"\u0275angular_packages_core_core_w",function(){return Wd}),n.d(e,"\u0275angular_packages_core_core_u",function(){return Md}),n.d(e,"\u0275angular_packages_core_core_z",function(){return tf}),n.d(e,"\u0275angular_packages_core_core_ba",function(){return zh}),n.d(e,"\u0275angular_packages_core_core_bb",function(){return Wu}),n.d(e,"\u0275angular_packages_core_core_a",function(){return g}),n.d(e,"\u0275angular_packages_core_core_b",function(){return m}),n.d(e,"\u0275angular_packages_core_core_s",function(){return va}),n.d(e,"\u0275angular_packages_core_core_t",function(){return Ao}),n.d(e,"createPlatform",function(){return kn}),n.d(e,"assertPlatform",function(){return xn}),n.d(e,"destroyPlatform",function(){return Mn}),n.d(e,"getPlatform",function(){return $n}),n.d(e,"PlatformRef",function(){return Ln}),n.d(e,"ApplicationRef",function(){return Fn}),n.d(e,"enableProdMode",function(){return Nn}),n.d(e,"isDevMode",function(){return An}),n.d(e,"createPlatformFactory",function(){return Pn}),n.d(e,"NgProbeToken",function(){return Rn}),n.d(e,"APP_ID",function(){return Ne}),n.d(e,"PACKAGE_ROOT_URL",function(){return $e}),n.d(e,"PLATFORM_INITIALIZER",function(){return Pe}),n.d(e,"PLATFORM_ID",function(){return xe}),n.d(e,"APP_BOOTSTRAP_LISTENER",function(){return Me}),n.d(e,"APP_INITIALIZER",function(){return Oe}),n.d(e,"ApplicationInitStatus",function(){return De}),n.d(e,"DebugElement",function(){return lr}),n.d(e,"DebugNode",function(){return cr}),n.d(e,"asNativeElements",function(){return hr}),n.d(e,"getDebugNode",function(){return vr}),n.d(e,"Testability",function(){return wn}),n.d(e,"TestabilityRegistry",function(){return En}),n.d(e,"setTestabilityGetter",function(){return Cn}),n.d(e,"TRANSLATIONS",function(){return Fr}),n.d(e,"TRANSLATIONS_FORMAT",function(){return Vr}),n.d(e,"LOCALE_ID",function(){return jr}),n.d(e,"MissingTranslationStrategy",function(){return Ur}),n.d(e,"ApplicationModule",function(){return Gr}),n.d(e,"wtfCreateScope",function(){return cn}),n.d(e,"wtfLeave",function(){return ln}),n.d(e,"wtfStartTimeRange",function(){return hn}),n.d(e,"wtfEndTimeRange",function(){return dn}),n.d(e,"Type",function(){return L}),n.d(e,"EventEmitter",function(){return fn}),n.d(e,"ErrorHandler",function(){return Kt}),n.d(e,"Sanitizer",function(){return Eo}),n.d(e,"SecurityContext",function(){return wo}),n.d(e,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return b}),n.d(e,"Attribute",function(){return _}),n.d(e,"ContentChild",function(){return C}),n.d(e,"ContentChildren",function(){return E}),n.d(e,"Query",function(){return w}),n.d(e,"ViewChild",function(){return T}),n.d(e,"ViewChildren",function(){return S}),n.d(e,"Component",function(){return R}),n.d(e,"Directive",function(){return A}),n.d(e,"HostBinding",function(){return M}),n.d(e,"HostListener",function(){return $}),n.d(e,"Input",function(){return P}),n.d(e,"Output",function(){return x}),n.d(e,"Pipe",function(){return k}),n.d(e,"CUSTOM_ELEMENTS_SCHEMA",function(){return Mt}),n.d(e,"NO_ERRORS_SCHEMA",function(){return $t}),n.d(e,"NgModule",function(){return Lt}),n.d(e,"ViewEncapsulation",function(){return jt}),n.d(e,"Version",function(){return Ft}),n.d(e,"VERSION",function(){return Vt}),n.d(e,"defineInjectable",function(){return c}),n.d(e,"defineInjector",function(){return l}),n.d(e,"forwardRef",function(){return tt}),n.d(e,"resolveForwardRef",function(){return et}),n.d(e,"Injectable",function(){return xt}),n.d(e,"inject",function(){return Dt}),n.d(e,"INJECTOR",function(){return lt}),n.d(e,"Injector",function(){return dt}),n.d(e,"ReflectiveInjector",function(){return he}),n.d(e,"createInjector",function(){return be}),n.d(e,"ResolvedReflectiveFactory",function(){return oe}),n.d(e,"ReflectiveKey",function(){return Zt}),n.d(e,"InjectionToken",function(){return h}),n.d(e,"Inject",function(){return nt}),n.d(e,"Optional",function(){return rt}),n.d(e,"Self",function(){return ot}),n.d(e,"SkipSelf",function(){return it}),n.d(e,"Host",function(){return at}),n.d(e,"NgZone",function(){return pn}),n.d(e,"RenderComponentType",function(){return Un}),n.d(e,"Renderer",function(){return qn}),n.d(e,"Renderer2",function(){return Kn}),n.d(e,"RendererFactory2",function(){return Wn}),n.d(e,"RendererStyleFlags2",function(){return Gn}),n.d(e,"RootRenderer",function(){return Hn}),n.d(e,"COMPILER_OPTIONS",function(){return Ue}),n.d(e,"Compiler",function(){return Ve}),n.d(e,"CompilerFactory",function(){return Be}),n.d(e,"ModuleWithComponentFactories",function(){return je}),n.d(e,"ComponentFactory",function(){return He}),n.d(e,"ComponentRef",function(){return qe}),n.d(e,"ComponentFactoryResolver",function(){return Ye}),n.d(e,"ElementRef",function(){return Qn}),n.d(e,"NgModuleFactory",function(){return tn}),n.d(e,"NgModuleRef",function(){return Je}),n.d(e,"NgModuleFactoryLoader",function(){return zn}),n.d(e,"getModuleFactory",function(){return Zn}),n.d(e,"QueryList",function(){return Jn}),n.d(e,"SystemJsNgModuleLoader",function(){return nr}),n.d(e,"SystemJsNgModuleLoaderConfig",function(){return tr}),n.d(e,"TemplateRef",function(){return or}),n.d(e,"ViewContainerRef",function(){return ir}),n.d(e,"EmbeddedViewRef",function(){return ur}),n.d(e,"ViewRef",function(){return sr}),n.d(e,"ChangeDetectionStrategy",function(){return I}),n.d(e,"ChangeDetectorRef",function(){return ar}),n.d(e,"DefaultIterableDiffer",function(){return Sr}),n.d(e,"IterableDiffers",function(){return kr}),n.d(e,"KeyValueDiffers",function(){return Pr}),n.d(e,"SimpleChange",function(){return br}),n.d(e,"WrappedValue",function(){return mr}),n.d(e,"platformCore",function(){return Lr}),n.d(e,"\u0275ALLOW_MULTIPLE_PLATFORMS",function(){return Dn}),n.d(e,"\u0275APP_ID_RANDOM_PROVIDER",function(){return Re}),n.d(e,"\u0275defaultIterableDiffers",function(){return Mr}),n.d(e,"\u0275defaultKeyValueDiffers",function(){return $r}),n.d(e,"\u0275devModeEqual",function(){return gr}),n.d(e,"\u0275isListLikeIterable",function(){return _r}),n.d(e,"\u0275ChangeDetectorStatus",function(){return O}),n.d(e,"\u0275isDefaultChangeDetectionStrategy",function(){return D}),n.d(e,"\u0275Console",function(){return Le}),n.d(e,"\u0275inject",function(){return Dt}),n.d(e,"\u0275setCurrentInjector",function(){return Ot}),n.d(e,"\u0275APP_ROOT",function(){return fe}),n.d(e,"\u0275ivyEnabled",function(){return N}),n.d(e,"\u0275ComponentFactory",function(){return He}),n.d(e,"\u0275CodegenComponentFactoryResolver",function(){return Xe}),n.d(e,"\u0275resolveComponentResources",function(){return Kr}),n.d(e,"\u0275ReflectionCapabilities",function(){return X}),n.d(e,"\u0275RenderDebugInfo",function(){return Bn}),n.d(e,"\u0275_sanitizeHtml",function(){return yo}),n.d(e,"\u0275_sanitizeStyle",function(){return _o}),n.d(e,"\u0275_sanitizeUrl",function(){return Jr}),n.d(e,"\u0275global",function(){return U}),n.d(e,"\u0275looseIdentical",function(){return G}),n.d(e,"\u0275stringify",function(){return K}),n.d(e,"\u0275makeDecorator",function(){return v}),n.d(e,"\u0275isObservable",function(){return Ie}),n.d(e,"\u0275isPromise",function(){return Te}),n.d(e,"\u0275clearOverrides",function(){return Js}),n.d(e,"\u0275initServicesIfNeeded",function(){return ds}),n.d(e,"\u0275overrideComponentView",function(){return Zs}),n.d(e,"\u0275overrideProvider",function(){return Xs}),n.d(e,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",function(){return Ea}),n.d(e,"\u0275defineComponent",function(){return dd}),n.d(e,"\u0275defineDirective",function(){return md}),n.d(e,"\u0275definePipe",function(){return bd}),n.d(e,"\u0275defineNgModule",function(){return vd}),n.d(e,"\u0275detectChanges",function(){return Th}),n.d(e,"\u0275renderComponent",function(){return cd}),n.d(e,"\u0275directiveInject",function(){return jd}),n.d(e,"\u0275injectElementRef",function(){return Fd}),n.d(e,"\u0275injectTemplateRef",function(){return Vd}),n.d(e,"\u0275injectViewContainerRef",function(){return Ud}),n.d(e,"\u0275injectChangeDetectorRef",function(){return Bd}),n.d(e,"\u0275injectAttribute",function(){return qd}),n.d(e,"\u0275PublicFeature",function(){return nf}),n.d(e,"\u0275InheritDefinitionFeature",function(){return wd}),n.d(e,"\u0275NgOnChangesFeature",function(){return Cd}),n.d(e,"\u0275markDirty",function(){return Oh}),n.d(e,"\u0275NgModuleFactory",function(){return _f}),n.d(e,"\u0275NC",function(){return Dh}),n.d(e,"\u0275C",function(){return hh}),n.d(e,"\u0275E",function(){return Pl}),n.d(e,"\u0275NH",function(){return Rl}),n.d(e,"\u0275NM",function(){return Al}),n.d(e,"\u0275NS",function(){return Nl}),n.d(e,"\u0275Ee",function(){return kl}),n.d(e,"\u0275L",function(){return Gl}),n.d(e,"\u0275T",function(){return ah}),n.d(e,"\u0275V",function(){return ph}),n.d(e,"\u0275Q",function(){return Gf}),n.d(e,"\u0275Qr",function(){return td}),n.d(e,"\u0275d",function(){return Hh}),n.d(e,"\u0275P",function(){return _h}),n.d(e,"\u0275b",function(){return Ah}),n.d(e,"\u0275i1",function(){return Mh}),n.d(e,"\u0275i2",function(){return $h}),n.d(e,"\u0275i3",function(){return Lh}),n.d(e,"\u0275i4",function(){return jh}),n.d(e,"\u0275i5",function(){return Fh}),n.d(e,"\u0275i6",function(){return Vh}),n.d(e,"\u0275i7",function(){return Uh}),n.d(e,"\u0275i8",function(){return Bh}),n.d(e,"\u0275iV",function(){return xh}),n.d(e,"\u0275pb1",function(){return kf}),n.d(e,"\u0275pb2",function(){return Pf}),n.d(e,"\u0275pb3",function(){return xf}),n.d(e,"\u0275pb4",function(){return Mf}),n.d(e,"\u0275pbV",function(){return $f}),n.d(e,"\u0275f0",function(){return wf}),n.d(e,"\u0275f1",function(){return Ef}),n.d(e,"\u0275f2",function(){return Cf}),n.d(e,"\u0275f3",function(){return Sf}),n.d(e,"\u0275f4",function(){return Tf}),n.d(e,"\u0275f5",function(){return If}),n.d(e,"\u0275f6",function(){return Of}),n.d(e,"\u0275f7",function(){return Df}),n.d(e,"\u0275f8",function(){return Nf}),n.d(e,"\u0275fV",function(){return Af}),n.d(e,"\u0275cR",function(){return dh}),n.d(e,"\u0275cr",function(){return fh}),n.d(e,"\u0275qR",function(){return Kf}),n.d(e,"\u0275ql",function(){return Wh}),n.d(e,"\u0275e",function(){return zl}),n.d(e,"\u0275p",function(){return Xl}),n.d(e,"\u0275pD",function(){return mh}),n.d(e,"\u0275rS",function(){return Rh}),n.d(e,"\u0275a",function(){return Yl}),n.d(e,"\u0275s",function(){return eh}),n.d(e,"\u0275sm",function(){return ih}),n.d(e,"\u0275sp",function(){return oh}),n.d(e,"\u0275sa",function(){return rh}),n.d(e,"\u0275cp",function(){return th}),n.d(e,"\u0275t",function(){return sh}),n.d(e,"\u0275v",function(){return vh}),n.d(e,"\u0275st",function(){return qh}),n.d(e,"\u0275ld",function(){return Gh}),n.d(e,"\u0275Pp",function(){return Rf}),n.d(e,"\u0275whenRendered",function(){return hd}),n.d(e,"\u0275iA",function(){return sf}),n.d(e,"\u0275iEM",function(){return uf}),n.d(e,"\u0275iI1",function(){return cf}),n.d(e,"\u0275iI2",function(){return lf}),n.d(e,"\u0275iI3",function(){return hf}),n.d(e,"\u0275iI4",function(){return df}),n.d(e,"\u0275iI5",function(){return ff}),n.d(e,"\u0275iI6",function(){return pf}),n.d(e,"\u0275iI7",function(){return vf}),n.d(e,"\u0275iI8",function(){return yf}),n.d(e,"\u0275IV",function(){return gf}),n.d(e,"\u0275iM",function(){return of}),n.d(e,"\u0275sanitizeHtml",function(){return np}),n.d(e,"\u0275sanitizeStyle",function(){return rp}),n.d(e,"\u0275sanitizeUrl",function(){return op}),n.d(e,"\u0275sanitizeResourceUrl",function(){return ip}),n.d(e,"\u0275bypassSanitizationTrustHtml",function(){return Yf}),n.d(e,"\u0275bypassSanitizationTrustStyle",function(){return Xf}),n.d(e,"\u0275bypassSanitizationTrustScript",function(){return Zf}),n.d(e,"\u0275bypassSanitizationTrustUrl",function(){return Jf}),n.d(e,"\u0275bypassSanitizationTrustResourceUrl",function(){return tp}),n.d(e,"\u0275registerModuleFactory",function(){return Xn}),n.d(e,"\u0275EMPTY_ARRAY",function(){return bi}),n.d(e,"\u0275EMPTY_MAP",function(){return _i}),n.d(e,"\u0275and",function(){return wi}),n.d(e,"\u0275ccf",function(){return Ui}),n.d(e,"\u0275cmf",function(){return tu}),n.d(e,"\u0275crt",function(){return Uo}),n.d(e,"\u0275did",function(){return da}),n.d(e,"\u0275eld",function(){return Ei}),n.d(e,"\u0275elementEventFullName",function(){return Jo}),n.d(e,"\u0275getComponentViewDefinitionFactory",function(){return Bi}),n.d(e,"\u0275inlineInterpolate",function(){return gi}),n.d(e,"\u0275interpolate",function(){return yi}),n.d(e,"\u0275mod",function(){return ki}),n.d(e,"\u0275mpd",function(){return Ri}),n.d(e,"\u0275ncd",function(){return xa}),n.d(e,"\u0275nov",function(){return Ji}),n.d(e,"\u0275pid",function(){return fa}),n.d(e,"\u0275prd",function(){return pa}),n.d(e,"\u0275pad",function(){return La}),n.d(e,"\u0275pod",function(){return ja}),n.d(e,"\u0275ppd",function(){return $a}),n.d(e,"\u0275qud",function(){return Na}),n.d(e,"\u0275ted",function(){return Va}),n.d(e,"\u0275unv",function(){return jo}),n.d(e,"\u0275vid",function(){return qa});var r=n("mrSG"),o=n("pugT"),i=n("K9Ia"),a=n("6blF"),s=n("p0ib"),u=n("S1nX");function c(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function l(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}var h=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?c({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),d="__annotations__",f="__parameters__",p="__prop__metadata__";function v(t,e,n,o,i){var a=y(e);function s(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof s)return a.call.apply(a,Object(r.d)([this],e)),this;var u=new((t=s).bind.apply(t,Object(r.d)([void 0],e))),c=function(t){return i&&i.apply(void 0,Object(r.d)([t],e)),(t.hasOwnProperty(d)?t[d]:Object.defineProperty(t,d,{value:[]})[d]).push(u),t};return o&&o(c),c}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s}function y(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var o=t.apply(void 0,Object(r.d)(e));for(var i in o)this[i]=o[i]}}}function g(t,e,n){var o=y(e);function i(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof i)return o.apply(this,e),this;var a=new((t=i).bind.apply(t,Object(r.d)([void 0],e)));return s.annotation=a,s;function s(t,e,n){for(var r=t.hasOwnProperty(f)?t[f]:Object.defineProperty(t,f,{value:[]})[f];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}function m(t,e,n){var o=y(e);function i(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof i)return o.apply(this,e),this;var a=new((t=i).bind.apply(t,Object(r.d)([void 0],e)));return function(t,e){var n=t.constructor,r=n.hasOwnProperty(p)?n[p]:Object.defineProperty(n,p,{value:{}})[p];r[e]=r.hasOwnProperty(e)&&r[e]||[],r[e].unshift(a)}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}var b=new h("AnalyzeForEntryComponents"),_=g("Attribute",function(t){return{attributeName:t}}),w=function(){},E=m("ContentChildren",function(t,e){return void 0===e&&(e={}),Object(r.a)({selector:t,first:!1,isViewQuery:!1,descendants:!1},e)},w),C=m("ContentChild",function(t,e){return void 0===e&&(e={}),Object(r.a)({selector:t,first:!0,isViewQuery:!1,descendants:!0},e)},w),S=m("ViewChildren",function(t,e){return void 0===e&&(e={}),Object(r.a)({selector:t,first:!1,isViewQuery:!0,descendants:!0},e)},w),T=m("ViewChild",function(t,e){return Object(r.a)({selector:t,first:!0,isViewQuery:!0,descendants:!0},e)},w),I=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),O=function(t){return t[t.CheckOnce=0]="CheckOnce",t[t.Checked=1]="Checked",t[t.CheckAlways=2]="CheckAlways",t[t.Detached=3]="Detached",t[t.Errored=4]="Errored",t[t.Destroyed=5]="Destroyed",t}({});function D(t){return null==t||t===I.Default}var N=!1,A=v("Directive",function(t){return void 0===t&&(t={}),t},void 0,void 0,function(t,e){}),R=v("Component",function(t){return void 0===t&&(t={}),Object(r.a)({changeDetection:I.Default},t)},A,void 0,function(t,e){}),k=v("Pipe",function(t){return Object(r.a)({pure:!0},t)},void 0,void 0,function(t,e){}),P=m("Input",function(t){return{bindingPropertyName:t}}),x=m("Output",function(t){return{bindingPropertyName:t}}),M=m("HostBinding",function(t){return{hostPropertyName:t}}),$=m("HostListener",function(t,e){return{eventName:t,args:e}}),L=Function;function j(t){return"function"==typeof t}var F="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global||F||V,B=Promise.resolve(0),q=null;function H(){if(!q){var t=U.Symbol;if(t&&t.iterator)q=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(q=r)}}return q}function W(t){"undefined"==typeof Zone?B.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function G(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function K(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(K).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var Q=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,z=/^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{/,Y=/^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{[\s\S]*constructor\s*\(/,X=function(){function t(t){this._reflect=t||U.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,Object(r.d)([void 0],e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=void 0===t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){var n=t.toString();if(Q.exec(n)||z.exec(n)&&!Y.exec(n))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var r=t.ctorParameters;if(r&&r!==e.ctorParameters){var o="function"==typeof r?r():r,i=o.map(function(t){return t&&t.type}),a=o.map(function(t){return t&&Z(t.decorators)});return this._zipTypesAndAnnotations(i,a)}var s=t.hasOwnProperty(f)&&t[f],u=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return u||s?this._zipTypesAndAnnotations(u,s):new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!j(t))return[];var e=J(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?Z(t.decorators):t.hasOwnProperty(d)?t[d]:null},t.prototype.annotations=function(t){if(!j(t))return[];var e=J(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,o={};return Object.keys(r).forEach(function(t){o[t]=Z(r[t])}),o}return t.hasOwnProperty(p)?t[p]:null},t.prototype.propMetadata=function(t){if(!j(t))return{};var e=J(t),n={};if(e!==Object){var o=this.propMetadata(e);Object.keys(o).forEach(function(t){n[t]=o[t]})}var i=this._ownPropMetadata(t,e);return i&&Object.keys(i).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,Object(r.d)(n[t])),e.push.apply(e,Object(r.d)(i[t])),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof L&&e in t.prototype},t.prototype.guards=function(t){return{}},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){return new Function("o","args","if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);")},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+K(t)},t.prototype.resourceUri=function(t){return"./"+K(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}();function Z(t){return t?t.map(function(t){var e=t.type.annotationCls,n=t.args?t.args:[];return new(e.bind.apply(e,Object(r.d)([void 0],n)))}):[]}function J(t){var e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}function tt(t){return t.__forward_ref__=tt,t.toString=function(){return K(this())},t}function et(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===tt?t():t}var nt=g("Inject",function(t){return{token:t}}),rt=g("Optional"),ot=g("Self"),it=g("SkipSelf"),at=g("Host"),st="__source",ut=new Object,ct=ut,lt=new h("INJECTOR"),ht=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=ut),e===ut)throw new Error("NullInjectorError: No provider for "+K(t)+"!");return e},t}(),dt=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new Et(t,e):new Et(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=ut,t.NULL=new ht,t.ngInjectableDef=c({providedIn:"any",factory:function(){return Dt(lt)}}),t}(),ft=function(t){return t},pt=[],vt=ft,yt=function(){return Array.prototype.slice.call(arguments)},gt={},mt=function(t){for(var e in t)if(t[e]===gt)return e;throw Error("!prop")}({provide:String,useValue:gt}),bt=dt.NULL,_t=/\n/gm,wt="\u0275",Et=function(){function t(t,e,n){void 0===e&&(e=bt),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(dt,{token:dt,fn:ft,deps:pt,value:this,useNew:!1}),r.set(lt,{token:lt,fn:ft,deps:pt,value:this,useNew:!1}),function t(e,n){if(n)if((n=et(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Tt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Tt("Unexpected provider",n);var o=et(n.provide),i=function(t){var e=function(t){var e=pt,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var o=6;if((u=et(n[r]))instanceof Array)for(var i=0,a=u;i<a.length;i++){var s=a[i];s instanceof rt||s==rt?o|=1:s instanceof it||s==it?o&=-3:s instanceof ot||s==ot?o&=-5:u=s instanceof nt?s.token:et(s)}e.push({token:u,options:o})}}else if(t.useExisting){var u;e=[{token:u=et(t.useExisting),options:6}]}else if(!(n||mt in t))throw Tt("'deps' required",t);return e}(t),n=ft,r=pt,o=!1,i=et(t.provide);if(mt in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)o=!0,n=et(t.useClass);else{if("function"!=typeof i)throw Tt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);o=!0,n=i}return{deps:e,fn:n,useNew:o,value:r}}(n);if(!0===n.multi){var a=e.get(o);if(a){if(a.fn!==yt)throw Ct(o)}else e.set(o,a={token:n.provide,deps:[],useNew:!1,fn:yt,value:pt});a.deps.push({token:o=n,options:6})}var s=e.get(o);if(s&&s.fn==yt)throw Ct(o);e.set(o,i)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=0);var o=this._records.get(t);try{return function t(e,n,o,i,a,s){try{return function(e,n,o,i,a,s){var u,c;if(!n||4&s)2&s||(c=i.get(e,a,0));else{if((c=n.value)==vt)throw Error(wt+"Circular dependency");if(c===pt){n.value=vt;var l=n.useNew,h=n.fn,d=n.deps,f=pt;if(d.length){f=[];for(var p=0;p<d.length;p++){var v=d[p],y=v.options,g=2&y?o.get(v.token):void 0;f.push(t(v.token,g,o,g||4&y?i:bt,1&y?null:dt.THROW_IF_NOT_FOUND,0))}}n.value=c=l?new((u=h).bind.apply(u,Object(r.d)([void 0],f))):h.apply(void 0,f)}}return c}(e,n,o,i,a,s)}catch(t){throw t instanceof Error||(t=new Error(t)),(t.ngTempTokenPath=t.ngTempTokenPath||[]).unshift(e),n&&n.value==vt&&(n.value=pt),t}}(t,o,this._records,this.parent,e,n)}catch(e){var i=e.ngTempTokenPath;throw t[st]&&i.unshift(t[st]),e.message=St("\n"+e.message,i,this.source),e.ngTokenPath=i,e.ngTempTokenPath=null,e}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(K(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function Ct(t){return Tt("Cannot mix multi providers and regular providers",t)}function St(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==wt?t.substr(2):t;var r=K(e);if(e instanceof Array)r=e.map(K).join(" -> ");else if("object"==typeof e){var o=[];for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];o.push(i+":"+("string"==typeof a?JSON.stringify(a):K(a)))}r="{"+o.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(_t,"\n  ")}function Tt(t,e){return new Error(St(t,e))}var It=void 0;function Ot(t){var e=It;return It=t,e}function Dt(t,e){if(void 0===e&&(e=0),void 0===It)throw new Error("inject() must be called from an injection context");if(null===It){var n=t.ngInjectableDef;if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(8&e)return null;throw new Error("Injector: NOT_FOUND ["+K(t)+"]")}return It.get(t,8&e?null:void 0,e)}function Nt(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var o=void 0,i=0,a=0;a<r.length;a++){var s=r[a];s instanceof rt||"Optional"===s.ngMetadataName?i|=8:s instanceof it||"SkipSelf"===s.ngMetadataName?i|=4:s instanceof ot||"Self"===s.ngMetadataName?i|=2:o=s instanceof nt?s.token:s}e.push(Dt(o,i))}else e.push(Dt(r))}return e}var At={},Rt=function(t,e){for(var n in t)if(t[n]===e)return n;throw Error("Could not find renamed property on target object.")}({provide:String,useValue:At},At),kt=[];function Pt(t,e){if(!e){var n=(c=new X).parameters(t);return function(){return new(t.bind.apply(t,Object(r.d)([void 0],Nt(n))))}}if(Rt in e){var o=e;return function(){return o.useValue}}if(e.useExisting){var i=e;return function(){return Dt(i.useExisting)}}if(e.useFactory){var a=e;return function(){return a.useFactory.apply(a,Object(r.d)(Nt(a.deps||kt)))}}if(e.useClass){var s=e,u=e.deps;if(!u){var c=new X;u=c.parameters(t)}return function(){var t;return new((t=s.useClass).bind.apply(t,Object(r.d)([void 0],Nt(u))))}}var l=e.deps;return l||(c=new X,l=c.parameters(t)),function(){return new(t.bind.apply(t,Object(r.d)([void 0],Nt(l))))}}var xt=v("Injectable",void 0,void 0,void 0,function(t,e){return n=t,void((r=e)&&void 0!==r.providedIn&&void 0===n.ngInjectableDef&&(n.ngInjectableDef=c({providedIn:r.providedIn,factory:Pt(n,r)})));var n,r}),Mt={name:"custom-elements"},$t={name:"no-errors-schema"},Lt=v("NgModule",function(t){return t},void 0,void 0,function(t,e){return n=t,i=(o=e)&&o.imports||[],o&&o.exports&&(i=Object(r.d)(i,[o.exports])),void(n.ngInjectorDef=l({factory:Pt(n,{useClass:n}),providers:o&&o.providers,imports:i}));var n,o,i}),jt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),Ft=function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},Vt=new Ft("6.1.1"),Ut="ngDebugContext",Bt="ngOriginalError",qt="ngErrorLogger";function Ht(t){return t[Ut]}function Wt(t){return t[Bt]}function Gt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,Object(r.d)(e))}var Kt=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[qt]||Gt}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?Ht(t)?Ht(t):this._findContext(Wt(t)):null},t.prototype._findOriginalError=function(t){for(var e=Wt(t);e&&Wt(e);)e=Wt(e);return e},t}();function Qt(t){return t.length>1?" ("+function(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(function(t){return K(t.token)}).join(" -> ")+")":""}function zt(t,e,n,r){var o=[e],i=n(o),a=r?function(t,e){var n=i+" caused by: "+(e instanceof Error?e.message:e),r=Error(n);return r[Bt]=e,r}(0,r):Error(i);return a.addKey=Yt,a.keys=o,a.injectors=[t],a.constructResolvingMessage=n,a[Bt]=r,a}function Yt(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function Xt(t,e){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];n.push(i&&0!=i.length?i.map(K).join(" "):"?")}return Error("Cannot resolve all parameters for '"+K(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+K(t)+"' is decorated with Injectable.")}var Zt=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=K(this.token)}return t.get=function(t){return Jt.get(et(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return Jt.numberOfKeys},enumerable:!0,configurable:!0}),t}(),Jt=new(function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof Zt)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new Zt(t,Zt.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}()),te=new(function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}())(new X),ee=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),ne=[],re=function(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]},oe=function(t,e){this.factory=t,this.dependencies=e};function ie(t){return new re(Zt.get(t.provide),[function(t){var e,n;if(t.useClass){var r=et(t.useClass);e=te.factory(r),n=se(r)}else t.useExisting?(e=function(t){return t},n=[ee.fromKey(Zt.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return ue(t,e,n)})}return se(t)}(t.useFactory,t.deps)):(e=function(){return t.useValue},n=ne);return new oe(e,n)}(t)],t.multi||!1)}function ae(t){var e=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=e.get(r.key.id);if(o){if(r.multiProvider!==o.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: "+o+" "+r);if(r.multiProvider)for(var i=0;i<r.resolvedFactories.length;i++)o.resolvedFactories.push(r.resolvedFactories[i]);else e.set(r.key.id,r)}else{var a;a=r.multiProvider?new re(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,a)}}return e}(function t(e,n){return e.forEach(function(e){if(e instanceof L)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e);t(e,n)}}),n}(t,[]).map(ie),new Map);return Array.from(e.values())}function se(t){var e=te.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw Xt(t,e);return e.map(function(n){return ue(t,n,e)})}function ue(t,e,n){var r=null,o=!1;if(!Array.isArray(e))return ce(e instanceof nt?e.token:e,o,null);for(var i=null,a=0;a<e.length;++a){var s=e[a];s instanceof L?r=s:s instanceof nt?r=s.token:s instanceof rt?o=!0:s instanceof ot||s instanceof it?i=s:s instanceof h&&(r=s)}if(null!=(r=et(r)))return ce(r,o,i);throw Xt(t,n)}function ce(t,e,n){return new ee(Zt.get(t),e,n)}var le=new Object,he=function(){function t(){}return t.resolve=function(t){return ae(t)},t.resolveAndCreate=function(e,n){var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return new de(t,e)},t}(),de=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=le}return t.prototype.get=function(t,e){return void 0===e&&(e=ct),this._getByKey(Zt.get(t),null,e)},t.prototype.resolveAndCreateChild=function(t){var e=he.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n.parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(he.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw function(t){return Error("Index "+t+" is out-of-bounds.")}(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw zt(this,t.key,function(t){return"Cannot instantiate cyclic dependency!"+Qt(t)});return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,o,i,a=this,s=e.factory;try{n=e.dependencies.map(function(t){return a._getByReflectiveDependency(t)})}catch(e){throw e.addKey&&e.addKey(this,t.key),e}try{o=s.apply(void 0,Object(r.d)(n))}catch(e){throw zt(this,t.key,function(t){var e=K(t[0].token);return i.message+": Error during instantiation of "+e+"!"+Qt(t)+"."},i=e)}return o},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:ct)},t.prototype._getByKey=function(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof ot?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===le&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return le},t.prototype._throwOrNull=function(t,e){if(e!==ct)return e;throw function(t,e){return zt(t,e,function(t){return"No provider for "+K(t[0].token)+"!"+Qt(t)})}(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==le?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var o;for(o=r instanceof it?this.parent:this;o instanceof t;){var i=o,a=i._getObjByKeyId(e.id);if(a!==le)return a;o=i.parent}return null!==o?o.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=' "'+t.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t.INJECTOR_KEY=Zt.get(dt),t}(),fe=new h("The presence of this token marks an injector as being the root injector."),pe={},ve={},ye=[],ge=void 0;function me(){return void 0===ge&&(ge=new ht),ge}function be(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),e=e||me(),new _e(t,n,e)}var _e=function(){function t(t,e,n){var r=this;this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1,Ce([t],function(t){return r.processInjectorType(t,new Set)}),e&&Ce(e,function(t){return r.processProvider(t)}),this.records.set(lt,Ee(void 0,this)),this.isRootInjector=this.records.has(fe),this.injectorDefTypes.forEach(function(t){return r.get(t)})}return t.prototype.destroy=function(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},t.prototype.get=function(t,e,n){void 0===e&&(e=ct),void 0===n&&(n=0),this.assertNotDestroyed();var r,o=Ot(this);try{if(!(4&n)){var i=this.records.get(t);if(void 0===i){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof h)&&t.ngInjectableDef||void 0;void 0!==a&&this.injectableDefInScope(a)&&(i=we(t),this.records.set(t,i))}if(void 0!==i)return this.hydrate(t,i)}return 2&n&&me(),this.parent.get(t,e)}finally{Ot(o)}},t.prototype.assertNotDestroyed=function(){if(this.destroyed)throw new Error("Injector has already been destroyed.")},t.prototype.processInjectorType=function(t,e){var n=this,r=(t=et(t)).ngInjectorDef,o=null==r&&t.ngModule||void 0,i=void 0===o?t:o,a=void 0!==o&&t.providers||ye;if(void 0!==o&&(r=o.ngInjectorDef),null!=r){if(e.has(i))throw new Error("Circular dependency: type "+K(i)+" ends up importing itself.");if(this.injectorDefTypes.add(i),this.records.set(i,Ee(r.factory)),null!=r.imports){e.add(i);try{Ce(r.imports,function(t){return n.processInjectorType(t,e)})}finally{e.delete(i)}}null!=r.providers&&Ce(r.providers,function(t){return n.processProvider(t)}),Ce(a,function(t){return n.processProvider(t)})}},t.prototype.processProvider=function(t){var e=Se(t=et(t))?t:et(t.provide),n=function(t){var e=et(t),n=pe,o=void 0;if(Se(t))return we(t);if(e=et(t.provide),mt in t)n=t.useValue;else if(t.useExisting)o=function(){return Dt(t.useExisting)};else if(t.useFactory)o=function(){return t.useFactory.apply(t,Object(r.d)(Nt(t.deps||[])))};else{var i=t.useClass||e;if(!t.deps)return we(i);o=function(){return new(i.bind.apply(i,Object(r.d)([void 0],Nt(t.deps))))}}return Ee(o,n)}(t);if(Se(t)||!0!==t.multi){var o=this.records.get(e);if(o&&void 0!==o.multi)throw new Error("Mixed multi-provider for "+K(e))}else{var i=this.records.get(e);if(i){if(void 0===i.multi)throw new Error("Mixed multi-provider for "+e+".")}else(i=Ee(void 0,pe,!0)).factory=function(){return Nt(i.multi)},this.records.set(e,i);e=t,i.multi.push(t)}this.records.set(e,n)},t.prototype.hydrate=function(t,e){if(e.value===ve)throw new Error("Circular dep for "+K(t));var n;return e.value===pe&&(e.value=ve,e.value=e.factory()),"object"==typeof e.value&&e.value&&"object"==typeof(n=e.value)&&null!=n&&n.ngOnDestroy&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value},t.prototype.injectableDefInScope=function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||"root"===t.providedIn&&this.isRootInjector:this.injectorDefTypes.has(t.providedIn))},t}();function we(t){var e=t.ngInjectableDef;if(void 0===e){if(t instanceof h)throw new Error("Token "+K(t)+" is missing an ngInjectableDef definition.");return Ee(function(){return new t})}return Ee(e.factory)}function Ee(t,e,n){return void 0===e&&(e=pe),void 0===n&&(n=!1),{factory:t,value:e,multi:n?[]:void 0}}function Ce(t,e){t.forEach(function(t){return Array.isArray(t)?Ce(t,e):e(t)})}function Se(t){return"function"==typeof t}function Te(t){return!!t&&"function"==typeof t.then}function Ie(t){return!!t&&"function"==typeof t.subscribe}var Oe=new h("Application Initializer"),De=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var o=this.appInits[r]();Te(o)&&e.push(o)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),Ne=new h("AppId");function Ae(){return""+ke()+ke()+ke()}var Re={provide:Ne,useFactory:Ae,deps:[]};function ke(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Pe=new h("Platform Initializer"),xe=new h("Platform ID"),Me=new h("appBootstrapListener"),$e=new h("Application Packages Root URL"),Le=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}(),je=function(t,e){this.ngModuleFactory=t,this.componentFactories=e};function Fe(){throw new Error("Runtime compiler is not loaded")}var Ve=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw Fe()},t.prototype.compileModuleAsync=function(t){throw Fe()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw Fe()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw Fe()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),Ue=new h("compilerOptions"),Be=function(){},qe=function(){},He=function(){};function We(t){var e=Error("No component factory found for "+K(t)+". Did you add it to @NgModule.entryComponents?");return e[Qe]=t,e}var Ge,Ke,Qe="ngComponent",ze=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw We(t)},t}(),Ye=function(){function t(){}return t.NULL=new ze,t}(),Xe=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var o=t[r];this._factories.set(o.componentType,o)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw We(t);return new Ze(e,this._ngModule)},t}(),Ze=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return Object(r.b)(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(He),Je=function(){},tn=function(){};function en(){var t=U.wtf;return!(!t||!(Ge=t.trace)||(Ke=Ge.events,0))}function nn(t,e){return void 0===e&&(e=null),Ke.createScope(t,e)}function rn(t,e){return Ge.leaveScope(t,e),e}function on(t,e){return Ge.beginTimeRange(t,e)}function an(t){Ge.endTimeRange(t)}var sn=en();function un(t,e){return null}var cn=sn?nn:function(t,e){return un},ln=sn?rn:function(t,e){return e},hn=sn?on:function(t,e){return null},dn=sn?an:function(t){return null},fn=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(r.b)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,a=function(t){return null},s=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(a=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var u=t.prototype.subscribe.call(this,i,a,s);return e instanceof o.a&&e.add(u),u},e}(i.a),pn=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fn(!1),this.onMicrotaskEmpty=new fn(!1),this.onStable=new fn(!1),this.onError=new fn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,o,i,a){try{return mn(e),t.invokeTask(r,o,i,a)}finally{bn(e)}},onInvoke:function(t,n,r,o,i,a,s){try{return mn(e),t.invoke(r,o,i,a,s)}finally{bn(e)}},onHasTask:function(t,n,r,o){t.hasTask(r,o),n===r&&("microTask"==o.change?(e.hasPendingMicrotasks=o.microTask,gn(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:function(t,n,r,o){return t.handleError(r,o),e.runOutsideAngular(function(){return e.onError.emit(o)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var o=this._inner,i=o.scheduleEventTask("NgZoneEvent: "+r,t,yn,vn,vn);try{return o.runTask(i,e,n)}finally{o.cancelTask(i)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function vn(){}var yn={};function gn(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function mn(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bn(t){t._nesting--,gn(t)}var _n=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fn,this.onMicrotaskEmpty=new fn,this.onStable=new fn,this.onError=new fn}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),wn=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents(),t.run(function(){e.taskTrackingZone=Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){pn.assertNotInAngularZone(),W(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())W(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,isPeriodic:t.data.isPeriodic,delay:t.data.delay,creationLocation:t.creationLocation,xhr:t.data.target}}):[]},t.prototype.addCallback=function(t,e,n){var r=this,o=-1;e&&e>0&&(o=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==o}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),En=function(){function t(){this._applications=new Map,Tn.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Tn.findTestabilityInTree(this,t,e)},t.ctorParameters=function(){return[]},t}();function Cn(t){Tn=t}var Sn,Tn=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),In=!0,On=!1,Dn=new h("AllowMultipleToken");function Nn(){if(On)throw new Error("Cannot enable prod mode after platform setup.");In=!1}function An(){return On=!0,In}var Rn=function(t,e){this.name=t,this.token=e};function kn(t){if(Sn&&!Sn.destroyed&&!Sn.injector.get(Dn,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Sn=t.get(Ln);var e=t.get(Pe,null);return e&&e.forEach(function(t){return t()}),Sn}function Pn(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,o=new h(r);return function(e){void 0===e&&(e=[]);var i=$n();if(!i||i.injector.get(Dn,!1))if(t)t(n.concat(e).concat({provide:o,useValue:!0}));else{var a=n.concat(e).concat({provide:o,useValue:!0});kn(dt.create({providers:a,name:r}))}return xn(o)}}function xn(t){var e=$n();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function Mn(){Sn&&!Sn.destroyed&&Sn.destroy()}function $n(){return Sn&&!Sn.destroyed?Sn:null}var Ln=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,o="noop"===(n=e?e.ngZone:void 0)?new _n:("zone.js"===n?void 0:n)||new pn({enableLongStackTrace:An()}),i=[{provide:pn,useValue:o}];return o.run(function(){var e=dt.create({providers:i,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(Kt,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return Vn(r._modules,n)}),o.runOutsideAngular(function(){return o.onError.subscribe({next:function(t){a.handleError(t)}})}),function(t,e,o){try{var i=((a=n.injector.get(De)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return Te(i)?i.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):i}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}var a}(a,o)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=this.injector.get(Be),o=jn({},e);return r.createCompiler([o]).compileModuleAsync(t).then(function(t){return n.bootstrapModuleFactory(t,o)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(Fn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+K(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function jn(t,e){return Array.isArray(e)?e.reduce(jn,t):Object(r.a)({},t,e)}var Fn=function(){function t(t,e,n,r,o,i){var c=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=An(),this._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run(function(){c.tick()})}});var l=new a.a(function(t){c._stable=c._zone.isStable&&!c._zone.hasPendingMacrotasks&&!c._zone.hasPendingMicrotasks,c._zone.runOutsideAngular(function(){t.next(c._stable),t.complete()})}),h=new a.a(function(t){var e;c._zone.runOutsideAngular(function(){e=c._zone.onStable.subscribe(function(){pn.assertNotInAngularZone(),W(function(){c._stable||c._zone.hasPendingMacrotasks||c._zone.hasPendingMicrotasks||(c._stable=!0,t.next(!0))})})});var n=c._zone.onUnstable.subscribe(function(){pn.assertInAngularZone(),c._stable&&(c._stable=!1,c._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(l,h.pipe(Object(u.a)()))}return t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof He?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var o=n instanceof Ze?null:this._injector.get(Je),i=n.create(dt.NULL,[],e||n.selector,o);i.onDestroy(function(){r._unloadComponent(i)});var a=i.injector.get(wn,null);return a&&i.injector.get(En).registerApplication(i.location.nativeElement,a),this._loadComponent(i),An()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i},t.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(t){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(t)})}finally{this._runningTick=!1,ln(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;Vn(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Me,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),Vn(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=cn("ApplicationRef#tick()"),t}();function Vn(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Un=function(t,e,n,r,o,i){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=o,this.animations=i},Bn=function(){},qn=function(){},Hn=function(){},Wn=function(){},Gn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),Kn=function(){},Qn=function(t){this.nativeElement=t},zn=function(){},Yn=new Map;function Xn(t,e){var n=Yn.get(t);if(n)throw new Error("Duplicate module registered for "+t+" - "+n.moduleType.name+" vs "+e.moduleType.name);Yn.set(t,e)}function Zn(t){var e=Yn.get(t);if(!e)throw new Error("No module with ID "+t+" loaded");return e}var Jn=function(){function t(){this.dirty=!0,this._results=[],this.changes=new fn,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[H()]=function(){return this._results[H()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),tr=function(){},er={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},nr=function(){function t(t,e){this._compiler=t,this._config=e||er}return t.prototype.load=function(t){return this._compiler instanceof Ve?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,o=Object(r.c)(t.split("#"),2),i=o[0],a=o[1];return void 0===a&&(a="default"),n("crnd")(i).then(function(t){return t[a]}).then(function(t){return rr(t,i,a)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=Object(r.c)(t.split("#"),2),o=e[0],i=e[1],a="NgFactory";return void 0===i&&(i="default",a=""),n("crnd")(this._config.factoryPathPrefix+o+this._config.factoryPathSuffix).then(function(t){return t[i+a]}).then(function(t){return rr(t,o,i)})},t}();function rr(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var or=function(){},ir=function(){},ar=function(){},sr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e}(ar),ur=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e}(sr),cr=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof lr?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),lr=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=e,o}return Object(r.b)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,o=this,i=this.childNodes.indexOf(t);-1!==i&&((n=this.childNodes).splice.apply(n,Object(r.d)([i+1,0],e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=o}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return dr(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return fr(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(cr);function hr(t){return t.map(function(t){return t.nativeElement})}function dr(t,e,n){t.childNodes.forEach(function(t){t instanceof lr&&(e(t)&&n.push(t),dr(t,e,n))})}function fr(t,e,n){t instanceof lr&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof lr&&fr(t,e,n)})}var pr=new Map;function vr(t){return pr.get(t)||null}function yr(t){pr.set(t.nativeNode,t)}function gr(t,e){var n=_r(t),r=_r(e);return n&&r?function(t,e,n){for(var r=t[H()](),o=e[H()]();;){var i=r.next(),a=o.next();if(i.done&&a.done)return!0;if(i.done||a.done)return!1;if(!n(i.value,a.value))return!1}}(t,e,gr):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||G(t,e)}var mr=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),br=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function _r(t){return!!wr(t)&&(Array.isArray(t)||!(t instanceof Map)&&H()in t)}function wr(t){return null!==t&&("function"==typeof t||"object"==typeof t)}var Er=function(){function t(){}return t.prototype.supports=function(t){return _r(t)},t.prototype.create=function(t){return new Sr(t)},t}(),Cr=function(t,e){return e},Sr=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Cr}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,o=null;e||n;){var i=!n||e&&e.currentIndex<Dr(n,r,o)?e:n,a=Dr(i,r,o),s=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(e=e._next,null==i.previousIndex)r++;else{o||(o=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<o.length?o[l]:o[l]=0,d=h+l;c<=d&&d<u&&(o[l]=h+1)}o[i.previousIndex]=c-u}}a!==s&&t(i,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!_r(t))throw new Error("Error trying to diff '"+K(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,o,i=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)o=this._trackByFn(s,r=t[s]),null!==i&&G(i.trackById,o)?(a&&(i=this._verifyReinsertion(i,r,o,s)),G(i.item,r)||this._addIdentityChange(i,r)):(i=this._mismatch(i,r,o,s),a=!0),i=i._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[H()](),o=void 0;!(o=r.next()).done;)e(o.value)}(t,function(t){o=e._trackByFn(n,t),null!==i&&G(i.trackById,o)?(a&&(i=e._verifyReinsertion(i,t,o,n)),G(i.item,t)||e._addIdentityChange(i,t)):(i=e._mismatch(i,t,o,n),a=!0),i=i._next,n++}),this.length=n;return this._truncate(i),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(G(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(G(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):t=this._addAfter(new Tr(e,n),o,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Or),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Or),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),Tr=function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Ir=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&G(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Or=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Ir,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function Dr(t,e,n){var r=t.previousIndex;if(null===r)return r;var o=0;return n&&r<n.length&&(o=n[r]),r+e+o}var Nr=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||wr(t)},t.prototype.create=function(){return new Ar},t}(),Ar=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||wr(t)))throw new Error("Error trying to diff '"+K(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var o=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,o=n._next;return r&&(r._next=o),o&&(o._prev=r),n._next=null,n._prev=null,n}var i=new Rr(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){G(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),Rr=function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},kr=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new it,new rt]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=c({providedIn:"root",factory:function(){return new t([new Er])}}),t}(),Pr=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new it,new rt]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),xr=[new Nr],Mr=new kr([new Er]),$r=new Pr(xr),Lr=Pn(null,"core",[{provide:xe,useValue:"unknown"},{provide:Ln,deps:[dt]},{provide:En,deps:[]},{provide:Le,deps:[]}]),jr=new h("LocaleId"),Fr=new h("Translations"),Vr=new h("TranslationsFormat"),Ur=function(t){return t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore",t}({});function Br(){return Mr}function qr(){return $r}function Hr(t){return t||"en-US"}var Wr=[{provide:Fn,useClass:Fn,deps:[pn,Le,dt,Kt,Ye,De]},{provide:De,useClass:De,deps:[[new rt,Oe]]},{provide:Ve,useClass:Ve,deps:[]},Re,{provide:kr,useFactory:Br,deps:[]},{provide:Pr,useFactory:qr,deps:[]},{provide:jr,useFactory:Hr,deps:[[new nt(jr),new rt,new it]]}],Gr=function(t){};function Kr(t){var e=[],n=new Map;function r(r){var o=n.get(r);if(!o){var i=t(r);n.set(r,o=i.then(zr)),e.push(o)}return o}return Qr.forEach(function(t){t.templateUrl&&r(t.templateUrl).then(function(e){t.template=e,t.templateUrl=void 0});var e=t.styleUrls,n=t.styles||(t.styles=[]),o=t.styles.length;e&&e.forEach(function(i,a){n.push(""),r(i).then(function(r){n[o+a]=r,e.splice(e.indexOf(i),1),0==e.length&&(t.styleUrls=void 0)})})}),Qr.clear(),Promise.all(e).then(function(){return null})}var Qr=new Set;function zr(t){return"string"==typeof t?t:t.text()}var Yr=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(t){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(null);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(t){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var o=t.firstChild;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling},t}(),Xr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Zr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jr(t){return(t=String(t)).match(Xr)||t.match(Zr)?t:(An()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function to(t){var e,n,o={};try{for(var i=Object(r.e)(t.split(",")),a=i.next();!a.done;a=i.next())o[a.value]=!0}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return o}function eo(){for(var t,e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i={};try{for(var a=Object(r.e)(n),s=a.next();!s.done;s=a.next()){var u=s.value;for(var c in u)u.hasOwnProperty(c)&&(i[c]=!0)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return i}var no,ro=to("area,br,col,hr,img,wbr"),oo=to("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),io=to("rp,rt"),ao=eo(io,oo),so=eo(ro,eo(oo,to("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),eo(io,to("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ao),uo=to("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),co=to("srcset"),lo=eo(uo,co,to("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),ho=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(e.nodeType===Node.ELEMENT_NODE?this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var n=this.checkClobberedElement(e,e.nextSibling);if(n){e=n;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e=t.nodeName.toLowerCase();if(so.hasOwnProperty(e)){this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,o=0;o<r.length;o++){var i=r.item(o),a=i.name,s=a.toLowerCase();if(lo.hasOwnProperty(s)){var u=i.value;uo[s]&&(u=Jr(u)),co[s]&&(n=u,u=(n=String(n)).split(",").map(function(t){return Jr(t.trim())}).join(", ")),this.buf.push(" ",a,'="',vo(u),'"')}else this.sanitizedSomething=!0}this.buf.push(">")}else this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();so.hasOwnProperty(e)&&!ro.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(vo(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),fo=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,po=/([^\#-~ |!])/g;function vo(t){return t.replace(/&/g,"&amp;").replace(fo,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(po,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function yo(t,e){var n=null;try{no=no||new Yr(t);var r=e?String(e):"";n=no.getInertBodyElement(r);var o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=no.getInertBodyElement(r)}while(r!==i);var a=new ho,s=a.sanitizeChildren(go(n)||n);return An()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),s}finally{if(n)for(var u=go(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function go(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var mo=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),bo=/^url\(([^)]+)\)$/;function _o(t){if(!(t=String(t).trim()))return"";var e=t.match(bo);return e&&Jr(e[1])===e[1]||t.match(mo)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var o=t.charAt(r);"'"===o&&n?e=!e:'"'===o&&e&&(n=!n)}return e&&n}(t)?t:(An()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}var wo=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),Eo=function(){};function Co(t,e,n){var r=t.state,o=1792&r;return o===e?(t.state=-1793&r|n,t.initIndex=-1,!0):o===n}function So(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function To(t,e){return t.nodes[e]}function Io(t,e){return t.nodes[e]}function Oo(t,e){return t.nodes[e]}function Do(t,e){return t.nodes[e]}function No(t,e){return t.nodes[e]}var Ao=function(){},Ro={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function ko(t,e,n,r){var o="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(o+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return Po(n,e),n}(o,t)}function Po(t,e){t[Ut]=e,t[qt]=e.logError.bind(e)}function xo(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var Mo=function(){},$o=new Map;function Lo(t){var e=$o.get(t);return e||(e=K(t)+"_"+$o.size,$o.set(t,e)),e}function jo(t,e,n,r){if(mr.isWrapped(r)){r=mr.unwrap(r);var o=t.def.nodes[e].bindingIndex+n,i=mr.unwrap(t.oldValues[o]);t.oldValues[o]=new mr(i)}return r}var Fo="$$undefined",Vo="$$empty";function Uo(t){return{id:Fo,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var Bo=0;function qo(t){if(t&&t.id===Fo){var e=null!=t.encapsulation&&t.encapsulation!==jt.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Bo++:Vo}return t&&t.id===Vo&&(t=null),t||null}function Ho(t,e,n,r){return!(!(2&t.state)&&G(t.oldValues[e.bindingIndex+n],r))}function Wo(t,e,n,r){return!!Ho(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Go(t,e,n,r){var o=t.oldValues[e.bindingIndex+n];if(1&t.state||!gr(o,r)){var i=e.bindings[n].name;throw ko(Ro.createDebugContext(t,e.nodeIndex),i+": "+o,i+": "+r,0!=(1&t.state))}}function Ko(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Qo(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function zo(t,e,n,r){try{return Ko(33554432&t.def.nodes[e].flags?Io(t,e).componentView:t),Ro.handleEvent(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}function Yo(t){return t.parent?Io(t.parent,t.parentNodeDef.nodeIndex):null}function Xo(t){return t.parent?t.parentNodeDef.parent:null}function Zo(t,e){switch(201347067&e.flags){case 1:return Io(t,e.nodeIndex).renderElement;case 2:return To(t,e.nodeIndex).renderText}}function Jo(t,e){return t?t+":"+e:e}function ti(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function ei(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function ni(t){return 1<<t%32}function ri(t){var e={},n=0,o={};return t&&t.forEach(function(t){var i=Object(r.c)(t,2),a=i[0],s=i[1];"number"==typeof a?(e[a]=s,n|=ni(a)):o[a]=s}),{matchedQueries:e,references:o,matchedQueryIds:n}}function oi(t,e){return t.map(function(t){var n,o,i;return Array.isArray(t)?(i=(n=Object(r.c)(t,2))[0],o=n[1]):(i=0,o=t),o&&("function"==typeof o||"object"==typeof o)&&e&&Object.defineProperty(o,st,{value:e,configurable:!0}),{flags:i,token:o,tokenKey:Lo(o)}})}function ii(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===jt.Native?Io(t,n.renderParent.nodeIndex).renderElement:void 0:e}var ai=new WeakMap;function si(t){var e=ai.get(t);return e||((e=t(function(){return Mo})).factory=t,ai.set(t,e)),e}function ui(t,e,n,r,o){3===e&&(n=t.renderer.parentNode(Zo(t,t.def.lastRenderRootNode))),ci(t,e,0,t.def.nodes.length-1,n,r,o)}function ci(t,e,n,r,o,i,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&hi(t,u,e,o,i,a),s+=u.childCount}}function li(t,e,n,r,o,i){for(var a=t;a&&!ti(a);)a=a.parent;for(var s=a.parent,u=Xo(a),c=u.nodeIndex+u.childCount,l=u.nodeIndex+1;l<=c;l++){var h=s.def.nodes[l];h.ngContentIndex===e&&hi(s,h,n,r,o,i),l+=h.childCount}if(!s.parent){var d=t.root.projectableNodes[e];if(d)for(l=0;l<d.length;l++)di(t,d[l],n,r,o,i)}}function hi(t,e,n,r,o,i){if(8&e.flags)li(t,e.ngContent.index,n,r,o,i);else{var a=Zo(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&di(t,a,n,r,o,i),32&e.bindingFlags&&di(Io(t,e.nodeIndex).componentView,a,n,r,o,i)):di(t,a,n,r,o,i),16777216&e.flags)for(var s=Io(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)ui(s[u],n,r,o,i);1&e.flags&&!e.element.name&&ci(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,o,i)}}function di(t,e,n,r,o,i){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,o);break;case 3:a.removeChild(r,e);break;case 0:i.push(e)}}var fi=/^:([^:]+):(.+)$/;function pi(t){if(":"===t[0]){var e=t.match(fi);return[e[1],e[2]]}return["",t]}function vi(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function yi(t,e){for(var n="",r=0;r<2*t;r+=2)n=n+e[r]+mi(e[r+1]);return n+e[2*t]}function gi(t,e,n,r,o,i,a,s,u,c,l,h,d,f,p,v,y,g,m,b){switch(t){case 1:return e+mi(n)+r;case 2:return e+mi(n)+r+mi(o)+i;case 3:return e+mi(n)+r+mi(o)+i+mi(a)+s;case 4:return e+mi(n)+r+mi(o)+i+mi(a)+s+mi(u)+c;case 5:return e+mi(n)+r+mi(o)+i+mi(a)+s+mi(u)+c+mi(l)+h;case 6:return e+mi(n)+r+mi(o)+i+mi(a)+s+mi(u)+c+mi(l)+h+mi(d)+f;case 7:return e+mi(n)+r+mi(o)+i+mi(a)+s+mi(u)+c+mi(l)+h+mi(d)+f+mi(p)+v;case 8:return e+mi(n)+r+mi(o)+i+mi(a)+s+mi(u)+c+mi(l)+h+mi(d)+f+mi(p)+v+mi(y)+g;case 9:return e+mi(n)+r+mi(o)+i+mi(a)+s+mi(u)+c+mi(l)+h+mi(d)+f+mi(p)+v+mi(y)+g+mi(m)+b;default:throw new Error("Does not support more than 9 expressions")}}function mi(t){return null!=t?t.toString():""}var bi=[],_i={};function wi(t,e,n,r,o,i){t|=1;var a=ri(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?si(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:o||Mo},provider:null,text:null,query:null,ngContent:null}}function Ei(t,e,n,o,i,a,s,u,c,l,h,d){var f;void 0===s&&(s=[]),l||(l=Mo);var p=ri(n),v=p.matchedQueries,y=p.references,g=p.matchedQueryIds,m=null,b=null;a&&(m=(f=Object(r.c)(pi(a),2))[0],b=f[1]),u=u||[];for(var _=new Array(u.length),w=0;w<u.length;w++){var E=Object(r.c)(u[w],3),C=E[0],S=E[1],T=E[2],I=Object(r.c)(pi(S),2),O=I[0],D=I[1],N=void 0,A=void 0;switch(15&C){case 4:A=T;break;case 1:case 8:N=T}_[w]={flags:C,ns:O,name:D,nonMinifiedName:D,securityContext:N,suffix:A}}c=c||[];var R=new Array(c.length);for(w=0;w<c.length;w++){var k=Object(r.c)(c[w],2);R[w]={type:0,target:k[0],eventName:k[1],propName:null}}var P=(s=s||[]).map(function(t){var e=Object(r.c)(t,2),n=e[0],o=e[1],i=Object(r.c)(pi(n),2);return[i[0],i[1],o]});return d=qo(d),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:v,matchedQueryIds:g,references:y,ngContentIndex:o,childCount:i,bindings:_,bindingFlags:vi(_),outputs:R,element:{ns:m,name:b,attrs:P,template:null,componentProvider:null,componentView:h||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:l||Mo},provider:null,text:null,query:null,ngContent:null}}function Ci(t,e,n){var o,i=n.element,a=t.root.selectorOrNode,s=t.renderer;if(t.parent||!a){o=i.name?s.createElement(i.name,i.ns):s.createComment("");var u=ii(t,e,n);u&&s.appendChild(u,o)}else o=s.selectRootElement(a);if(i.attrs)for(var c=0;c<i.attrs.length;c++){var l=Object(r.c)(i.attrs[c],3);s.setAttribute(o,l[1],l[2],l[0])}return o}function Si(t,e,n,r){for(var o=0;o<n.outputs.length;o++){var i=n.outputs[o],a=Ti(t,n.nodeIndex,Jo(i.target,i.eventName)),s=i.target,u=t;"component"===i.target&&(s=null,u=e);var c=u.renderer.listen(s||r,i.eventName,a);t.disposables[n.outputIndex+o]=c}}function Ti(t,e,n){return function(r){return zo(t,e,n,r)}}function Ii(t,e,n,r){if(!Wo(t,e,n,r))return!1;var o=e.bindings[n],i=Io(t,e.nodeIndex),a=i.renderElement,s=o.name;switch(15&o.flags){case 1:!function(t,e,n,r,o,i){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,i):i;s=null!=s?s.toString():null;var u=t.renderer;null!=i?u.setAttribute(n,o,s,r):u.removeAttribute(n,o,r)}(t,o,a,o.ns,s,r);break;case 2:!function(t,e,n,r){var o=t.renderer;r?o.addClass(e,n):o.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,o){var i=t.root.sanitizer.sanitize(wo.STYLE,o);if(null!=i){i=i.toString();var a=e.suffix;null!=a&&(i+=a)}else i=null;var s=t.renderer;null!=i?s.setStyle(n,r,i):s.removeStyle(n,r)}(t,o,a,s,r);break;case 8:!function(t,e,n,r,o){var i=e.securityContext,a=i?t.root.sanitizer.sanitize(i,o):o;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&o.flags?i.componentView:t,o,a,s,r)}return!0}var Oi=new Object,Di=Lo(dt),Ni=Lo(lt),Ai=Lo(Je);function Ri(t,e,n,r){return n=et(n),{index:-1,deps:oi(r,K(e)),flags:t,token:e,value:n}}function ki(t){for(var e={},n=[],r=!1,o=0;o<t.length;o++){var i=t[o];i.token===fe&&!0===i.value&&(r=!0),1073741824&i.flags&&n.push(i.token),i.index=o,e[Lo(i.token)]=i}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function Pi(t,e,n){void 0===n&&(n=dt.THROW_IF_NOT_FOUND);var r,o,i=Ot(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var a=e.tokenKey;switch(a){case Di:case Ni:case Ai:return t}var s=t._def.providersByKey[a];if(s){var u=t._providers[s.index];return void 0===u&&(u=t._providers[s.index]=xi(t,s)),u===Oi?void 0:u}if(e.token.ngInjectableDef&&(r=t,null!=(o=e.token.ngInjectableDef).providedIn&&(function(t,e){return t._def.modules.indexOf(o.providedIn)>-1}(r)||"root"===o.providedIn&&r._def.isRoot))){var c=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:e.token.ngInjectableDef.factory,deps:[],index:c,token:e.token},t._providers[c]=Oi,t._providers[c]=xi(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Ot(i)}}function xi(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var o=n.length;switch(o){case 0:return new e;case 1:return new e(Pi(t,n[0]));case 2:return new e(Pi(t,n[0]),Pi(t,n[1]));case 3:return new e(Pi(t,n[0]),Pi(t,n[1]),Pi(t,n[2]));default:for(var i=new Array(o),a=0;a<o;a++)i[a]=Pi(t,n[a]);return new(e.bind.apply(e,Object(r.d)([void 0],i)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var o=n.length;switch(o){case 0:return e();case 1:return e(Pi(t,n[0]));case 2:return e(Pi(t,n[0]),Pi(t,n[1]));case 3:return e(Pi(t,n[0]),Pi(t,n[1]),Pi(t,n[2]));default:for(var i=Array(o),a=0;a<o;a++)i[a]=Pi(t,n[a]);return e.apply(void 0,Object(r.d)(i))}}(t,e.value,e.deps);break;case 2048:n=Pi(t,e.deps[0]);break;case 256:n=e.value}return n===Oi||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Oi:n}function Mi(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,Fi(n,e),Ro.dirtyParentQueries(r),Li(r),r}function $i(t,e,n){var r=e?Zo(e,e.def.lastRenderRootNode):t.renderElement;ui(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function Li(t){ui(t,3,null,null,void 0)}function ji(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Fi(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var Vi=new Object;function Ui(t,e,n,r,o,i){return new qi(t,e,n,r,o,i)}function Bi(t){return t.viewDefFactory}var qi=function(t){function e(e,n,r,o,i,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=o,s._outputs=i,s.ngContentSelectors=a,s.viewDefFactory=r,s}return Object(r.b)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var o=si(this.viewDefFactory),i=o.nodes[0].element.componentProvider.nodeIndex,a=Ro.createRootView(t,e||[],n,o,r,Vi),s=Oo(a,i).instance;return n&&a.renderer.setAttribute(Io(a,0).renderElement,"ng-version",Vt.full),new Hi(a,new Qi(a),s)},e}(He),Hi=function(t){function e(e,n,r){var o=t.call(this)||this;return o._view=e,o._viewRef=n,o._component=r,o._elDef=o._view.def.nodes[0],o.hostView=n,o.changeDetectorRef=n,o.instance=r,o}return Object(r.b)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new Qn(Io(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Zi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(qe);function Wi(t,e,n){return new Gi(t,e,n)}var Gi=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new Qn(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Zi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Xo(t),t=t.parent;return t?new Zi(t,e):new Zi(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=Mi(this._data,t);Ro.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Qi(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,o){var i=n||this.parentInjector;o||t instanceof Ze||(o=i.get(Je));var a=t.create(i,r,void 0,o);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,o,i,a=t;return o=a._view,i=(n=this._data).viewContainer._embeddedViews,null!==(r=e)&&void 0!==r||(r=i.length),o.viewContainerParent=this._view,ji(i,r,o),function(t,e){var n=Yo(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,o),Ro.dirtyParentQueries(o),$i(n,r>0?i[r-1]:null,o),a.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,o,i,a,s=this._embeddedViews.indexOf(t._view);return o=e,a=(i=(n=this._data).viewContainer._embeddedViews)[r=s],Fi(i,r),null==o&&(o=i.length),ji(i,o,a),Ro.dirtyParentQueries(a),Li(a),$i(n,o>0?i[o-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=Mi(this._data,t);e&&Ro.destroyView(e)},t.prototype.detach=function(t){var e=Mi(this._data,t);return e?new Qi(e):null},t}();function Ki(t){return new Qi(t)}var Qi=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return ui(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Ko(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Ro.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){Ro.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Ro.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Li(this._view),Ro.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function zi(t,e){return new Yi(t,e)}var Yi=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(r.b)(e,t),e.prototype.createEmbeddedView=function(t){return new Qi(Ro.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new Qn(Io(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(or);function Xi(t,e){return new Zi(t,e)}var Zi=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=dt.THROW_IF_NOT_FOUND),Ro.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Lo(t)},e)},t}();function Ji(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=Io(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return To(t,n.nodeIndex).renderText;if(20240&n.flags)return Oo(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function ta(t){return new ea(t.renderer)}var ea=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Object(r.c)(pi(e),2),o=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,o),o},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),o=0;o<e.length;o++)this.delegate.insertBefore(n,e[o],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var o=Object(r.c)(pi(e),2),i=o[0],a=o[1];null!=n?this.delegate.setAttribute(t,a,n,i):this.delegate.removeAttribute(t,a,i)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function na(t,e,n,r){return new ra(t,e,n,r)}var ra=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var o=e.providers[r];4096&o.flags||void 0===n[r]&&(n[r]=xi(t,o))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=dt.THROW_IF_NOT_FOUND),void 0===n&&(n=0);var r=0;return 4&n?r|=1:2&n&&(r|=4),Pi(this,{token:t,tokenKey:Lo(t),flags:r},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Ye)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+K(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,o=0;o<n.providers.length;o++)if(131072&n.providers[o].flags){var i=t._providers[o];if(i&&i!==Oi){var a=i.ngOnDestroy;"function"!=typeof a||r.has(i)||(a.apply(i),r.add(i))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),oa=Lo(qn),ia=Lo(Kn),aa=Lo(Qn),sa=Lo(ir),ua=Lo(or),ca=Lo(ar),la=Lo(dt),ha=Lo(lt);function da(t,e,n,o,i,a,s,u){var c=[];if(s)for(var l in s){var h=Object(r.c)(s[l],2);c[h[0]]={flags:8,name:l,nonMinifiedName:h[1],ns:null,securityContext:null,suffix:null}}var d=[];if(u)for(var f in u)d.push({type:1,propName:f,target:null,eventName:u[f]});return va(t,e|=16384,n,o,i,i,a,c,d)}function fa(t,e,n){return va(-1,t|=16,null,0,e,e,n)}function pa(t,e,n,r,o){return va(-1,t,e,0,n,r,o)}function va(t,e,n,r,o,i,a,s,u){var c=ri(n),l=c.matchedQueries,h=c.references,d=c.matchedQueryIds;u||(u=[]),s||(s=[]),i=et(i);var f=oi(a,K(o));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:d,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:vi(s),outputs:u,element:null,provider:{token:o,value:i,deps:f},text:null,query:null,ngContent:null}}function ya(t,e){return _a(t,e)}function ga(t,e){for(var n=t;n.parent&&!ti(n);)n=n.parent;return wa(n.parent,Xo(n),!0,e.provider.value,e.provider.deps)}function ma(t,e){var n=wa(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var o=e.outputs[r],i=n[o.propName].subscribe(ba(t,e.parent.nodeIndex,o.eventName));t.disposables[e.outputIndex+r]=i.unsubscribe.bind(i)}return n}function ba(t,e,n){return function(r){return zo(t,e,n,r)}}function _a(t,e){var n=(8192&e.flags)>0,o=e.provider;switch(201347067&e.flags){case 512:return wa(t,e.parent,n,o.value,o.deps);case 1024:return function(t,e,n,o,i){var a=i.length;switch(a){case 0:return o();case 1:return o(Ca(t,e,n,i[0]));case 2:return o(Ca(t,e,n,i[0]),Ca(t,e,n,i[1]));case 3:return o(Ca(t,e,n,i[0]),Ca(t,e,n,i[1]),Ca(t,e,n,i[2]));default:for(var s=Array(a),u=0;u<a;u++)s[u]=Ca(t,e,n,i[u]);return o.apply(void 0,Object(r.d)(s))}}(t,e.parent,n,o.value,o.deps);case 2048:return Ca(t,e.parent,n,o.deps[0]);case 256:return o.value}}function wa(t,e,n,o,i){var a=i.length;switch(a){case 0:return new o;case 1:return new o(Ca(t,e,n,i[0]));case 2:return new o(Ca(t,e,n,i[0]),Ca(t,e,n,i[1]));case 3:return new o(Ca(t,e,n,i[0]),Ca(t,e,n,i[1]),Ca(t,e,n,i[2]));default:for(var s=new Array(a),u=0;u<a;u++)s[u]=Ca(t,e,n,i[u]);return new(o.bind.apply(o,Object(r.d)([void 0],s)))}}var Ea={};function Ca(t,e,n,r,o){if(void 0===o&&(o=dt.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var i=t;2&r.flags&&(o=null);var a=r.tokenKey;a===ca&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var s=t;s;){if(e)switch(a){case oa:return ta(Sa(s,e,n));case ia:return Sa(s,e,n).renderer;case aa:return new Qn(Io(s,e.nodeIndex).renderElement);case sa:return Io(s,e.nodeIndex).viewContainer;case ua:if(e.element.template)return Io(s,e.nodeIndex).template;break;case ca:return Ki(Sa(s,e,n));case la:case ha:return Xi(s,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[a];if(u){var c=Oo(s,u.nodeIndex);return c||(c={instance:_a(s,u)},s.nodes[u.nodeIndex]=c),c.instance}}n=ti(s),e=Xo(s),s=s.parent,4&r.flags&&(s=null)}var l=i.root.injector.get(r.token,Ea);return l!==Ea||o===Ea?l:i.root.ngModule.injector.get(r.token,o)}function Sa(t,e,n){var r;if(n)r=Io(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!ti(r);)r=r.parent;return r}function Ta(t,e,n,r,o,i){if(32768&n.flags){var a=Io(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=o,524288&n.flags){i=i||{};var s=mr.unwrap(t.oldValues[n.bindingIndex+r]);i[n.bindings[r].nonMinifiedName]=new br(s,o,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=o,i}function Ia(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,o=0;o<n.length;o++){var i=n[o],a=i.parent;for(!a&&i.flags&e&&Da(t,o,i.flags&e,r++),0==(i.childFlags&e)&&(o+=i.childCount);a&&1&a.flags&&o===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=Oa(t,a,e,r)),a=a.parent}}function Oa(t,e,n,r){for(var o=e.nodeIndex+1;o<=e.nodeIndex+e.childCount;o++){var i=t.def.nodes[o];i.flags&n&&Da(t,o,i.flags&n,r++),o+=i.childCount}return r}function Da(t,e,n,r){var o=Oo(t,e);if(o){var i=o.instance;i&&(Ro.setCurrentNode(t,e),1048576&n&&So(t,512,r)&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&So(t,768,r)&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}}function Na(t,e,n){var r=[];for(var o in n)r.push({propName:o,bindingType:n[o]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:ni(e),bindings:r},ngContent:null}}function Aa(t){for(var e=t.def.nodeMatchedQueries;t.parent&&ei(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,o=0;o<=r;o++)67108864&(i=t.def.nodes[o]).flags&&536870912&i.flags&&(i.query.filterId&e)===i.query.filterId&&No(t,o).setDirty(),!(1&i.flags&&o+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(o+=i.childCount)}if(134217728&t.def.nodeFlags)for(o=0;o<t.def.nodes.length;o++){var i;134217728&(i=t.def.nodes[o]).flags&&536870912&i.flags&&No(t,o).setDirty(),o+=i.childCount}}function Ra(t,e){var n=No(t,e.nodeIndex);if(n.dirty){var r,o=void 0;if(67108864&e.flags){var i=e.parent.parent;o=ka(t,i.nodeIndex,i.nodeIndex+i.childCount,e.query,[]),r=Oo(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(o=ka(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(o);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var c=a[u],l=void 0;switch(c.bindingType){case 0:l=n.first;break;case 1:l=n,s=!0}r[c.propName]=l}s&&n.notifyOnChanges()}}function ka(t,e,n,r,o){for(var i=e;i<=n;i++){var a=t.def.nodes[i],s=a.matchedQueries[r.id];if(null!=s&&o.push(Pa(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Io(t,i);if((a.childMatchedQueries&r.filterId)===r.filterId&&(ka(t,i+1,i+a.childCount,r,o),i+=a.childCount),16777216&a.flags)for(var c=u.viewContainer._embeddedViews,l=0;l<c.length;l++){var h=c[l],d=Yo(h);d&&d===u&&ka(h,0,h.def.nodes.length-1,r,o)}var f=u.template._projectedViews;if(f)for(l=0;l<f.length;l++){var p=f[l];ka(p,0,p.def.nodes.length-1,r,o)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(i+=a.childCount)}return o}function Pa(t,e,n){if(null!=n)switch(n){case 1:return Io(t,e.nodeIndex).renderElement;case 0:return new Qn(Io(t,e.nodeIndex).renderElement);case 2:return Io(t,e.nodeIndex).template;case 3:return Io(t,e.nodeIndex).viewContainer;case 4:return Oo(t,e.nodeIndex).instance}}function xa(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Ma(t,e,n){var r=ii(t,e,n);r&&li(t,n.ngContent.index,1,r,null,void 0)}function $a(t,e){return Fa(128,t,new Array(e+1))}function La(t,e){return Fa(32,t,new Array(e))}function ja(t,e){for(var n=Object.keys(e),r=n.length,o=new Array(r),i=0;i<r;i++){var a=n[i];o[e[a]]=a}return Fa(64,t,o)}function Fa(t,e,n){for(var r=new Array(n.length),o=0;o<n.length;o++){var i=n[o];r[o]={flags:8,name:i,ns:null,nonMinifiedName:i,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:vi(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Va(t,e,n){for(var r=new Array(n.length-1),o=1;o<n.length;o++)r[o-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[o]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Ua(t,e,n){var r,o=t.renderer;r=o.createText(n.text.prefix);var i=ii(t,e,n);return i&&o.appendChild(i,r),{renderText:r}}function Ba(t,e){return(null!=t?t.toString():"")+e.suffix}function qa(t,e,n,r){for(var o=0,i=0,a=0,s=0,u=0,c=null,l=null,h=!1,d=!1,f=null,p=0;p<e.length;p++){var v=e[p];if(v.nodeIndex=p,v.parent=c,v.bindingIndex=o,v.outputIndex=i,v.renderParent=l,a|=v.flags,u|=v.matchedQueryIds,v.element){var y=v.element;y.publicProviders=c?c.element.publicProviders:Object.create(null),y.allProviders=y.publicProviders,h=!1,d=!1,v.element.template&&(u|=v.element.template.nodeMatchedQueries)}if(Wa(c,v,e.length),o+=v.bindings.length,i+=v.outputs.length,!l&&3&v.flags&&(f=v),20224&v.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var g=0!=(32768&v.flags);0==(8192&v.flags)||g?c.element.publicProviders[Lo(v.provider.token)]=v:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[Lo(v.provider.token)]=v),g&&(c.element.componentProvider=v)}if(c?(c.childFlags|=v.flags,c.directChildFlags|=v.flags,c.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(c.childMatchedQueries|=v.element.template.nodeMatchedQueries)):s|=v.flags,v.childCount>0)c=v,Ha(v)||(l=v);else for(;c&&p===c.nodeIndex+c.childCount;){var m=c.parent;m&&(m.childFlags|=c.childFlags,m.childMatchedQueries|=c.childMatchedQueries),l=(c=m)&&Ha(c)?c.renderParent:c}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||Mo,updateRenderer:r||Mo,handleEvent:function(t,n,r,o){return e[n].element.handleEvent(t,r,o)},bindingCount:o,outputCount:i,lastRenderRootNode:f}}function Ha(t){return 0!=(1&t.flags)&&null===t.element.name}function Wa(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var o=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=o&&e.nodeIndex+e.childCount>o)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function Ga(t,e,n,r){var o=za(t.root,t.renderer,t,e,n);return Ya(o,t.component,r),Xa(o),o}function Ka(t,e,n){var r=za(t,t.renderer,null,null,e);return Ya(r,n,n),Xa(r),r}function Qa(t,e,n,r){var o,i=e.element.componentRendererType;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,za(t.root,o,t,e.element.componentProvider,n)}function za(t,e,n,r,o){var i=new Array(o.nodes.length),a=o.outputCount?new Array(o.outputCount):null;return{def:o,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:i,state:13,root:t,renderer:e,oldValues:new Array(o.bindingCount),disposables:a,initIndex:-1}}function Ya(t,e,n){t.component=e,t.context=n}function Xa(t){var e;ti(t)&&(e=Io(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,o=0;o<n.nodes.length;o++){var i=n.nodes[o];Ro.setCurrentNode(t,o);var a=void 0;switch(201347067&i.flags){case 1:var s=Ci(t,e,i),u=void 0;if(33554432&i.flags){var c=si(i.element.componentView);u=Ro.createComponentView(t,i,c,s)}Si(t,u,i,s),a={renderElement:s,componentView:u,viewContainer:null,template:i.element.template?zi(t,i):void 0},16777216&i.flags&&(a.viewContainer=Wi(t,i,a));break;case 2:a=Ua(t,e,i);break;case 512:case 1024:case 2048:case 256:(a=r[o])||4096&i.flags||(a={instance:ya(t,i)});break;case 16:a={instance:ga(t,i)};break;case 16384:(a=r[o])||(a={instance:ma(t,i)}),32768&i.flags&&Ya(Io(t,i.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Jn;break;case 8:Ma(t,e,i),a=void 0}r[o]=a}as(t,is.CreateViewNodes),ls(t,201326592,268435456,0)}function Za(t){es(t),Ro.updateDirectives(t,1),ss(t,is.CheckNoChanges),Ro.updateRenderer(t,1),as(t,is.CheckNoChanges),t.state&=-97}function Ja(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Co(t,0,256),es(t),Ro.updateDirectives(t,0),ss(t,is.CheckAndUpdate),ls(t,67108864,536870912,0);var e=Co(t,256,512);Ia(t,2097152|(e?1048576:0)),Ro.updateRenderer(t,0),as(t,is.CheckAndUpdate),ls(t,134217728,536870912,0),Ia(t,8388608|((e=Co(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Co(t,768,1024)}function ts(t,e,n,o,i,a,s,u,c,l,h,d,f){return 0===n?function(t,e,n,r,o,i,a,s,u,c,l,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,o,i,a,s,u,c,l,h){var d=e.bindings.length,f=!1;return d>0&&Ii(t,e,0,n)&&(f=!0),d>1&&Ii(t,e,1,r)&&(f=!0),d>2&&Ii(t,e,2,o)&&(f=!0),d>3&&Ii(t,e,3,i)&&(f=!0),d>4&&Ii(t,e,4,a)&&(f=!0),d>5&&Ii(t,e,5,s)&&(f=!0),d>6&&Ii(t,e,6,u)&&(f=!0),d>7&&Ii(t,e,7,c)&&(f=!0),d>8&&Ii(t,e,8,l)&&(f=!0),d>9&&Ii(t,e,9,h)&&(f=!0),f}(t,e,n,r,o,i,a,s,u,c,l,h);case 2:return function(t,e,n,r,o,i,a,s,u,c,l,h){var d=!1,f=e.bindings,p=f.length;if(p>0&&Wo(t,e,0,n)&&(d=!0),p>1&&Wo(t,e,1,r)&&(d=!0),p>2&&Wo(t,e,2,o)&&(d=!0),p>3&&Wo(t,e,3,i)&&(d=!0),p>4&&Wo(t,e,4,a)&&(d=!0),p>5&&Wo(t,e,5,s)&&(d=!0),p>6&&Wo(t,e,6,u)&&(d=!0),p>7&&Wo(t,e,7,c)&&(d=!0),p>8&&Wo(t,e,8,l)&&(d=!0),p>9&&Wo(t,e,9,h)&&(d=!0),d){var v=e.text.prefix;p>0&&(v+=Ba(n,f[0])),p>1&&(v+=Ba(r,f[1])),p>2&&(v+=Ba(o,f[2])),p>3&&(v+=Ba(i,f[3])),p>4&&(v+=Ba(a,f[4])),p>5&&(v+=Ba(s,f[5])),p>6&&(v+=Ba(u,f[6])),p>7&&(v+=Ba(c,f[7])),p>8&&(v+=Ba(l,f[8])),p>9&&(v+=Ba(h,f[9]));var y=To(t,e.nodeIndex).renderText;t.renderer.setValue(y,v)}return d}(t,e,n,r,o,i,a,s,u,c,l,h);case 16384:return function(t,e,n,r,o,i,a,s,u,c,l,h){var d=Oo(t,e.nodeIndex),f=d.instance,p=!1,v=void 0,y=e.bindings.length;return y>0&&Ho(t,e,0,n)&&(p=!0,v=Ta(t,d,e,0,n,v)),y>1&&Ho(t,e,1,r)&&(p=!0,v=Ta(t,d,e,1,r,v)),y>2&&Ho(t,e,2,o)&&(p=!0,v=Ta(t,d,e,2,o,v)),y>3&&Ho(t,e,3,i)&&(p=!0,v=Ta(t,d,e,3,i,v)),y>4&&Ho(t,e,4,a)&&(p=!0,v=Ta(t,d,e,4,a,v)),y>5&&Ho(t,e,5,s)&&(p=!0,v=Ta(t,d,e,5,s,v)),y>6&&Ho(t,e,6,u)&&(p=!0,v=Ta(t,d,e,6,u,v)),y>7&&Ho(t,e,7,c)&&(p=!0,v=Ta(t,d,e,7,c,v)),y>8&&Ho(t,e,8,l)&&(p=!0,v=Ta(t,d,e,8,l,v)),y>9&&Ho(t,e,9,h)&&(p=!0,v=Ta(t,d,e,9,h,v)),v&&f.ngOnChanges(v),65536&e.flags&&So(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),p}(t,e,n,r,o,i,a,s,u,c,l,h);case 32:case 64:case 128:return function(t,e,n,r,o,i,a,s,u,c,l,h){var d=e.bindings,f=!1,p=d.length;if(p>0&&Wo(t,e,0,n)&&(f=!0),p>1&&Wo(t,e,1,r)&&(f=!0),p>2&&Wo(t,e,2,o)&&(f=!0),p>3&&Wo(t,e,3,i)&&(f=!0),p>4&&Wo(t,e,4,a)&&(f=!0),p>5&&Wo(t,e,5,s)&&(f=!0),p>6&&Wo(t,e,6,u)&&(f=!0),p>7&&Wo(t,e,7,c)&&(f=!0),p>8&&Wo(t,e,8,l)&&(f=!0),p>9&&Wo(t,e,9,h)&&(f=!0),f){var v=Do(t,e.nodeIndex),y=void 0;switch(201347067&e.flags){case 32:y=new Array(d.length),p>0&&(y[0]=n),p>1&&(y[1]=r),p>2&&(y[2]=o),p>3&&(y[3]=i),p>4&&(y[4]=a),p>5&&(y[5]=s),p>6&&(y[6]=u),p>7&&(y[7]=c),p>8&&(y[8]=l),p>9&&(y[9]=h);break;case 64:y={},p>0&&(y[d[0].name]=n),p>1&&(y[d[1].name]=r),p>2&&(y[d[2].name]=o),p>3&&(y[d[3].name]=i),p>4&&(y[d[4].name]=a),p>5&&(y[d[5].name]=s),p>6&&(y[d[6].name]=u),p>7&&(y[d[7].name]=c),p>8&&(y[d[8].name]=l),p>9&&(y[d[9].name]=h);break;case 128:var g=n;switch(p){case 1:y=g.transform(n);break;case 2:y=g.transform(r);break;case 3:y=g.transform(r,o);break;case 4:y=g.transform(r,o,i);break;case 5:y=g.transform(r,o,i,a);break;case 6:y=g.transform(r,o,i,a,s);break;case 7:y=g.transform(r,o,i,a,s,u);break;case 8:y=g.transform(r,o,i,a,s,u,c);break;case 9:y=g.transform(r,o,i,a,s,u,c,l);break;case 10:y=g.transform(r,o,i,a,s,u,c,l,h)}}v.value=y}return f}(t,e,n,r,o,i,a,s,u,c,l,h);default:throw"unreachable"}}(t,e,o,i,a,s,u,c,l,h,d,f):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,o=0;o<n.length;o++)Ii(t,e,o,n[o])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,o=!1,i=0;i<n.length;i++)Wo(t,e,i,n[i])&&(o=!0);if(o){var a="";for(i=0;i<n.length;i++)a+=Ba(n[i],r[i]);a=e.text.prefix+a;var s=To(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return o}(t,e,n);case 16384:return function(t,e,n){for(var r=Oo(t,e.nodeIndex),o=r.instance,i=!1,a=void 0,s=0;s<n.length;s++)Ho(t,e,s,n[s])&&(i=!0,a=Ta(t,r,e,s,n[s],a));return a&&o.ngOnChanges(a),65536&e.flags&&So(t,256,e.nodeIndex)&&o.ngOnInit(),262144&e.flags&&o.ngDoCheck(),i}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var o=e.bindings,i=!1,a=0;a<n.length;a++)Wo(t,e,a,n[a])&&(i=!0);if(i){var s=Do(t,e.nodeIndex),u=void 0;switch(201347067&e.flags){case 32:u=n;break;case 64:for(u={},a=0;a<n.length;a++)u[o[a].name]=n[a];break;case 128:var c=n[0],l=n.slice(1);u=c.transform.apply(c,Object(r.d)(l))}s.value=u}return i}(t,e,n);default:throw"unreachable"}}(t,e,o)}function es(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var o=Io(t,n).template._projectedViews;if(o)for(var i=0;i<o.length;i++){var a=o[i];a.state|=32,Qo(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function ns(t,e,n,r,o,i,a,s,u,c,l,h,d){return 0===n?function(t,e,n,r,o,i,a,s,u,c,l,h){var d=e.bindings.length;d>0&&Go(t,e,0,n),d>1&&Go(t,e,1,r),d>2&&Go(t,e,2,o),d>3&&Go(t,e,3,i),d>4&&Go(t,e,4,a),d>5&&Go(t,e,5,s),d>6&&Go(t,e,6,u),d>7&&Go(t,e,7,c),d>8&&Go(t,e,8,l),d>9&&Go(t,e,9,h)}(t,e,r,o,i,a,s,u,c,l,h,d):function(t,e,n){for(var r=0;r<n.length;r++)Go(t,e,r,n[r])}(t,e,r),!1}function rs(t,e){if(No(t,e.nodeIndex).dirty)throw ko(Ro.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function os(t){if(!(128&t.state)){if(ss(t,is.Destroy),as(t,is.Destroy),Ia(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Yo(t);if(e){var n=e.template._projectedViews;n&&(Fi(n,n.indexOf(t)),Ro.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(Io(t,n).renderElement):2&r.flags?t.renderer.destroyNode(To(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&No(t,n).destroy()}}(t),ti(t)&&t.renderer.destroy(),t.state|=128}}var is=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function as(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];33554432&o.flags?us(Io(t,r).componentView,e):0==(33554432&o.childFlags)&&(r+=o.childCount)}}function ss(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];if(16777216&o.flags)for(var i=Io(t,r).viewContainer._embeddedViews,a=0;a<i.length;a++)us(i[a],e);else 0==(16777216&o.childFlags)&&(r+=o.childCount)}}function us(t,e){var n=t.state;switch(e){case is.CheckNoChanges:0==(128&n)&&(12==(12&n)?Za(t):64&n&&cs(t,is.CheckNoChangesProjectedViews));break;case is.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Za(t):64&n&&cs(t,e));break;case is.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Ja(t):64&n&&cs(t,is.CheckAndUpdateProjectedViews));break;case is.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Ja(t):64&n&&cs(t,e));break;case is.Destroy:os(t);break;case is.CreateViewNodes:Xa(t)}}function cs(t,e){ss(t,e),as(t,e)}function ls(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var o=t.def.nodes.length,i=0;i<o;i++){var a=t.def.nodes[i];if(a.flags&e&&a.flags&n)switch(Ro.setCurrentNode(t,a.nodeIndex),r){case 0:Ra(t,a);break;case 1:rs(t,a)}a.childFlags&e&&a.childFlags&n||(i+=a.childCount)}}var hs=!1;function ds(){if(!hs){hs=!0;var t=An()?{setCurrentNode:Ms,createRootView:ps,createEmbeddedView:ys,createComponentView:gs,createNgModuleRef:ms,overrideProvider:Es,overrideComponentView:Cs,clearOverrides:Ss,checkAndUpdateView:Ds,checkNoChangesView:Ns,destroyView:As,createDebugContext:function(t,e){return new Ws(t,e)},handleEvent:$s,updateDirectives:Ls,updateRenderer:js}:{setCurrentNode:function(){},createRootView:fs,createEmbeddedView:Ga,createComponentView:Qa,createNgModuleRef:na,overrideProvider:Mo,overrideComponentView:Mo,clearOverrides:Mo,checkAndUpdateView:Ja,checkNoChangesView:Za,destroyView:os,createDebugContext:function(t,e){return new Ws(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Is:Os,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Is:Os,t)}};Ro.setCurrentNode=t.setCurrentNode,Ro.createRootView=t.createRootView,Ro.createEmbeddedView=t.createEmbeddedView,Ro.createComponentView=t.createComponentView,Ro.createNgModuleRef=t.createNgModuleRef,Ro.overrideProvider=t.overrideProvider,Ro.overrideComponentView=t.overrideComponentView,Ro.clearOverrides=t.clearOverrides,Ro.checkAndUpdateView=t.checkAndUpdateView,Ro.checkNoChangesView=t.checkNoChangesView,Ro.destroyView=t.destroyView,Ro.resolveDep=Ca,Ro.createDebugContext=t.createDebugContext,Ro.handleEvent=t.handleEvent,Ro.updateDirectives=t.updateDirectives,Ro.updateRenderer=t.updateRenderer,Ro.dirtyParentQueries=Aa}}function fs(t,e,n,r,o,i){return Ka(vs(t,o,o.injector.get(Wn),e,n),r,i)}function ps(t,e,n,r,o,i){var a=o.injector.get(Wn),s=vs(t,o,new zs(a),e,n),u=Ts(r);return Ks(xs.create,Ka,null,[s,u,i])}function vs(t,e,n,r,o){var i=e.injector.get(Eo),a=e.injector.get(Kt);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:o,sanitizer:i,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:a}}function ys(t,e,n,r){var o=Ts(n);return Ks(xs.create,Ga,null,[t,e,o,r])}function gs(t,e,n,r){return n=ws.get(e.element.componentProvider.provider.token)||Ts(n),Ks(xs.create,Qa,null,[t,e,n,r])}function ms(t,e,n,r){return na(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===bs.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=bs.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(function(t){_s.forEach(function(r,o){o.ngInjectableDef.providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var o=bs.get(r.token);o&&(r.flags=-3841&r.flags|o.flags,r.deps=oi(o.deps),r.value=o.value)}if(_s.size>0){var i=new Set(t.modules);_s.forEach(function(e,r){if(i.has(r.ngInjectableDef.providedIn)){var o={token:r,flags:e.flags|(n?4096:0),deps:oi(e.deps),value:e.value,index:t.providers.length};t.providers.push(o),t.providersByKey[Lo(r)]=o}})}}(t=t.factory(function(){return Mo})),t):t}(r))}var bs=new Map,_s=new Map,ws=new Map;function Es(t){bs.set(t.token,t),"function"==typeof t.token&&t.token.ngInjectableDef&&"function"==typeof t.token.ngInjectableDef.providedIn&&_s.set(t.token,t)}function Cs(t,e){var n=si(si(Bi(e)).nodes[0].element.componentView);ws.set(t,n)}function Ss(){bs.clear(),_s.clear(),ws.clear()}function Ts(t){if(0===bs.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var o=t.nodes[r];1&o.flags&&(n=o),n&&3840&o.flags&&bs.has(o.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return Mo});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var o=r.provider,i=bs.get(o.token);i&&(r.flags=-3841&r.flags|i.flags,o.deps=oi(i.deps),o.value=i.value)}}}}function Is(t,e,n,r,o,i,a,s,u,c,l,h,d){var f=t.def.nodes[e];return ts(t,f,n,r,o,i,a,s,u,c,l,h,d),224&f.flags?Do(t,e).value:void 0}function Os(t,e,n,r,o,i,a,s,u,c,l,h,d){var f=t.def.nodes[e];return ns(t,f,n,r,o,i,a,s,u,c,l,h,d),224&f.flags?Do(t,e).value:void 0}function Ds(t){return Ks(xs.detectChanges,Ja,null,[t])}function Ns(t){return Ks(xs.checkNoChanges,Za,null,[t])}function As(t){return Ks(xs.destroy,os,null,[t])}var Rs,ks,Ps,xs=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function Ms(t,e){ks=t,Ps=e}function $s(t,e,n,r){return Ms(t,e),Ks(xs.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Ls(t,e){if(128&t.state)throw xo(xs[Rs]);return Ms(t,qs(t,0)),t.def.updateDirectives(function(t,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var a=t.def.nodes[n];return 0===e?Fs(t,a,r,o):Vs(t,a,r,o),16384&a.flags&&Ms(t,qs(t,n)),224&a.flags?Do(t,a.nodeIndex).value:void 0},t)}function js(t,e){if(128&t.state)throw xo(xs[Rs]);return Ms(t,Hs(t,0)),t.def.updateRenderer(function(t,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var a=t.def.nodes[n];return 0===e?Fs(t,a,r,o):Vs(t,a,r,o),3&a.flags&&Ms(t,Hs(t,n)),224&a.flags?Do(t,a.nodeIndex).value:void 0},t)}function Fs(t,e,n,o){if(ts.apply(void 0,Object(r.d)([t,e,n],o))){var i=1===n?o[0]:o;if(16384&e.flags){for(var a={},s=0;s<e.bindings.length;s++){var u=e.bindings[s],c=i[s];8&u.flags&&(a[(f=u.nonMinifiedName,"ng-reflect-"+(f=f.replace(/[$@]/g,"_").replace(Us,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})))]=Bs(c))}var l=e.parent,h=Io(t,l.nodeIndex).renderElement;if(l.element.name)for(var d in a)null!=(c=a[d])?t.renderer.setAttribute(h,d,c):t.renderer.removeAttribute(h,d);else t.renderer.setValue(h,"bindings="+JSON.stringify(a,null,2))}}var f}function Vs(t,e,n,o){ns.apply(void 0,Object(r.d)([t,e,n],o))}var Us=/([A-Z])/g;function Bs(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function qs(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Hs(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var Ws=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Xo(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return Io(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Xi(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Gs(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Gs(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!ti(t);)t=t.parent;return t.parent?Io(t.parent,Xo(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?Zo(this.view,this.nodeDef):Zo(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var a=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),s=-1;e.factory(function(){var e;return++s===a?(e=t.error).bind.apply(e,Object(r.d)([t],o)):Mo}),s<a&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,Object(r.d)(o)))},t}();function Gs(t,e,n){for(var r in e.references)n[r]=Pa(t,e,e.references[r])}function Ks(t,e,n,r){var o=Rs,i=ks,a=Ps;try{Rs=t;var s=e.apply(n,r);return ks=i,Ps=a,Rs=o,s}catch(t){if(Ht(t)||!ks)throw t;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Po(t,e),t}(t,Qs())}}function Qs(){return ks?new Ws(ks,Ps):null}var zs=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Ys(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),Ys=function(){function t(t){this.delegate=t,this.data=this.delegate.data}return t.prototype.destroyNode=function(t){!function(t){pr.delete(t.nativeNode)}(vr(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=Qs();if(r){var o=new lr(n,null,r);o.name=t,yr(o)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=Qs();return n&&yr(new cr(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=Qs();return n&&yr(new cr(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=vr(t),r=vr(e);n&&r&&n instanceof lr&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=vr(t),o=vr(e),i=vr(n);r&&o&&r instanceof lr&&r.insertBefore(i,o),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=vr(t),r=vr(e);n&&r&&n instanceof lr&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=Qs();return n&&yr(new lr(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var o=vr(t);o&&o instanceof lr&&(o.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=vr(t);r&&r instanceof lr&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=vr(t);n&&n instanceof lr&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=vr(t);n&&n instanceof lr&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var o=vr(t);o&&o instanceof lr&&(o.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=vr(t);r&&r instanceof lr&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=vr(t);r&&r instanceof lr&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=vr(t);r&&r.listeners.push(new function(t,e){this.name=t,this.callback=e}(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function Xs(t){return ds(),Ro.overrideProvider(t)}function Zs(t,e){return ds(),Ro.overrideComponentView(t,e)}function Js(){return ds(),Ro.clearOverrides()}function tu(t,e,n){return new eu(t,e,n)}var eu=function(t){function e(e,n,r){var o=t.call(this)||this;return o.moduleType=e,o._bootstrapComponents=n,o._ngModuleDefFactory=r,o}return Object(r.b)(e,t),e.prototype.create=function(t){ds();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var o in t.providersByKey)r[o]=t.providersByKey[o];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(si(this._ngModuleDefFactory));return Ro.createNgModuleRef(this.moduleType,t||dt.NULL,this._bootstrapComponents,e)},e}(tn);function nu(t,e,n){t!=e&&su(n)}function ru(t,e,n){t==e&&su(n)}function ou(t,e,n){t>=e&&su(n)}function iu(t,e){null==t&&su(e)}function au(t,e){void 0===e&&(e="Type passed in is not ComponentType, it does not have 'ngComponentDef' property."),t.ngComponentDef||su(e)}function su(t){throw new Error("ASSERTION ERROR: "+t)}var uu=16,cu=0,lu=1,hu=2,du=3,fu=4,pu=5,vu=6,yu=7,gu=8,mu=9,bu=10,_u=11,wu=12,Eu=13,Cu=14,Su=15;function Tu(t,e,n,r){ngDevMode&&nu(r.firstTemplatePass,!0,"Should only be called on first template pass"),e&&(r.initHooks||(r.initHooks=[])).push(t,e),n&&((r.initHooks||(r.initHooks=[])).push(t,n),(r.checkHooks||(r.checkHooks=[])).push(t,n))}function Iu(t,e){if(e.firstTemplatePass)for(var n=t>>14,r=n+(4095&t),o=n;o<r;o++){var i=e.directives[o];Ou(i,e,o),Du(i,e,o),Nu(i,e,o)}}function Ou(t,e,n){t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,t.afterContentChecked))}function Du(t,e,n){t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,t.afterViewChecked))}function Nu(t,e,n){null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,t.onDestroy)}function Au(t,e,n){16&t[fu]&&(Ru(t[yu],e.initHooks,e.checkHooks,n),t[fu]&=-17)}function Ru(t,e,n,r){var o=r?e:n;o&&ku(t,o)}function ku(t,e){for(var n=0;n<e.length;n+=2)e[n+1].call(t[e[n]])}function Pu(t){throw new Error("Multiple components match node with tagname "+t.tagName)}"undefined"==typeof ngDevMode&&("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||"undefined"!=typeof global&&global);var xu=0,Mu=4,$u=5,Lu="ngProjectAs",ju=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Fu(t){return!!t.listen}var Vu={createRenderer:function(t,e){return document}};function Uu(t,e){iu(t,"should be called with a node"),nu(t.tNode.type,e,"should be a "+qu(e))}function Bu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];iu(t,"should be called with a node"),nu(e.some(function(e){return t.tNode.type===e}),!0,"Should be one of "+e.map(qu).join(", "))}function qu(t){return 1==t?"Projection":0==t?"Container":2==t?"View":3==t?"Element":"<unknown>"}function Hu(t){return"function"==typeof t?t.name||t:"string"==typeof t?t:null==t?"":""+t}function Wu(t,e){return ngDevMode&&Gu(t+uu,e),e[t+uu]}function Gu(t,e){ou(t,e?e.length:0,"index expected to be a valid data index")}function Ku(t){return Array.isArray(t)?t[0]:t}function Qu(t){if(2===t.tNode.type){var e=t.data;return e[hu]?e[hu][pu]:null}return t.tNode.next?t.view[t.tNode.next.index]:null}function zu(t){return t.tNode.child?Ku((2===t.tNode.type?t.data:t.view)[t.tNode.child.index]):null}function Yu(t){if(-1===t.tNode.index&&2===t.tNode.type){var e=t.data[Cu];return-1===e?null:t.view[e].dynamicLContainerNode}var n=t.tNode.parent;return Ku(n?t.view[n.index]:t.view[pu])}var Xu=[];function Zu(t,e,n,r,o,i){for(var a=t,s=-1;a;){var u=null,c=o?o.native:null,l=a.tNode.type;if(3===l)tc(n,r,c,a.native,i),a.dynamicLContainerNode&&tc(n,r,c,a.dynamicLContainerNode.native,i);else if(0===l){tc(n,r,c,a.native,i);var h=a,d=h.dynamicLContainerNode?h.dynamicLContainerNode.data:h.data;o&&(d[$u]=o),(u=d[Mu].length?zu(d[Mu][0]):null)&&(i=h.dynamicLContainerNode?h.dynamicLContainerNode.native:h.native)}else if(1===l){var f=Ju(a.view),p=f.tNode.projection[a.tNode.projection];Xu[++s]=a,u=p?f.data[lu][p.index]:null}else u=zu(a);if(null===u)for(null===(u=Qu(a))&&8192&a.tNode.flags&&(u=Qu(Xu[s--]));a&&!u;){if(null===(a=Yu(a))||a===e)return null;a.tNode.next||0!==l||(i=a.native),u=Qu(a)}a=u}}function Ju(t){for(var e=t[pu];2===e.tNode.type;)ngDevMode&&iu(t[lu],"lViewData.parent"),e=(t=t[lu])[pu];return ngDevMode&&Uu(e,3),ngDevMode&&iu(e.data,"node.data"),e}function tc(t,e,n,r,o){0===t?Fu(e)?e.insertBefore(n,r,o):n.insertBefore(r,o,!0):1===t?Fu(e)?e.removeChild(n,r):n.removeChild(r):2===t&&(ngDevMode&&ngDevMode.rendererDestroyNode++,e.destroyNode(r))}function ec(t,e){return Fu(e)?e.createText(Hu(t)):e.createTextNode(Hu(t))}function nc(t,e,n,r){ngDevMode&&Uu(t,0),ngDevMode&&Uu(e,2);var o=t.data[$u];o&&o.native&&Zu(zu(e),e,n?0:1,t.view[_u],o,r)}function rc(t,e,n){var r=t.data[Mu],o=e.data;return n>0&&(r[n-1].data[hu]=o),n<r.length?(o[hu]=r[n].data,r.splice(n,0,e)):(r.push(e),o[hu]=null),-1===e.tNode.index&&(o[Cu]=t.tNode.parent.index,e.view=t.view),o[du]&&o[du].insertView(n),o[fu]|=8,e}function oc(t,e){var n=t.data[Mu],r=n[e];e>0&&(n[e-1].data[hu]=r.data[hu]),n.splice(e,1),t.tNode.detached||nc(t,r,!1);var o=r.data;return o[du]&&o[du].removeView(),o[Cu]=-1,r.view=null,r.data[fu]&=-9,r}function ic(t,e){var n=t.data[Mu][e];return oc(t,e),sc(n.data),n}function ac(t){if(-1===t[cu].childIndex)return null;var e=t[t[cu].childIndex];return e.data?e.data:e.dynamicLContainerNode.data}function sc(t){var e=t[_u];Fu(e)&&e.destroyNode&&Zu(t[pu],t[pu],2,e),function(t){if(-1===t[cu].childIndex)return cc(t);for(var e=ac(t);e;){var n=null;if(e.length>=uu?e[cu].childIndex>-1&&(n=ac(e)):e[Mu].length&&(n=e[Mu][0].data),null==n){for(;e&&!e[hu]&&e!==t;)cc(e),e=uc(e,t);cc(e||t),n=e&&e[hu]}e=n}}(t),t[fu]|=32}function uc(t,e){var n;return(n=t[pu])&&2===n.tNode.type?Yu(n).data:t[lu]===e?null:t[lu]}function cc(t){if(t[cu]){var e=t;!function(t){var e=t[cu].cleanup;if(null!=e){for(var n=0;n<e.length-1;n+=2)"string"==typeof e[n]?(Ku(t[e[n+1]]).native.removeEventListener(e[n],t[gu][e[n+2]],e[n+3]),n+=2):"number"==typeof e[n]?(0,t[gu][e[n]])():e[n].call(t[gu][e[n+1]]);t[gu]=null}}(e),function(t){var e,n=t[cu];null!=n&&null!=(e=n.destroyHooks)&&ku(t[yu],e)}(e),(r=(n=e)[cu]&&n[cu].pipeDestroyHooks)&&ku(n,r),-1===e[cu].id&&Fu(e[_u])&&(ngDevMode&&ngDevMode.rendererDestroy++,e[_u].destroy())}var n,r}function lc(t,e){if(ngDevMode&&Bu(t,3,2),3===t.tNode.type)return t.view!==e||null===t.data;ngDevMode&&Uu(t,2);var n=Yu(t);return null!=n&&(ngDevMode&&Uu(n,0),null!=n.data[$u])}function hc(t,e,n){if(null!==e&&lc(t,n)){var r=n[_u];if(2===t.tNode.type){var o=Yu(t),i=o.data[$u],a=o.data[Mu],s=a.indexOf(t),u=s+1<a.length?zu(a[s+1]).native:o.native;Fu(r)?r.insertBefore(i.native,e,u):i.native.insertBefore(e,u,!0)}else Fu(r)?r.appendChild(t.native,e):t.native.appendChild(e);return!0}return!1}function dc(t,e,n){if(null!==e&&lc(t,n)){var r=n[_u];return Fu(r)?r.removeChild(t.native,e):t.native.removeChild(e),!0}return!1}function fc(t,e,n,r){if(hc(e,t.native,n),0===t.tNode.type){var o=t.data;o[$u]=r;for(var i=o[Mu],a=0;a<i.length;a++)nc(t,i[a],!0,t.native)}t.dynamicLContainerNode&&(t.dynamicLContainerNode.data[$u]=r,hc(e,t.dynamicLContainerNode.native,n))}function pc(t,e){ngDevMode&&iu(e[0],"Selector should have a tag name");for(var n,r,o,i,a,s=4,u=t.attrs,c=u?u.indexOf(1):-1,l=!1,h=0;h<e.length;h++){var d=e[h];if("number"!=typeof d){if(!l)if(4&s){if(s=2|1&s,""!==d&&d!==t.tagName){if(vc(s))return!1;l=!0}}else{var f=yc(8&s?"class":d,u);if(-1===f){if(vc(s))return!1;l=!0;continue}var p=8&s?d:e[++h];if(""!==p){var v=void 0;if(c>-1&&f>c?v="":(ngDevMode&&ru(u[f],0,"We do not match directives on namespaced attributes"),v=u[f+1]),8&s&&(o=(n=v).length,a=(i=n.indexOf(r=p))+r.length,-1===i||i>0&&" "!==n[i-1]||a<o&&" "!==n[a])||2&s&&p!==v){if(vc(s))return!1;l=!0}}}}else{if(!l&&!vc(s)&&!vc(d))return!1;if(l&&vc(d))continue;l=!1,s=d|1&s}}return vc(s)||l}function vc(t){return 0==(1&t)}function yc(t,e){if(null===e)return-1;for(var n=!1,r=0;r<e.length;){var o=e[r];if(o===t)return r;0===o?r+=4:(1===o&&(n=!0),r+=n?1:2)}return-1}function gc(t,e){for(var n=0;n<e.length;n++)if(pc(t,e[n]))return!0;return!1}function mc(t,e,n){for(var r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(Lu);if(0==(1&n))return e[n+1]}return null}(t),o=0;o<e.length;o++)if(r===n[o]||null===r&&gc(t,e[o]))return o+1;return 0}var bc=[],_c={};function wc(t,e,n){var r=6+3*e,o=jc(t,r),i=Lc(t,r);if(Gc(i,o,n)){Mc(t,r,n);var a=Rc(i),s=jc(t,a);if(!s||s!==n){var u=!1,c=!0,l=2==(2&i);!Hc(n,l)&&Hc(s,l)&&(u=!0,c=!1),Sc(t,a,u),Sc(t,r,c),Vc(t,!0)}}}function Ec(t,e,n,r,o,i){n=o&&n?o(e,n):n,i?i[e]=n:n?(ngDevMode&&ngDevMode.rendererSetStyle++,Fu(r)?r.setStyle(t,e,n,ju.DashCase):t.style.setProperty(e,n)):(ngDevMode&&ngDevMode.rendererRemoveStyle++,Fu(r)?r.removeStyle(t,e,ju.DashCase):t.style.removeProperty(e))}function Cc(t,e,n,r,o){o?o[e]=n:n?(ngDevMode&&ngDevMode.rendererAddClass++,Fu(r)?r.addClass(t,e):t.classList.add(e)):(ngDevMode&&ngDevMode.rendererRemoveClass++,Fu(r)?r.removeClass(t,e):t.classList.remove(e))}function Sc(t,e,n){var r=e>=6?e+0:e;n?t[r]|=1:t[r]&=-2}function Tc(t,e){return 1==(1&t[e>=6?e+0:e])}function Ic(t,e){return 2==(2&t[e>=6?e+0:e])}function Oc(t,e){return 4==(4&t[e>=6?e+0:e])}function Dc(t,e,n){return 7&t|e<<3|n<<17}function Nc(t,e){var n=Ac(e);return t[2][n]}function Ac(t){return t>>3&16383}function Rc(t){var e=t>>17&16383;return e>=6?e:-1}function kc(t){return Rc(t[3])}function Pc(t){return t[1]}function xc(t,e,n){t[e+1]=n}function Mc(t,e,n){t[e+2]=n}function $c(t,e,n){t[3===e?e:e+0]=n}function Lc(t,e){return t[3===e?e:e+0]}function jc(t,e){return t[e+2]}function Fc(t,e){return t[e+1]}function Vc(t,e){Sc(t,3,e)}function Uc(t,e,n){for(var r=(n||0)+1;r<t.length;r+=3)if(t[r]==e)return r-1;return-1}function Bc(t,e,n){var r=jc(t,e),o=Fc(t,e),i=Lc(t,e),a=i,s=Lc(t,n),u=Rc(a);u>=0&&$c(t,u,Dc(c=Lc(t,u),Ac(c),n));var c,l=Rc(s);l>=0&&$c(t,l,Dc(c=Lc(t,l),Ac(c),e)),Mc(t,e,jc(t,n)),xc(t,e,Fc(t,n)),$c(t,e,Lc(t,n)),Mc(t,n,r),xc(t,n,o),$c(t,n,i)}function qc(t,e,n,r,o,i){var a=e<t.length;t.splice(e,0,1|o|(n?2:0),r,i),a&&function(t,n){for(var r=e+3;r<t.length;r+=3){var o=Rc(Lc(t,r));if(o>0){var i=Ac(Lc(t,o));$c(t,o,Dc((Tc(t,o)?1:0)|(Ic(t,o)?2:0)|(Oc(t,o)?4:0),i,r))}}}(t)}function Hc(t,e){return e?!!t:null!==t}function Wc(t,e,n){return e?2:n&&n(t)?4:0}function Gc(t,e,n){return!(2&t)&&e&&n&&4&t?e.toString()!==n.toString():e!==n}var Kc,Qc,zc,Yc,Xc,Zc,Jc,tl,el,nl="__ngHostLNode__",rl=Promise.resolve(null),ol=[0,0],il=new Array(uu).fill(null),al="__CIRCULAR__",sl=null;function ul(){return Kc}function cl(){return tl&&tl[wu]}function ll(){return tl}function hl(){return zc}function dl(t){return t[gu]||(t[gu]=[])}function fl(t){return t[cu].cleanup||(t[cu].cleanup=[])}var pl=!1,vl=!0;function yl(t,e){var n=tl;return el=t&&t[yu],Xc=t&&t[cu],Jc=t&&1==(1&t[fu]),vl=t&&Xc.firstTemplatePass,Kc=t&&t[_u],null!=e&&(zc=e,Yc=!0),tl=t,Zc=t&&t[du],n}function gl(t,e){e||(pl||Ru(el,Xc.viewHooks,Xc.viewCheckHooks,Jc),tl[fu]&=-6),tl[fu]|=16,tl[vu]=-1,yl(t,null)}function ml(){pl||Au(tl,Xc,Jc),function(t){for(var e=ac(tl);null!==e;e=e[hu])if(e.length<uu&&null===e[xu])for(var n=e,r=0;r<n[Mu].length;r++){var o=n[Mu][r],i=o.data;ngDevMode&&iu(i[cu],"TView must be allocated"),Tl(o,i[cu],i[mu],2)}}(),pl||Ru(el,Xc.contentHooks,Xc.contentCheckHooks,Jc),Xc.firstTemplatePass=vl=!1,bl(Xc.hostBindings),function(t){if(null!=t.contentQueries)for(var e=0;e<t.contentQueries.length;e+=2){var n=t.contentQueries[e];t.directives[n].contentQueriesRefresh(n,t.contentQueries[e+1])}}(Xc),function(t){if(null!=t)for(var e=0;e<t.length;e+=2)yh(t[e],t[e+1])}(Xc.components)}function bl(t){if(null!=t)for(var e=Xc.directives,n=0;n<t.length;n+=2){var r=t[n],o=e[r];o.hostBindings&&o.hostBindings(r,t[n+1])}}function _l(){pl||(Au(tl,Xc,Jc),Ru(el,Xc.contentHooks,Xc.contentCheckHooks,Jc))}function wl(t,e,n,r,o){return[e,tl,null,null,25|r,null,-1,null,null,n,tl&&tl[bu],t,o||null,null,-1,null]}function El(t,e,n,r,o,i){return{native:r,view:e,nodeInjector:n?n.nodeInjector:null,data:o,queries:i,tNode:null,dynamicLContainerNode:null}}function Cl(t,e,n,r,o,i){var a=Yc?zc:zc&&Yu(zc),s=a&&a.view===tl?a.tNode:null,u=(Yc?Zc:zc&&zc.queries)||a&&a.queries&&a.queries.child(),c=null!=i,l=El(0,tl,a,n,c?i:null,u);if(-1===t||2===e)l.tNode=(i?i[cu].node:null)||Zl(e,t,null,null,s,null);else{var h=t+uu;ngDevMode&&od(h);var d=Xc.data;if(tl[h]=l,h>=d.length){var f=d[h]=Zl(e,h,r,o,s,null);if(!Yc&&zc){var p=zc.tNode;p.next=f,p.dynamicContainerNode&&(p.dynamicContainerNode.next=f)}}l.tNode=d[h],Yc&&(Zc=null,(null==zc.tNode.child&&zc.view===tl||2===zc.tNode.type)&&(zc.tNode.child=l.tNode))}if(2==(2&e)&&c){var v=i;ngDevMode&&null!=v[pu]&&su("lViewData[HOST_NODE] should not have been initialized"),v[pu]=l,vl&&(v[cu].node=l.tNode)}return zc=l,Yc=!0,l}function Sl(){Yc=!1,zc=null}function Tl(t,e,n,r){var o,i=Yc,a=zc;if(null==t.data[lu]&&t.data[mu]&&!e.template)Ch(t.data[mu]);else try{Yc=!0,zc=null,o=yl(t.data,t),Rl(),e.template(r,n),2&r?ml():t.data[cu].firstTemplatePass=vl=!1}finally{gl(o,1==(1&r)),Yc=i,zc=a}return t}function Il(t,e,n,r){var o=yl(e,t);try{Qc.begin&&Qc.begin(),r?(Rl(),r(Ol(e),n),ml()):(_l(),bl(ol),yh(0,uu))}finally{Qc.end&&Qc.end(),gl(o)}}function Ol(t){return 1&t[fu]?3:2}var Dl=null;function Nl(){Dl="http://www.w3.org/2000/svg/"}function Al(){Dl="http://www.w3.org/1998/MathML/"}function Rl(){Dl=null}function kl(t,e,n,r){Pl(t,e,n,r),zl()}function Pl(t,e,n,r){ngDevMode&&nu(tl[vu],-1,"elements should be created before any bindings"),ngDevMode&&ngDevMode.rendererCreateElement++;var o=xl(e);ngDevMode&&rd(t-1);var i=Cl(t,3,o,e,n||null,null);return sl=i,n&&ql(o,n),hc(Yu(i),o,tl),Ml(r),o}function xl(t,e){var n=e||Kc;return Fu(n)?n.createElement(t,Dl):null===Dl?n.createElement(t):n.createElementNS(Dl,t)}function Ml(t){var e=zc;vl?(ngDevMode&&ngDevMode.firstTemplatePass++,function(t,e,n){var r=n?{"":-1}:null,o=e.currentMatches=$l(t);if(o)for(var i=0;i<o.length;i+=2){var a=o[i],s=i+1;Ll(a,s,o,e),Vl(o[s],a,r)}r&&function(t,e,n){if(e)for(var r=t.localNames=[],o=0;o<e.length;o+=2){var i=n[e[o+1]];if(null==i)throw new Error("Export of name '"+e[o+1]+"' not found!");r.push(e[o],i)}}(t,n,r)}(e.tNode,Xc,t||null)):function(){var t=zc.tNode,e=4095&t.flags;if(e>0)for(var n=t.flags>>14,r=n+e,o=Xc.directives,i=n;i<r;i++){var a=o[i];uh(i,a.factory(),a)}}(),function(){var t=zc.tNode.localNames;if(t)for(var e=0;e<t.length;e+=2){var n=t[e+1];tl.push(-1===n?zc.native:el[n])}}()}function $l(t){var e=Xc.directiveRegistry,n=null;if(e)for(var r=0;r<e.length;r++){var o=e[r];gc(t,o.selectors)&&(o.template&&(4096&t.flags&&Pu(t),t.flags=4096),o.diPublic&&o.diPublic(o),(n||(n=[])).push(o,null))}return n}function Ll(t,e,n,r){if(null===n[e]){n[e]=al;var o=t.factory();return(r.directives||(r.directives=[])).push(t),uh(n[e]=r.directives.length-1,o,t)}return n[e]===al&&function(e){throw new Error("Cannot instantiate cyclic dependency! "+t.type)}(),null}function jl(t){vl&&(Xc.components||(Xc.components=[])).push(t,tl.length-1)}function Fl(t,e,n){t&&null!=t.changeDetectorRef&&t.changeDetectorRef._setComponentContext(n,e)}function Vl(t,e,n){n&&(e.exportAs&&(n[e.exportAs]=t),e.template&&(n[""]=t))}function Ul(t,e,n,r){return t.ngPrivateData||(t.ngPrivateData=Bl(-1,t,e,n,r))}function Bl(t,e,n,r,o){return ngDevMode&&ngDevMode.tView++,{id:t,template:e,viewQuery:o,node:null,data:il.slice(),childIndex:-1,bindingStartIndex:-1,directives:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,cleanup:null,hostBindings:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof n?n():n,pipeRegistry:"function"==typeof r?r():r,currentMatches:null}}function ql(t,e){for(var n=Fu(Kc),r=0;r<e.length;){var o=e[r];if(1===o)break;if(o===Lu)r+=2;else if(ngDevMode&&ngDevMode.rendererSetAttribute++,0===o){var i=e[r+1],a=e[r+2],s=e[r+3];n?Kc.setAttribute(t,a,s,i):t.setAttributeNS(i,a,s),r+=4}else s=e[r+1],n?Kc.setAttribute(t,o,s):t.setAttribute(o,s),r+=2}}function Hl(t,e){ngDevMode&&rd(-1),Qc=t;var n=t.createRenderer(null,null),r="string"==typeof e?Fu(n)?n.selectRootElement(e):n.querySelector(e):e;if(ngDevMode&&!r)throw new Error("Renderer: "+("string"==typeof e?"Host node with selector not found:":"Host node is required:")+" ["+Hu(e)+"]");return r}function Wl(t,e,n,r){Sl();var o=Cl(0,3,e,null,null,wl(Kc,Ul(n.template,n.directiveDefs,n.pipeDefs,n.viewQuery),null,n.onPush?4:2,r));return vl&&(o.tNode.flags=4096,n.diPublic&&n.diPublic(n),Xc.directives=[n]),o}function Gl(t,e,n){void 0===n&&(n=!1),ngDevMode&&ed();var r=zc,o=r.native;if(ngDevMode&&ngDevMode.rendererAddEventListener++,Fu(Kc)){var i=function(t,e){return function(n){return Eh(t),e(n)}}(tl,e),a=Kc.listen(o,t,i);Ql(tl,a)}else{i=function(t,e){return function(n){Eh(t),!1===e(n)&&(n.preventDefault(),n.returnValue=!1)}}(tl,e),o.addEventListener(t,i,n);var s=dl(tl);s.push(i),vl&&fl(tl).push(t,r.tNode.index,s.length-1,n)}var u=r.tNode;void 0===u.outputs&&(u.outputs=Jl(r.tNode.flags,1));var c,l=u.outputs;l&&(c=l[t])&&function(t,e){for(var n=0;n<t.length;n+=2){ngDevMode&&rd(t[n],el);var r=el[t[n]][t[n+1]].subscribe(e);Kl(tl,r,r.unsubscribe)}}(c,e)}function Kl(t,e,n){t||(t=tl),dl(t).push(e),t[cu].firstTemplatePass&&fl(t).push(n,t[gu].length-1)}function Ql(t,e){dl(t).push(e),t[cu].firstTemplatePass&&fl(t).push(t[gu].length-1,null)}function zl(){Yc?Yc=!1:(ngDevMode&&nd(),zc=Yu(zc)),ngDevMode&&Uu(zc,3);var t=zc.queries;t&&t.addNode(zc),Iu(zc.tNode.flags,Xc),sl=null}function Yl(t,e,n,r){if(n!==Dh){var o=Kh(t);if(null==n)ngDevMode&&ngDevMode.rendererRemoveAttribute++,Fu(Kc)?Kc.removeAttribute(o.native,e):o.native.removeAttribute(e);else{ngDevMode&&ngDevMode.rendererSetAttribute++;var i=null==r?Hu(n):r(n);Fu(Kc)?Kc.setAttribute(o.native,e,i):o.native.setAttribute(e,i)}}}function Xl(t,e,n,r){if(n!==Dh){var o=Kh(t),i=o.tNode;i&&void 0===i.inputs&&(i.inputs=Jl(o.tNode.flags,0));var a,s=i&&i.inputs;if(s&&(a=s[e]))!function(t,e){for(var n=0;n<t.length;n+=2)ngDevMode&&rd(t[n],el),el[t[n]][t[n+1]]=e}(a,n),function(t){!t.data||2&t.data[fu]||(t.data[fu]|=4)}(o);else{n=null!=r?r(n):n;var u=o.native;ngDevMode&&ngDevMode.rendererSetProperty++,Fu(Kc)?Kc.setProperty(u,e,n):u.setProperty?u.setProperty(e,n):u[e]=n}}}function Zl(t,e,n,r,o,i){return ngDevMode&&ngDevMode.tNode++,{type:t,index:e,flags:0,tagName:n,attrs:r,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:i,next:null,child:null,parent:o,dynamicContainerNode:null,detached:null,stylingTemplate:null,projection:null}}function Jl(t,e){var n=4095&t,r=null;if(n>0)for(var o=t>>14,i=o+n,a=0===e,s=Xc.directives,u=o;u<i;u++){var c=s[u],l=a?c.inputs:c.outputs;for(var h in l)if(l.hasOwnProperty(h)){var d=l[h];(r=r||{}).hasOwnProperty(h)?r[h].push(u,d):r[h]=[u,d]}}return r}function th(t,e,n){var r;wc(r=nh(t),e+r[4],!!n)}function eh(t,e,n){var r=sl.tNode;r.stylingTemplate||(r.stylingTemplate=function(t,e,n){var r=[null],o=[null,n||null,r,0,0,null],i={},a={},s=0;if(e)for(var u=!1,c=0;c<e.length;c++)if(1===(d=e[c]))u=!0;else{var l=d;if(u){var h=e[++c];r.push(h),i[l]=r.length-1}else s++,i[l]=0}if(o[4]=s,t)for(u=!1,c=0;c<t.length;c++){var d;if(1===(d=t[c]))u=!0;else{var f=d;u?(h=t[++c],r.push(h),a[f]=r.length-1):a[f]=0}}var p=Object.keys(i),v=Object.keys(a),y=p.length,g=p.length+v.length,m=3*g*2+6;for(c=6;c<m;c++)o.push(null);var b=3*g+6;for(c=0;c<g;c++){var _=c>=y,w=(l=_?v[c-y]:p[c],_?a[l]:i[l]),E=r[w],C=3*c+b,S=3*c+6,T=Wc(l,_,n||null);$c(o,S,Dc(T,w,C)),xc(o,S,l),Mc(o,S,null),$c(o,C,Dc(T|(null!==E?1:0),w,S)),xc(o,C,l),Mc(o,C,null)}return $c(o,3,Dc(0,0,b)),Vc(o,r.length>1),o}(t,e,n)),(e&&e.length||t&&t.length)&&rh(r.index-uu)}function nh(t){var e=Gh(t);if(!Array.isArray(e)){var n=e,r=n.tNode;ngDevMode&&iu(r.stylingTemplate,"getStylingContext() called before elementStyling()"),e=tl[t+uu]=function(t,e){var n=r.stylingTemplate.slice();return n[0]=t,n}(n)}return e}function rh(t){!function(t,e,n,r){if(function(t){return Tc(t,3)}(t)){for(var o=t[0].native,i=kc(t),a=Pc(t),s=6;s<t.length;s+=3)if(Tc(t,s)){var u=Fc(t,s),c=jc(t,s),l=Lc(t,s),h=!!(2&l),d=c;s<i&&!Hc(d,h)&&(d=jc(t,Rc(l))),Hc(d,h)||(d=Nc(t,l)),h?Cc(o,u,!!d,e,void 0):Ec(o,u,d,e,4&l?a:null,void 0),Sc(t,s,!1)}Vc(t,!1)}}(nh(t),Kc)}function oh(t,e,n,r){var o=null;n&&(o=r?Hu(n)+r:n),wc(nh(t),e,o)}function ih(t,e,n){!function(t,e,n){var r=bc,o=!1,i=!1;if("string"==typeof e){var a=t[5];a&&a===e?i=!0:(t[5]=e,r=e.split(/\s+/),o=!0)}else r=e?Object.keys(e):bc,t[5]=null;e=e||_c;var s=n?Object.keys(n):bc;n=n||_c;for(var u=s.length,c=!1,l=kc(t),h=0,d=s.length+r.length;l<t.length&&h<d;){var f=h>=u;if(!i||!f){var p=f?h-u:h,v=f?r[p]:s[p],y=f?!!o||e[v]:n[v];if((T=Fc(t,l))===v){var g=jc(t,l);Gc(I=Lc(t,l),g,y)&&(Mc(t,l,y),(w=Nc(t,I))!==y&&(Sc(t,l,!0),c=!0))}else{var m=Uc(t,v,l);if(m>0){var b=jc(t,m),_=Lc(t,m);if(Bc(t,l,m),b!==y){var w=Nc(t,_);Mc(t,l,y),w!==y&&(Sc(t,l,!0),c=!0)}}else qc(t,l,f,v,Wc(v,f,Pc(t)),y),c=!0}}l+=3,h++}for(;l<t.length;){var E=2==(2&(I=Lc(t,l)));if(i&&E)break;Hc(g=jc(t,l),E)&&(Sc(t,l,!0),Mc(t,l,null),c=!0),l+=3}for(var C=Pc(t);h<d;){var S=h>=u;if(i&&S)break;p=S?h-u:h;var T=S?r[p]:s[p],I=(g=S?!!o||e[T]:n[T],1|Wc(T,S,C));t.push(I,T,g),h++,c=!0}c&&Vc(t,!0)}(nh(t),e,n)}function ah(t,e){ngDevMode&&nu(tl[vu],-1,"text nodes should be created before bindings"),ngDevMode&&ngDevMode.rendererCreateTextNode++;var n=ec(e,Kc),r=Cl(t,3,n,null,null);Yc=!1,hc(Yu(r),n,tl)}function sh(t,e){if(e!==Dh){ngDevMode&&rd(t+uu);var n=Kh(t);ngDevMode&&iu(n,"LNode should exist"),ngDevMode&&iu(n.native,"native element should exist"),ngDevMode&&ngDevMode.rendererSetText++,Fu(Kc)?Kc.setValue(n.native,Hu(e)):n.native.textContent=Hu(e)}}function uh(t,e,n){var r=ch(t,e,n);ngDevMode&&iu(zc.tNode,"previousOrParentNode.tNode");var o,i=zc.tNode;return n.template&&function(t,e,n){var r=Ul(n.template,n.directiveDefs,n.pipeDefs,n.viewQuery),o=wh(tl,zc.tNode.index,wl(Qc.createRenderer(zc.native,n.rendererType),r,null,n.onPush?4:2,cl()));zc.data=o,o[pu]=zc,Fl(zc.nodeInjector,e,o),vl&&jl(t)}(t,e,n),vl&&(Tu(t,n.onInit,n.doCheck,Xc),n.hostBindings&&(o=t,ngDevMode&&nu(vl,!0,"Should only be called in first template pass."),(Xc.hostBindings||(Xc.hostBindings=[])).push(o,tl.length-1-uu))),i&&i.attrs&&function(t,e,r,o){var i=o.initialInputs;(void 0===i||t>=i.length)&&(i=function(t,e,n){var r=n.initialInputs||(n.initialInputs=[]);r[t]=null;for(var o=n.attrs,i=0;i<o.length;){var a=o[i];if(1===a)break;if(0!==a){var s=e[a],u=o[i+1];void 0!==s&&(r[t]||(r[t]=[])).push(s,u),i+=2}else i+=4}return r}(t,n.inputs,o));var a=i[t];if(a)for(var s=0;s<a.length;s+=2)e[a[s]]=a[s+1]}(t,r,0,i),n.contentQueries&&n.contentQueries(),r}function ch(t,e,n){if(ngDevMode&&nu(tl[vu],-1,"directives should be created before any bindings"),ngDevMode&&ed(),Object.defineProperty(e,nl,{enumerable:!1,value:zc}),null==el&&(tl[yu]=el=[]),ngDevMode&&od(t,el),el[t]=e,vl){var r=zc.tNode.flags;0==(4095&r)?zc.tNode.flags=t<<14|4096&r|1:(ngDevMode&&ru(4095&r,4095,"Reached the max number of directives"),zc.tNode.flags++)}else{var o=n.diPublic;o&&o(n)}return null!=n.attributes&&3==zc.tNode.type&&ql(zc.native,n.attributes),e}function lh(t,e,n){ngDevMode&&iu(t,"containers should have a parent");var r=lc(t,e)?t:null;return r&&2===r.tNode.type&&(r=Yu(r).data[$u]),[n?null:0,e,null,null,[],r]}function hh(t,e,n,r,o){ngDevMode&&nu(tl[vu],-1,"container nodes should be created before any bindings");var i=lh(Yc?zc:Yu(zc),tl),a=Kc.createComment(ngDevMode?"container":""),s=Cl(t,0,a,n||null,r||null,i);hc(Yu(s),a,tl),vl&&(s.tNode.tViews=e?Bl(-1,e,Xc.directiveRegistry,Xc.pipeRegistry,null):[]),wh(tl,t+uu,s.data);var u=s.queries;u&&(i[du]=u.container()),Ml(o),Yc=!1,ngDevMode&&Uu(zc,0),u&&u.addNode(s),Iu(s.tNode.flags,Xc)}function dh(t){zc=Kh(t),ngDevMode&&Uu(zc,0),Yc=!0,zc.data[xu]=0,pl||Au(tl,Xc,Jc)}function fh(){Yc?Yc=!1:(ngDevMode&&Uu(zc,2),ngDevMode&&nd(),zc=Yu(zc)),ngDevMode&&Uu(zc,0);var t=zc;ngDevMode&&Uu(t,0);for(var e=t.data[xu];e<t.data[Mu].length;)ic(t,e)}function ph(t){var e=Yc?zc:Yu(zc);ngDevMode&&Uu(e,0);var n=e.data,r=function(t,e,r){for(var o=t.data[Mu],i=n[xu];i<o.length;i++){var a=o[i].data[cu].id;if(a===r)return o[i];if(!(a<r))break;ic(t,i)}return null}(e,0,t);if(r)zc=r,ngDevMode&&Uu(zc,2),Yc=!0,yl(r.data,r);else{var o=wl(Kc,function(t,e){ngDevMode&&Uu(e,0);var n=e.tNode.tViews;return ngDevMode&&iu(n,"TView expected"),ngDevMode&&nu(Array.isArray(n),!0,"TViews should be in an array"),(t>=n.length||null==n[t])&&(n[t]=Bl(t,null,Xc.directiveRegistry,Xc.pipeRegistry,null)),n[t]}(t,e),null,2,cl());n[du]&&(o[du]=n[du].createView()),yl(o,r=Cl(t,2,null,null,null,o))}return e&&(Jc&&rc(e,r,n[xu]),n[xu]++),Ol(r.data)}function vh(){ml(),Yc=!1,zc=tl[pu],gl(tl[lu]),ngDevMode&&nu(Yc,!1,"isParent"),ngDevMode&&Uu(zc,2)}function yh(t,e){ngDevMode&&rd(e);var n=tl[e];ngDevMode&&Uu(n,3),ngDevMode&&iu(n.data,"Component's host node should have an LViewData attached.");var r=n.data;gh(r)&&6&r[fu]&&(ngDevMode&&rd(t,el),Ih(r,n,el[t]))}function gh(t){return 8==(8&t[fu])}function mh(t,e){var n=Ju(tl);if(!n.tNode.projection)for(var r=n.tNode.projection=new Array(t?t.length+1:1).fill(null),o=r.slice(),i=n.tNode.child;null!==i;){var a=t?mc(i,t,e):0,s=i.next;o[a]?o[a].next=i:(r[a]=i,i.next=null),o[a]=i,i=s}}var bh=[];function _h(t,e,n){void 0===e&&(e=0);var r=Cl(t,1,null,null,n||null,null);null===r.tNode.projection&&(r.tNode.projection=e),Yc=!1;var o=Yu(r);if(lc(o,tl))for(var i=Ju(tl),a=i.tNode.projection[e],s=i.view,u=-1,c=void 0,l=2===o.tNode.type?(c=Yu(o))&&c.data[$u]:o;a;){if(1===a.type){var h=Ju(s),d=h.tNode.projection[a.projection];if(d){bh[++u]=s[a.index],a=d,s=h.view;continue}}else(f=s[a.index]).tNode.flags|=8192,fc(f,o,tl,l);var f;null===a.next&&s!==i.view&&(a=(f=bh[u--]).tNode,s=f.view),a=a.next}}function wh(t,e,n){return t[Eu]?t[Eu][hu]=n:vl&&(Xc.childIndex=e),t[Eu]=n,n}function Eh(t){for(var e=t;null!=e[lu];)e[fu]|=4,e=e[lu];var n,r;e[fu]|=4,ngDevMode&&iu(e[mu],"rootContext"),(n=e[mu]).clean==rl&&(n.clean=new Promise(function(t){return r=t}),n.scheduler(function(){Ch(n),r(null),n.clean=rl}))}function Ch(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=ad(n);ngDevMode&&iu(r.data,"Component host node should be attached to an LView"),Il(r,Sh(n),n)}}function Sh(t){ngDevMode&&iu(t,"component");for(var e=ad(t).view;e[lu];)e=e[lu];return e}function Th(t){var e=ad(t);ngDevMode&&iu(e.data,"Component host node should be attached to an LViewData instance."),Ih(e.data,e,t)}function Ih(t,e,n){var r=yl(t,e),o=t[cu],i=o.template,a=o.viewQuery;try{Rl(),function(e,n,r){e&&1&t[fu]&&e(1,r)}(a,0,n),i(Ol(t),n),ml(),function(t,e){t&&t(2,e)}(a,n)}finally{gl(r)}}function Oh(t){ngDevMode&&iu(t,"component"),Eh(ad(t).view)}var Dh={};function Nh(){ngDevMode&&nu(tl[vu],-1,"Binding index should not yet be set "+tl[vu]),-1===Xc.bindingStartIndex&&(Xc.bindingStartIndex=tl.length),tl[vu]=Xc.bindingStartIndex}function Ah(t){return zh(t)?t:Dh}function Rh(t){tl.length+=t,tl.fill(Dh,-t),Nh()}function kh(t){var e=tl[vu];return tl[vu]=Xc.bindingStartIndex-t,e}function Ph(t){tl[vu]=t}function xh(t){ngDevMode&&ou(2,t.length,"should have at least 3 values"),ngDevMode&&nu(t.length%2,1,"should have an odd number of values");for(var e=!1,n=1;n<t.length;n+=2)zh(t[n])&&(e=!0);if(!e)return Dh;var r=t[0];for(n=1;n<t.length;n+=2)r+=Hu(t[n])+t[n+1];return r}function Mh(t,e,n){return zh(e)?t+Hu(e)+n:Dh}function $h(t,e,n,r,o){return Xh(e,r)?t+Hu(e)+n+Hu(r)+o:Dh}function Lh(t,e,n,r,o,i,a){var s=Xh(e,r);return(s=zh(i)||s)?t+Hu(e)+n+Hu(r)+o+Hu(i)+a:Dh}function jh(t,e,n,r,o,i,a,s,u){return Zh(e,r,i,s)?t+Hu(e)+n+Hu(r)+o+Hu(i)+a+Hu(s)+u:Dh}function Fh(t,e,n,r,o,i,a,s,u,c,l){var h=Zh(e,r,i,s);return(h=zh(c)||h)?t+Hu(e)+n+Hu(r)+o+Hu(i)+a+Hu(s)+u+Hu(c)+l:Dh}function Vh(t,e,n,r,o,i,a,s,u,c,l,h,d){var f=Zh(e,r,i,s);return(f=Xh(c,h)||f)?t+Hu(e)+n+Hu(r)+o+Hu(i)+a+Hu(s)+u+Hu(c)+l+Hu(h)+d:Dh}function Uh(t,e,n,r,o,i,a,s,u,c,l,h,d,f,p){var v=Zh(e,r,i,s);return v=Xh(c,h)||v,(v=zh(f)||v)?t+Hu(e)+n+Hu(r)+o+Hu(i)+a+Hu(s)+u+Hu(c)+l+Hu(h)+d+Hu(f)+p:Dh}function Bh(t,e,n,r,o,i,a,s,u,c,l,h,d,f,p,v,y){var g=Zh(e,r,i,s);return(g=Zh(c,h,f,v)||g)?t+Hu(e)+n+Hu(r)+o+Hu(i)+a+Hu(s)+u+Hu(c)+l+Hu(h)+d+Hu(f)+p+Hu(v)+y:Dh}function qh(t,e){var n=t+uu;n>=Xc.data.length&&(Xc.data[n]=null),tl[n]=e}function Hh(t){return ngDevMode&&iu(el,"Directives array should be defined if reading a dir."),ngDevMode&&rd(t,el),el[t]}function Wh(t){return ngDevMode&&iu(tl[Su],"Content QueryList array should be defined if reading a query."),ngDevMode&&rd(t,tl[Su]),tl[Su][t]}function Gh(t){return Wu(t,tl)}function Kh(t){return function(t,e){return Ku(Wu(t,tl))}(t)}function Qh(){return ngDevMode&&rd(tl[vu]),ngDevMode&&ru(tl[tl[vu]],Dh,"Stored value should never be NO_CHANGE."),tl[tl[vu]++]}function zh(t){ngDevMode&&ru(t,Dh,"Incoming value should never be NO_CHANGE."),-1===tl[vu]&&Nh();var e,n,r=tl[vu];if(r>=tl.length)tl[tl[vu]++]=t;else{if(n=t,(e=tl[r])!=e&&n!=n||e===n)return tl[vu]++,!1;!function(e,n,o,i){if(n){var a="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+tl[r]+"'. Current value: '"+t+"'.";throw e&&(a+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),new Error(a)}}(Jc,pl),tl[tl[vu]++]=t}return!0}function Yh(t){return zh(t),t}function Xh(t,e){var n=zh(t);return zh(e)||n}function Zh(t,e,n,r){var o=Xh(t,e);return Xh(n,r)||o}function Jh(){return Xc}function td(t){var e=(tl[Su]||(tl[Su]=[])).push(t);if(vl){var n=el.length-1,r=Xc.contentQueries||(Xc.contentQueries=[]);n!==(Xc.contentQueries.length?Xc.contentQueries[Xc.contentQueries.length-2]:-1)&&r.push(n,e-1)}}function ed(){nu(Yc,!0,"previousOrParentNode should be a parent")}function nd(){iu(Yu(zc),"previousOrParentNode should have a parent")}function rd(t,e){null==e&&(e=tl),Gu(t,e||tl)}function od(t,e){null==e&&(e=tl),nu(e.length,t,"index "+t+" expected to be at the end of arr (length "+e.length+")")}function id(t,e){if(vl)for(var n=Xc.bindingStartIndex-t,r=0;r<e;r++)nu(tl[n+r],Dh,"The reserved slots should be set to `NO_CHANGE` on first template pass")}function ad(t){ngDevMode&&iu(t,"expecting component got null");var e=t[nl];return ngDevMode&&iu(t,"object is not a component"),e}var sd=rl,ud=ol;function cd(t,e){void 0===e&&(e={}),ngDevMode&&au(t);var n,r=e.rendererFactory||Vu,o=e.sanitizer||null,i=t.ngComponentDef;i.type!=t&&(i.type=t);var a=Hl(r,e.host||i.selectors[0][0]),s=ld(e.scheduler||requestAnimationFrame.bind(window)),u=wl(r.createRenderer(a,i.rendererType),Bl(-1,null,null,null,null),s,i.onPush?4:2);u[bu]=e.injector||null;var c,l=yl(u,null);try{r.begin&&r.begin(),c=Wl(0,a,i,o),s.components.push(n=ch(0,i.factory(),i)),Fl(c.nodeInjector,n,c.data),e.hostFeatures&&e.hostFeatures.forEach(function(t){return t(n,i)}),_l(),bl(ud),Ih(c.data,c,n)}finally{gl(l),r.end&&r.end()}return n}function ld(t){return{components:[],scheduler:t,clean:sd}}function hd(t){return function(t){var e=Sh(t)[mu];return ngDevMode&&iu(e,"rootContext"),e}(t).clean}function dd(t){var e=t.type,n=t.pipes,r=t.directives,o={},i={type:e,diPublic:null,factory:t.factory,template:t.template||null,hostBindings:t.hostBindings||null,contentQueries:t.contentQueries||null,contentQueriesRefresh:t.contentQueriesRefresh||null,attributes:t.attributes||null,inputs:gd(t.inputs,o),declaredInputs:o,outputs:gd(t.outputs),rendererType:qo(t.rendererType)||null,exportAs:t.exportAs||null,onInit:e.prototype.ngOnInit||null,doCheck:e.prototype.ngDoCheck||null,afterContentInit:e.prototype.ngAfterContentInit||null,afterContentChecked:e.prototype.ngAfterContentChecked||null,afterViewInit:e.prototype.ngAfterViewInit||null,afterViewChecked:e.prototype.ngAfterViewChecked||null,onDestroy:e.prototype.ngOnDestroy||null,onPush:t.changeDetection===I.OnPush,directiveDefs:r?function(){return("function"==typeof r?r():r).map(fd)}:null,pipeDefs:n?function(){return("function"==typeof n?n():n).map(pd)}:null,selectors:t.selectors,viewQuery:t.viewQuery||null,features:t.features||null},a=t.features;return a&&a.forEach(function(t){return t(i)}),i}function fd(t){var e=t.ngComponentDef||t.ngDirectiveDef;if(ngDevMode&&!e)throw new Error("'"+t.name+"' is neither 'ComponentType' or 'DirectiveType'.");return e}function pd(t){var e=t.ngPipeDef;if(ngDevMode&&!e)throw new Error("'"+t.name+"' is not a 'PipeType'.");return e}function vd(t){return{type:t.type,bootstrap:t.bootstrap||[],declarations:t.declarations||[],imports:t.imports||[],exports:t.exports||[],transitiveCompileScopes:null}}var yd={};function gd(t,e){if(null==t)return yd;var n={};for(var r in t)if(t.hasOwnProperty(r)){var o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,e&&(e[i]=r)}return n}var md=dd;function bd(t){return{name:t.name,factory:t.factory,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function _d(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wd(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=void 0,o=function(){var o,i;if(function(t){return"function"==typeof t.template}(t))n=e.ngComponentDef||e.ngDirectiveDef;else{if(e.ngComponentDef)throw new Error("Directives cannot inherit Components");n=e.ngDirectiveDef}if(n){_d(t.inputs,n.inputs),_d(t.declaredInputs,n.declaredInputs),_d(t.outputs,n.outputs);var a=t.hostBindings,s=n.hostBindings;s&&(t.hostBindings=a?function(t,e){s(t,e),a(t,e)}:s),t.afterContentChecked=t.afterContentChecked||n.afterContentChecked,t.afterContentInit=t.afterContentInit||n.afterContentInit,t.afterViewChecked=t.afterViewChecked||n.afterViewChecked,t.afterViewInit=t.afterViewInit||n.afterViewInit,t.doCheck=t.doCheck||n.doCheck,t.onDestroy=t.onDestroy||n.onDestroy,t.onInit=t.onInit||n.onInit;var u=n.features;if(u)try{for(var c=Object(r.e)(u),l=c.next();!l.done;l=c.next()){var h=l.value;h&&h!==wd&&h(t)}}catch(t){o={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}}else{var d=e.prototype;d&&(t.afterContentChecked=t.afterContentChecked||d.afterContentChecked,t.afterContentInit=t.afterContentInit||d.afterContentInit,t.afterViewChecked=t.afterViewChecked||d.afterViewChecked,t.afterViewInit=t.afterViewInit||d.afterViewInit,t.doCheck=t.doCheck||d.doCheck,t.onDestroy=t.onDestroy||d.onDestroy,t.onInit=t.onInit||d.onInit)}e=Object.getPrototypeOf(e)};e&&!n;)o()}var Ed="__ngOnChanges_";function Cd(t){var e=t.declaredInputs,n=t.type.prototype,r=function(t){if(e.hasOwnProperty(t)){for(var r=e[t],o=Ed+r,i=void 0,a=n;!i&&a&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(Object.prototype);)i=Object.getOwnPropertyDescriptor(a,r),a=Object.getPrototypeOf(a);var s=i&&i.set;Object.defineProperty(n,r,{get:i&&i.get||(s?void 0:function(){return this[o]}),set:function(e){var n=this[Ed];n||(n={},Object.defineProperty(this,Ed,{value:n,writable:!0}));var r=!this.hasOwnProperty(o),i=n[t];i?i.currentValue=e:n[t]=new br(this[o],e,r),r?Object.defineProperty(this,o,{value:e,writable:!0}):this[o]=e,s&&s.call(this,e)}})}};for(var o in e)r(o);null!=t.onInit&&(t.onInit=Sd(t.onInit)),t.doCheck=Sd(t.doCheck)}function Sd(t){return function(){var e=this[Ed];null!=e&&(this.ngOnChanges(e),this[Ed]=null),t&&t.apply(this)}}var Td=function(){function t(t,e){this._view=t,this._appRef=null,this._viewContainerRef=null,this._lViewNode=null,this.context=e}return t.prototype._setComponentContext=function(t,e){this._view=t,this.context=e},Object.defineProperty(t.prototype,"destroyed",{get:function(){return 32==(32&this._view[fu])},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._viewContainerRef&&gh(this._view)&&(this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),this._viewContainerRef=null),sc(this._view)},t.prototype.onDestroy=function(t){Ql(this._view,t)},t.prototype.markForCheck=function(){Eh(this._view)},t.prototype.detach=function(){this._view[fu]&=-9},t.prototype.reattach=function(){this._view[fu]|=8},t.prototype.detectChanges=function(){Th(this.context)},t.prototype.checkNoChanges=function(){!function(t){pl=!0;try{Th(t)}finally{pl=!1}}(this.context)},t.prototype.attachToViewContainerRef=function(t){this._viewContainerRef=t},t.prototype.detachFromAppRef=function(){this._appRef=null},t.prototype.attachToAppRef=function(t){this._appRef=t},t}(),Id=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.resolveComponentFactory=function(t){return ngDevMode&&au(t),new Ad(t.ngComponentDef)},e}(Ye);function Od(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Dd=new h("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:function(){return ld(Dt(Nd))}}),Nd=new h("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return requestAnimationFrame.bind(window)}}),Ad=function(t){function e(e){var n=t.call(this)||this;return n.componentDef=e,n.componentType=e.type,n.selector=e.selectors[0][0],n.ngContentSelectors=[],n}return Object(r.b)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){return Od(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return Od(this.componentDef.outputs)},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){var o=void 0===n,i=r?r.injector.get(Wn):Vu,a=o?xl(this.selector,i.createRenderer(null,this.componentDef.rendererType)):Hl(i,n),s=r&&!o?r.injector.get(Dd):ld(requestAnimationFrame.bind(window)),u=wl(i.createRenderer(a,this.componentDef.rendererType),Bl(-1,null,null,null,null),s,this.componentDef.onPush?4:2);u[bu]=r&&r.injector||null;var c,l,h=yl(u,null);try{if(i.begin&&i.begin(),l=Wl(0,a,this.componentDef),s.components.push(c=ch(0,this.componentDef.factory(),this.componentDef)),Fl(l.nodeInjector,c,l.data),function(t,e){var n=ad(t),r=n.view[cu];Tu(0,e.onInit,e.doCheck,r),Iu(n.tNode.flags,r)}(c,this.componentDef),e)for(var d=0,f=l.tNode.projection=[],p=0;p<e.length;p++){for(var v=e[p],y=null,g=null,m=0;m<v.length;m++){var b=Cl(++d,3,v[m],null,null);g?g.next=b.tNode:y=b.tNode,g=b.tNode}f.push(y)}Tl(l,l.data[cu],c,1),l.data[fu]&=-2}finally{yl(h,null),i.end&&i.end()}var _=new Rd(this.componentType,c,u,t,a);return o&&(_.hostView._lViewNode.tNode.child=l.tNode),_},e}(He),Rd=function(t){function e(e,n,r,o,i){var a=t.call(this)||this;return a.destroyCbs=[],a.instance=n,a.hostView=a.changeDetectorRef=new Td(r,n),a.hostView._lViewNode=Cl(-1,2,null,null,null,r),a.injector=o,a.location=new Qn(i),a.componentType=e,a}return Object(r.b)(e,t),e.prototype.destroy=function(){ngDevMode&&iu(this.destroyCbs,"NgModule already destroyed"),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null},e.prototype.onDestroy=function(t){ngDevMode&&iu(this.destroyCbs,"NgModule already destroyed"),this.destroyCbs.push(t)},e}(qe),kd="__NG_ELEMENT_ID__",Pd=256,xd=0;function Md(){return ngDevMode&&ed(),$d(hl())}function $d(t){var e=t.nodeInjector,n=Yu(t),r=n&&n.nodeInjector;return e!=r?e:t.nodeInjector={parent:r,node:t,bf0:0,bf1:0,bf2:0,bf3:0,bf4:0,bf5:0,bf6:0,bf7:0,cbf0:null==r?0:r.cbf0|r.bf0,cbf1:null==r?0:r.cbf1|r.bf1,cbf2:null==r?0:r.cbf2|r.bf2,cbf3:null==r?0:r.cbf3|r.bf3,cbf4:null==r?0:r.cbf4|r.bf4,cbf5:null==r?0:r.cbf5|r.bf5,cbf6:null==r?0:r.cbf6|r.bf6,cbf7:null==r?0:r.cbf7|r.bf7,templateRef:null,viewContainerRef:null,elementRef:null,changeDetectorRef:null}}function Ld(t){!function(t,e){!function(t,e){var n=e[kd];null==n&&(n=e[kd]=xd++);var r=n%Pd,o=1<<r;r<128?r<64?r<32?t.bf0|=o:t.bf1|=o:r<96?t.bf2|=o:t.bf3|=o:r<192?r<160?t.bf4|=o:t.bf5|=o:r<224?t.bf6|=o:t.bf7|=o}(t,e.type)}(Md(),t)}function jd(t,e){return void 0===e&&(e=0),Wd(Md(),t,e)}function Fd(){return Yd(Md())}function Vd(){return tf(Md())}function Ud(){return Zd(Md())}function Bd(){return Hd(Md(),null)}function qd(t){ngDevMode&&ed();var e=hl();ngDevMode&&Uu(e,3);var n=e.tNode;ngDevMode&&iu(n,"expecting tNode");var r=n.attrs;if(r)for(var o=0;o<r.length;o+=2){var i=r[o];if(1===i)break;if(i==t)return r[o+1]}}function Hd(t,e){if(t.changeDetectorRef)return t.changeDetectorRef;var n=t.node;return 4096==(4096&n.tNode.flags)?t.changeDetectorRef=new Td(n.data,e):3===n.tNode.type?t.changeDetectorRef=function(t){var e=function(t){for(;2===t.tNode.type;)t=t.view[pu];return t}(t),n=e.nodeInjector;return n&&n.changeDetectorRef||new Td(e.data,e.view[yu][e.tNode.flags>>14])}(n.view[pu]):null}function Wd(t,e,n){void 0===n&&(n=0);var r,o="number"==typeof(r=e[kd])?r%Pd:null;if(null===o){var i=Ot(hl().view[bu]);try{return Dt(e,n)}finally{Ot(i)}}else for(var a=t;a&&(a=Kd(a,o,n));){var s=a.node,u=s.tNode.flags,c=4095&u;if(0!==c)for(var l=u>>14,h=l+c,d=s.view[cu].directives,f=l;f<h;f++){var p=d[f];if(p.type===e&&p.diPublic)return s.view[yu][f]}var v=void 0;if(a===t&&(v=Gd(s,e)))return v;a=2&n||1&n&&!Qd(a)?null:a.parent}if(8&n)return null;throw new Error("Injector: NOT_FOUND ["+Hu(e)+"]")}function Gd(t,e){var n=t.view[cu].currentMatches;if(n)for(var r=0;r<n.length;r+=2){var o=n[r];if(o.type===e)return Ll(o,r+1,n,t.view[cu])}return null}function Kd(t,e,n){for(var r=1<<e,o=4&n?t.parent:t;o;){if(((e<128?e<64?e<32?o.bf0:o.bf1:e<96?o.bf2:o.bf3:e<192?e<160?o.bf4:o.bf5:e<224?o.bf6:o.bf7)&r)===r)return o;if(2&n||1&n&&!Qd(o))return null;o=(e<128?e<64?e<32?o.cbf0:o.cbf1:e<96?o.cbf2:o.cbf3:e<192?e<160?o.cbf4:o.cbf5:e<224?o.cbf6:o.cbf7)&r?o.parent:null}return null}function Qd(t){return!!t.parent&&t.parent.node.view===t.node.view}var zd=function(t){this.read=t};function Yd(t){return t.elementRef||(t.elementRef=new Xd(t.node.native))}var Xd=function(t){this.nativeElement=t};function Zd(t){if(!t.viewContainerRef){var e=t.node;ngDevMode&&Bu(e,0,3);var n=Yu(e),r=lh(n,e.view,!0),o=e.view[_u].createComment(ngDevMode?"container":""),i=El(0,e.view,n,o,r,null);hc(n,o,e.view),e.queries&&(i.queries=e.queries.container());var a=e.tNode;a.dynamicContainerNode||(a.dynamicContainerNode=Zl(0,-1,null,null,a,null)),i.tNode=a.dynamicContainerNode,e.dynamicLContainerNode=i,wh(e.view,a.index,r),t.viewContainerRef=new Jd(i)}return t.viewContainerRef}var Jd=function(){function t(t){this._lContainerNode=t,this._viewRefs=[]}return t.prototype.clear=function(){for(var t=this._lContainerNode.data;t[Mu].length;)this.remove(0)},t.prototype.get=function(t){return this._viewRefs[t]||null},Object.defineProperty(t.prototype,"length",{get:function(){return this._lContainerNode.data[Mu].length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=this._adjustIndex(n),o=t.createEmbeddedView(e||{},this._lContainerNode,r);return o.attachToViewContainerRef(this),this._viewRefs.splice(r,0,o),o},t.prototype.createComponent=function(t,e,n,r,o){var i=n||this.parentInjector;!o&&i&&(o=i.get(Je));var a=t.create(i,r,void 0,o);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=t._lViewNode,r=this._adjustIndex(e);rc(this._lContainerNode,n,r);var o=this._lContainerNode.data[Mu],i=r+1<o.length?zu(o[r+1]).native:this._lContainerNode.native;return nc(this._lContainerNode,n,!0,i),t.attachToViewContainerRef(this),this._viewRefs.splice(r,0,t),t},t.prototype.move=function(t,e){var n=this.indexOf(t);return this.detach(n),this.insert(t,this._adjustIndex(e)),t},t.prototype.indexOf=function(t){return this._viewRefs.indexOf(t)},t.prototype.remove=function(t){var e=this._adjustIndex(t,-1);ic(this._lContainerNode,e),this._viewRefs.splice(e,1)},t.prototype.detach=function(t){var e=this._adjustIndex(t,-1);return oc(this._lContainerNode,e),this._viewRefs.splice(e,1)[0]||null},t.prototype._adjustIndex=function(t,e){return void 0===e&&(e=0),null==t?this._lContainerNode.data[Mu].length+e:(ngDevMode&&(t<=-1&&su("index must be positive"),ou(t,this._lContainerNode.data[Mu].length+1+e,"index")),t)},t}();function tf(t){if(!t.templateRef){ngDevMode&&Uu(t.node,0);var e=t.node,n=e.tNode;ngDevMode&&iu(n.tViews,"TView must be allocated"),t.templateRef=new ef(Yd(t),n.tViews,ul(),e.data[du])}return t.templateRef}var ef=function(){function t(t,e,n,r){this._tView=e,this._renderer=n,this._queries=r,this.elementRef=t}return t.prototype.createEmbeddedView=function(t,e,n){var r=function(t,e,n,r){var o=Yc,i=zc;Yc=!0,zc=null;var a=wl(n,t,e,2,cl());r&&(a[du]=r.createView());var s=Cl(-1,2,null,null,null,a);return Yc=o,zc=i,s}(this._tView,t,this._renderer,this._queries);e&&rc(e,r,n),Tl(r,this._tView,t,1);var o=new Td(r.data,t);return o._lViewNode=r,o},t}();function nf(t){t.diPublic=Ld}var rf=/{\$([^}]+)}/g;function of(t,e,n,r,o){var i=t.split(rf),a=new Array(r?r.length+1:1).fill(void 0);return function t(e,n,r,o,i,a,s,u){var c=[],l=[],h=0,d=0,f=i&&i[e]?i[e]:null,p=a&&a[e]?a[e]:null;for(o[e]=c;n<r.length;n++){var v=r[n];if(1&n){var y=void 0;if(f&&void 0!==f[v]){y=f[v];var g=s?s.indexOf(v):-1;-1!==g&&g+1!==e?c.push(-2147483648|y):(c.push(1073741824|y),h++),l.push(v)}else if(p&&void 0!==p[v])c.push(1610612736|(y=p[v])),l.push(v);else if(c.push(-1073741824),e>0&&0==--h)break;if(void 0!==y&&y>d&&(d=y),s){var m=s.indexOf(v)+1;0!==m&&m!==e&&(n=t(m,n,r,o,i,a,s,u))}}else v&&c.push(536870912,v)}if(i){var b=i[e];if(b)for(var _=Object.keys(b),w=0;w<_.length;w++)-1===l.indexOf(C=_[w])&&(c.push(-536870912|(S=b[C])),S>d&&(d=S))}if(a){var E=a[e];if(E)for(_=Object.keys(E),w=0;w<_.length;w++){var C;if(-1===l.indexOf(C=_[w])){var S=E[C];ngDevMode&&ou(S.toString(2).length,28,"Index "+S+" is too big and will overflow"),c.push(-536870912|S),S>d&&(d=S)}}}if(0===e&&"number"==typeof u)for(w=d+1;w<=u;w++)ngDevMode&&ou(w.toString(2).length,28,"Index "+w+" is too big and will overflow"),c.push(-1610612736|w);return n}(0,0,i,a,e,n,r,o),a}function af(t,e,n){ngDevMode&&ngDevMode.rendererMoveNode++;var r=ll();hc(e,t.native||null,r);var o=t.view[cu].firstTemplatePass;return o&&(n===e&&t.tNode!==e.tNode.child?(t.tNode.next=e.tNode.child,e.tNode.child=t.tNode):n!==e&&t.tNode!==n.tNode.next?(t.tNode.next=n.tNode.next,n.tNode.next=t.tNode):t.tNode.next=null,e.view===t.view&&(t.tNode.parent=e.tNode)),0===t.tNode.type&&t.dynamicLContainerNode?(hc(e,t.dynamicLContainerNode.native||null,r),o&&(t.tNode.dynamicContainerNode=t.dynamicLContainerNode.tNode,t.dynamicLContainerNode.tNode.parent=t.tNode),t.dynamicLContainerNode):t}function sf(t,e){var n=ll();if(ngDevMode&&nu(n[vu],-1,"i18nApply should be called before any binding"),e){var r=ul(),o=Yu(Gh(t))||hl(),i=o;Sl();for(var a=0;a<e.length;a++){var s=e[a];switch(-536870912&s){case 1073741824:var u=Gh(536870911&s);i=af(u,o,i),o=u;break;case 1610612736:case-2147483648:case-1610612736:i=af(Gh(536870911&s),o,i);break;case 536870912:ngDevMode&&ngDevMode.rendererCreateTextNode++;var c=ec(e[++a],r);i=af(Cl(n.length-uu,3,c,null,null),o,i),Sl();break;case-1073741824:i=o,o=Yu(o);break;case-536870912:ngDevMode&&ngDevMode.rendererRemoveNode++;var l=Gh(536870911&s),h=Yu(l);dc(h,l.native||null,n),0===l.tNode.type&&l.dynamicLContainerNode&&(dc(h,l.dynamicLContainerNode.native||null,n),l.dynamicLContainerNode.tNode.detached=!0,l.dynamicLContainerNode.data[$u]=null)}}}}function uf(t,e){for(var n=t.split(rf),r=1;r<n.length;r+=2)n[r]=e[n[r]];return n}function cf(t,e){if(!zh(e))return Dh;for(var n="",r=0;r<t.length;r++)n+=1&r?Hu(e):t[r];return n}function lf(t,e,n){if(!Xh(e,n))return Dh;for(var r="",o=0;o<t.length;o++)r+=1&o?Hu(1&t[o]?n:e):t[o];return r}function hf(t,e,n,r){var o=Xh(e,n);if(!(o=zh(r)||o))return Dh;for(var i="",a=0;a<t.length;a++)if(1&a){var s=t[a];i+=Hu(2&s?r:1&s?n:e)}else i+=t[a];return i}function df(t,e,n,r,o){if(!Zh(e,n,r,o))return Dh;for(var i="",a=0;a<t.length;a++)if(1&a){var s=t[a],u=1&s;i+=Hu(2&s?u?o:r:u?n:e)}else i+=t[a];return i}function ff(t,e,n,r,o,i){var a=Zh(e,n,r,o);if(!(a=zh(i)||a))return Dh;for(var s="",u=0;u<t.length;u++)if(1&u){var c=t[u],l=1&c;s+=Hu(4&c?i:2&c?l?o:r:l?n:e)}else s+=t[u];return s}function pf(t,e,n,r,o,i,a){var s=Zh(e,n,r,o);if(!(s=Xh(i,a)||s))return Dh;for(var u="",c=0;c<t.length;c++)if(1&c){var l=t[c],h=1&l;u+=Hu(4&l?h?a:i:2&l?h?o:r:h?n:e)}else u+=t[c];return u}function vf(t,e,n,r,o,i,a,s){var u=Zh(e,n,r,o);if(u=Xh(i,a)||u,!(u=zh(s)||u))return Dh;for(var c="",l=0;l<t.length;l++)if(1&l){var h=t[l],d=2&h,f=1&h;c+=Hu(4&h?d?s:f?a:i:d?f?o:r:f?n:e)}else c+=t[l];return c}function yf(t,e,n,r,o,i,a,s,u){var c=Zh(e,n,r,o);if(!(c=Zh(i,a,s,u)||c))return Dh;for(var l="",h=0;h<t.length;h++)if(1&h){var d=t[h],f=2&d,p=1&d;l+=Hu(4&d?f?p?u:s:p?a:i:f?p?o:r:p?n:e)}else l+=t[h];return l}function gf(t,e){for(var n=!1,r=0;r<e.length;r++)zh(e[r])&&(n=!0);if(!n)return Dh;var o="";for(r=0;r<t.length;r++)o+=1&r?Hu(e[t[r]]):t[r];return o}var mf={provide:Ye,useFactory:function(){return new Id},deps:[]},bf=function(t){function e(e,n){var r=t.call(this)||this;r._bootstrapComponents=[],r.destroyCbs=[];var o=e.ngModuleDef;return ngDevMode&&iu(o,"NgModule '"+K(e)+"' is not a subtype of 'NgModuleType'."),r._bootstrapComponents=o.bootstrap,r.injector=be(e,n,[mf,{provide:Je,useValue:r}]),r.instance=r.injector.get(e),r.componentFactoryResolver=new Id,r}return Object(r.b)(e,t),e.prototype.destroy=function(){ngDevMode&&iu(this.destroyCbs,"NgModule already destroyed"),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null},e.prototype.onDestroy=function(t){ngDevMode&&iu(this.destroyCbs,"NgModule already destroyed"),this.destroyCbs.push(t)},e}(Je),_f=function(t){function e(e){var n=t.call(this)||this;return n.moduleType=e,n}return Object(r.b)(e,t),e.prototype.create=function(t){return new bf(this.moduleType,t)},e}(tn);function wf(t,e,n){ngDevMode&&id(t,1);var r=kh(t),o=Jc?Yh(n?e.call(n):e()):Qh();return Ph(r),o}function Ef(t,e,n,r){ngDevMode&&id(t,2);var o=kh(t),i=zh(n)?Yh(r?e.call(r,n):e(n)):Qh();return Ph(o),i}function Cf(t,e,n,r,o){ngDevMode&&id(t,3);var i=kh(t),a=Xh(n,r)?Yh(o?e.call(o,n,r):e(n,r)):Qh();return Ph(i),a}function Sf(t,e,n,r,o,i){ngDevMode&&id(t,4);var a=kh(t),s=Xh(n,r),u=zh(o)||s?Yh(i?e.call(i,n,r,o):e(n,r,o)):Qh();return Ph(a),u}function Tf(t,e,n,r,o,i,a){ngDevMode&&id(t,5);var s=kh(t),u=Zh(n,r,o,i)?Yh(a?e.call(a,n,r,o,i):e(n,r,o,i)):Qh();return Ph(s),u}function If(t,e,n,r,o,i,a,s){ngDevMode&&id(t,6);var u=kh(t),c=Zh(n,r,o,i),l=zh(a)||c?Yh(s?e.call(s,n,r,o,i,a):e(n,r,o,i,a)):Qh();return Ph(u),l}function Of(t,e,n,r,o,i,a,s,u){ngDevMode&&id(t,7);var c=kh(t),l=Zh(n,r,o,i),h=Xh(a,s)||l?Yh(u?e.call(u,n,r,o,i,a,s):e(n,r,o,i,a,s)):Qh();return Ph(c),h}function Df(t,e,n,r,o,i,a,s,u,c){ngDevMode&&id(t,8);var l=kh(t),h=Zh(n,r,o,i);h=Xh(a,s)||h;var d=zh(u)||h?Yh(c?e.call(c,n,r,o,i,a,s,u):e(n,r,o,i,a,s,u)):Qh();return Ph(l),d}function Nf(t,e,n,r,o,i,a,s,u,c,l){ngDevMode&&id(t,9);var h=kh(t),d=Zh(n,r,o,i),f=Zh(a,s,u,c)||d?Yh(l?e.call(l,n,r,o,i,a,s,u,c):e(n,r,o,i,a,s,u,c)):Qh();return Ph(h),f}function Af(t,e,n,r){ngDevMode&&id(t,n.length+1);for(var o=kh(t),i=!1,a=0;a<n.length;a++)zh(n[a])&&(i=!0);var s=i?Yh(e.apply(r,n)):Qh();return Ph(o),s}function Rf(t,e){var n,r=Jh(),o=t+uu;r.firstTemplatePass?(n=function(t,e){if(e)for(var n=0;n<e.length;n++){var r=e[n];if(t===r.name)return r}throw new Error("Pipe with name '"+t+"' not found!")}(e,r.pipeRegistry),r.data[o]=n,n.onDestroy&&(r.pipeDestroyHooks||(r.pipeDestroyHooks=[])).push(o,n.onDestroy)):n=r.data[o];var i=n.factory();return qh(t,i),i}function kf(t,e,n){var r=Gh(t);return Lf(t)?Ef(e,r.transform,n,r):r.transform(n)}function Pf(t,e,n,r){var o=Gh(t);return Lf(t)?Cf(e,o.transform,n,r,o):o.transform(n,r)}function xf(t,e,n,r,o){var i=Gh(t);return Lf(t)?Sf(e,i.transform,n,r,o,i):i.transform(n,r,o)}function Mf(t,e,n,r,o,i){var a=Gh(t);return Lf(t)?Tf(e,a.transform,n,r,o,i,a):a.transform(n,r,o,i)}function $f(t,e,n){var r=Gh(t);return Lf(t)?Af(e,r.transform,n,r):r.transform.apply(r,n)}function Lf(t){return Jh().data[t+uu].pure}var jf=function(){function t(t){this.shallow=null,this.deep=null,this.deep=null==t?null:t}return t.prototype.track=function(t,e,n,r){n?this.deep=Hf(this.deep,t,e,null!=r?r:null):this.shallow=Hf(this.shallow,t,e,null!=r?r:null)},t.prototype.clone=function(){return this.deep?new t(this.deep):null},t.prototype.child=function(){return null===this.deep?null:null===this.shallow?this:new t(this.deep)},t.prototype.container=function(){for(var e=null,n=this.deep;n;){var r=[];n.values.push(r);var o={next:null,list:n.list,predicate:n.predicate,values:r,containerValues:null};o.next=e,e=o,n=n.next}return e?new t(e):null},t.prototype.createView=function(){for(var e=null,n=this.deep;n;){var r={next:null,list:n.list,predicate:n.predicate,values:[],containerValues:n.values};r.next=e,e=r,n=n.next}return e?new t(e):null},t.prototype.insertView=function(t){for(var e=this.deep;e;)ngDevMode&&iu(e.containerValues,"View queries need to have a pointer to container values."),e.containerValues.splice(t,0,e.values),e=e.next},t.prototype.addNode=function(t){Bf(this.shallow,t),Bf(this.deep,t)},t.prototype.removeView=function(){for(var t=this.deep;t;){ngDevMode&&iu(t.containerValues,"View queries need to have a pointer to container values.");var e=t.containerValues,n=e.indexOf(t.values),r=e.splice(n,1);ngDevMode&&nu(r.length,1,"removed.length"),r[0].length&&t.list.setDirty(),t=t.next}},t}();function Ff(t,e){var n=t.localNames;if(n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Vf(t,e){for(var n=t.view[cu].directives,r=t.tNode.flags,o=r>>14,i=o+(4095&r),a=o;a<i;a++){var s=n[a];if(s.type===e&&s.diPublic)return a}return null}function Uf(t,e,n,r){if(n instanceof zd)return n.read(t,e,r);var o=Vf(e,n);return null!==o?e.view[yu][o]:null}function Bf(t,e){for(var n=$d(e);t;){var r=t.predicate,o=r.type;if(o)null!==(s=Vf(e,o))&&null!==(u=Uf(n,e,r.read||o,s))&&qf(t,u);else for(var i=r.selector,a=0;a<i.length;a++){var s,u;null!==(s=Ff(e.tNode,i[a]))&&(ngDevMode&&iu(r.read,"the node should have a predicate"),null!==(u=Uf(n,e,r.read,s))&&qf(t,u))}t=t.next}}function qf(t,e){t.values.push(e),t.list.setDirty()}function Hf(t,e,n,r){return{next:t,list:e,predicate:function(t,e){var n=Array.isArray(t);return{type:n?null:t,selector:n?t:null,read:e}}(n,r),values:e._valuesTree,containerValues:null}}var Wf=function(){function t(){this.dirty=!0,this.changes=new fn,this._values=[],this._valuesTree=[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){var t=this._values;return t.length?t[0]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){var t=this._values;return t.length?t[t.length-1]:null},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._values.map(t)},t.prototype.filter=function(t){return this._values.filter(t)},t.prototype.find=function(t){return this._values.find(t)},t.prototype.reduce=function(t,e){return this._values.reduce(t,e)},t.prototype.forEach=function(t){this._values.forEach(t)},t.prototype.some=function(t){return this._values.some(t)},t.prototype.toArray=function(){return this._values.slice(0)},t.prototype[H()]=function(){return this._values[H()]()},t.prototype.toString=function(){return this._values.toString()},t.prototype.reset=function(t){this._values=function(t){for(var e=[],n=0;n<t.length;){var r=t[n];Array.isArray(r)?r.length>0?(t=r.concat(t.slice(n+1)),n=0):n++:(e.push(r),n++)}return e}(t),this.dirty=!1},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}();function Gf(t,e,n,r){ngDevMode&&ed();var o,i=new Wf;return(o=jf,Zc||(Zc=zc.queries&&zc.queries.clone()||new o)).track(i,e,n,r),Kl(null,i,i.destroy),null!=t&&qh(t,i),i}function Kf(t){return!!t.dirty&&(t.reset(t._valuesTree),t.notifyOnChanges(),!0)}var Qf="__SANITIZER_TRUSTED_BRAND__";function zf(t,e){return t instanceof String&&t[Qf]===e}function Yf(t){return ep(t,"Html")}function Xf(t){return ep(t,"Style")}function Zf(t){return ep(t,"Script")}function Jf(t){return ep(t,"Url")}function tp(t){return ep(t,"ResourceUrl")}function ep(t,e){var n=new String(t);return n[Qf]=e,n}function np(t){var e=cl();return e?e.sanitize(wo.HTML,t)||"":zf(t,"Html")?t.toString():yo(document,Hu(t))}function rp(t){var e=cl();return e?e.sanitize(wo.STYLE,t)||"":zf(t,"Style")?t.toString():_o(Hu(t))}function op(t){var e=cl();return e?e.sanitize(wo.URL,t)||"":zf(t,"Url")?t.toString():Jr(Hu(t))}function ip(t){var e=cl();if(e)return e.sanitize(wo.RESOURCE_URL,t)||"";if(zf(t,"ResourceUrl"))return t.toString();throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}},D8kY:function(t,e,n){var r=n("Ojgd"),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},DKTb:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t})}n.d(e,"a",function(){return r})},ELzr:function(t,e,n){"use strict";n.r(e),n.d(e,"onErrorResumeNext",function(){return s});var r=n("6blF"),o=n("0/uQ"),i=n("isby"),a=n("G5J1");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return a.a;var n=t[0],u=t.slice(1);return 1===t.length&&Object(i.a)(n)?s.apply(void 0,n):new r.a(function(t){var e=function(){return t.add(s.apply(void 0,u).subscribe(t))};return Object(o.a)(n).subscribe({next:function(e){t.next(e)},error:e,complete:e})})}},EWOM:function(t,e,n){"use strict";n.r(e),n.d(e,"pairs",function(){return i}),n.d(e,"dispatch",function(){return a});var r=n("6blF"),o=n("pugT");function i(t,e){return new r.a(e?function(n){var r=Object.keys(t),i=new o.a;return i.add(e.schedule(a,0,{keys:r,index:0,subscriber:n,subscription:i,obj:t})),i}:function(e){for(var n=Object.keys(t),r=0;r<n.length&&!e.closed;r++){var o=n[r];t.hasOwnProperty(o)&&e.next([o,t[o]])}e.complete()})}function a(t){var e=t.keys,n=t.index,r=t.subscriber,o=t.subscription,i=t.obj;if(!r.closed)if(n<e.length){var a=e[n];r.next([a,i[a]]),o.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:o,obj:i}))}else r.complete()}},Ehmk:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r,o=n("eihs");function i(){try{return r.apply(this,arguments)}catch(t){return o.a.e=t,o.a}}function a(t){return r=t,i}},"En8+":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},F2og:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("gK5f")),r(n("+W5N"))},FFOo:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("mrSG"),o=n("2Bdj"),i=n("6ahw"),a=n("pugT"),s=n("L/V9"),u=n("iLxQ"),c=n("DKTb"),l=function(t){function e(e,n,r){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=i.a;break;case 1:if(!e){o.destination=i.a;break}if("object"==typeof e){if(d(e)){var a=e[s.a]();o.syncErrorThrowable=a.syncErrorThrowable,o.destination=a,a.add(o)}else o.syncErrorThrowable=!0,o.destination=new h(o,e);break}default:o.syncErrorThrowable=!0,o.destination=new h(o,e,n,r)}return o}return r.b(e,t),e.prototype[s.a]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(a.a),h=function(t){function e(e,n,r,a){var s,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return Object(o.a)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==i.a&&(c=Object.create(n),Object(o.a)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=s,u._error=r,u._complete=a,u}return r.b(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw t;Object(c.a)(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Object(c.a)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l);function d(t){return t instanceof l||"syncErrorThrowable"in t&&t[s.a]}},FGoP:function(module,exports,__webpack_require__){(function(){var g,goog=goog||{},k=this;function l(t){return"string"==typeof t}function n(t,e){t=t.split("."),e=e||k;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function aa(){}function ba(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){return"array"==ba(t)}function ca(t){var e=ba(t);return"array"==e||"object"==e&&"number"==typeof t.length}function da(t){return"function"==ba(t)}function ea(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var q="closure_uid_"+(1e9*Math.random()>>>0),fa=0;function ha(t,e,n){return t.call.apply(t.bind,arguments)}function ia(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function r(t,e,n){return(r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia).apply(null,arguments)}function ja(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var t=Date.now||function(){return+new Date};function u(t,e){function n(){}n.prototype=e.prototype,t.H=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Ib=function(t,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return e.prototype[n].apply(t,o)}}function ka(t){if(Error.captureStackTrace)Error.captureStackTrace(this,ka);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function la(t,e){for(var n="",r=(t=t.split("%s")).length-1,o=0;o<r;o++)n+=t[o]+(o<e.length?e[o]:"%s");ka.call(this,n+t[r])}function ma(t,e){throw new la("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function w(){0!=na&&(pa[this[q]||(this[q]=++fa)]=this),this.i=this.i,this.m=this.m}u(ka,Error),ka.prototype.name="CustomError",u(la,ka),la.prototype.name="AssertionError";var na=0,pa={};w.prototype.i=!1,w.prototype.$=function(){if(!this.i&&(this.i=!0,this.w(),0!=na)){var t=this[q]||(this[q]=++fa);if(0!=na&&this.m&&0<this.m.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete pa[t]}},w.prototype.w=function(){if(this.m)for(;this.m.length;)this.m.shift()()};var qa=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(l(t))return l(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ra=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=l(t)?t.split(""):t,i=0;i<r;i++)i in o&&e.call(n,o[i],i,t)};function sa(t){t:{for(var e=ta,n=t.length,r=l(t)?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t)){e=o;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]}function ua(t){if(!p(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0}function va(t){return Array.prototype.concat.apply([],arguments)}function wa(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function xa(t){return/^[\s\xa0]*$/.test(t)}var ya=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},x;function za(t,e){return t<e?-1:t>e?1:0}t:{var Aa=k.navigator;if(Aa){var Ba=Aa.userAgent;if(Ba){x=Ba;break t}}x=""}function y(t){return-1!=x.indexOf(t)}function Ca(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Da(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function Ea(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function Fa(t){var e,n={};for(e in t)n[e]=t[e];return n}var Ga="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ha(t,e){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])t[n]=r[n];for(var i=0;i<Ga.length;i++)n=Ga[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ia(t){return Ia[" "](t),t}function Ja(t,e){var n=Ka;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}Ia[" "]=aa;var La=y("Opera"),z=y("Trident")||y("MSIE"),Ma=y("Edge"),Na=Ma||z,Oa=y("Gecko")&&!(-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),Pa=-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"),Ra,a;function Qa(){var t=k.document;return t?t.documentMode:void 0}t:{var Sa="",Ta=(a=x,Oa?/rv:([^\);]+)(\)|;)/.exec(a):Ma?/Edge\/([\d\.]+)/.exec(a):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):Pa?/WebKit\/(\S+)/.exec(a):La?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Ta&&(Sa=Ta?Ta[1]:""),z){var Ua=Qa();if(null!=Ua&&Ua>parseFloat(Sa)){Ra=String(Ua);break t}}Ra=Sa}var Ka={},Wa;function Va(t){return Ja(t,function(){for(var e=0,n=ya(String(Ra)).split("."),r=ya(String(t)).split("."),o=Math.max(n.length,r.length),i=0;0==e&&i<o;i++){var a=n[i]||"",s=r[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=za(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||za(0==a[2].length,0==s[2].length)||za(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var Xa=k.document;Wa=Xa&&z?Qa()||("CSS1Compat"==Xa.compatMode?parseInt(Ra,10):5):void 0;var Ya=Object.freeze||function(t){return t},Za=!z||9<=Number(Wa),$a=z&&!Va("9"),ab=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return k.addEventListener("test",aa,e),k.removeEventListener("test",aa,e),t}();function A(t,e){this.type=t,this.a=this.target=e,this.Ra=!0}function bb(t,e){if(A.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Oa){t:{try{Ia(e.nodeName);var o=!0;break t}catch(t){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=l(t.pointerType)?t.pointerType:cb[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}A.prototype.b=function(){this.Ra=!1},u(bb,A);var cb=Ya({2:"touch",3:"pen",4:"mouse"});bb.prototype.b=function(){bb.H.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$a)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var db="closure_listenable_"+(1e6*Math.random()|0),eb=0;function fb(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ga=o,this.key=++eb,this.Z=this.ba=!1}function gb(t){t.Z=!0,t.listener=null,t.proxy=null,t.src=null,t.ga=null}function hb(t){this.src=t,this.a={},this.b=0}function jb(t,e){var n=e.type;if(n in t.a){var r,o=t.a[n],i=qa(o,e);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(gb(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ib(t,e,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(!i.Z&&i.listener==e&&i.capture==!!n&&i.ga==r)return o}return-1}hb.prototype.add=function(t,e,n,r,o){var i=t.toString();(t=this.a[i])||(t=this.a[i]=[],this.b++);var a=ib(t,e,r,o);return-1<a?(e=t[a],n||(e.ba=!1)):((e=new fb(e,this.src,i,!!r,o)).ba=n,t.push(e)),e};var kb="closure_lm_"+(1e6*Math.random()|0),lb={},mb=0;function nb(t,e,n,r,o){if(r&&r.once)return ob(t,e,n,r,o);if(p(e)){for(var i=0;i<e.length;i++)nb(t,e[i],n,r,o);return null}return n=pb(n),t&&t[db]?t.Ia(e,n,ea(r)?!!r.capture:!!r,o):qb(t,e,n,!1,r,o)}function qb(t,e,n,r,o,i){if(!e)throw Error("Invalid event type");var a=ea(o)?!!o.capture:!!o,s=rb(t);if(s||(t[kb]=s=new hb(t)),(n=s.add(e,n,r,a,i)).proxy)return n;if(r=sb(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ab||(o=a),void 0===o&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(tb(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return mb++,n}function sb(){var t=ub,e=Za?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function ob(t,e,n,r,o){if(p(e)){for(var i=0;i<e.length;i++)ob(t,e[i],n,r,o);return null}return n=pb(n),t&&t[db]?t.Ja(e,n,ea(r)?!!r.capture:!!r,o):qb(t,e,n,!0,r,o)}function vb(t,e,n,r,o){if(p(e))for(var i=0;i<e.length;i++)vb(t,e[i],n,r,o);else r=ea(r)?!!r.capture:!!r,n=pb(n),t&&t[db]?(t=t.f,(e=String(e).toString())in t.a&&-1<(n=ib(i=t.a[e],n,r,o))&&(gb(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete t.a[e],t.b--))):t&&(t=rb(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ib(e,n,r,o)),(n=-1<t?e[t]:null)&&wb(n))}function wb(t){if("number"!=typeof t&&t&&!t.Z){var e=t.src;if(e&&e[db])jb(e.f,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(tb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),mb--,(n=rb(e))?(jb(n,t),0==n.b&&(n.src=null,e[kb]=null)):gb(t)}}}function tb(t){return t in lb?lb[t]:lb[t]="on"+t}function xb(t,e,n,r){var o=!0;if((t=rb(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var i=e[t];i&&i.capture==n&&!i.Z&&(i=yb(i,r),o=o&&!1!==i)}return o}function yb(t,e){var n=t.listener,r=t.ga||t.src;return t.ba&&wb(t),n.call(r,e)}function ub(t,e){if(t.Z)return!0;if(!Za){var r=e||n("window.event");e=new bb(r,this);var o=!0;if(!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.a;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.a=r[i];var a=xb(r[i],t,!0,e);o=o&&a}for(i=0;i<r.length;i++)e.a=r[i],a=xb(r[i],t,!1,e),o=o&&a}return o}return yb(t,new bb(e,this))}function rb(t){return(t=t[kb])instanceof hb?t:null}var zb="__closure_events_fn_"+(1e9*Math.random()>>>0);function pb(t){return da(t)?t:(t[zb]||(t[zb]=function(e){return t.handleEvent(e)}),t[zb])}function B(){w.call(this),this.f=new hb(this),this.N=this,this.J=null}function Ab(t,e,n,r){if(!(e=t.f.a[String(e)]))return!0;e=e.concat();for(var o=!0,i=0;i<e.length;++i){var a=e[i];if(a&&!a.Z&&a.capture==n){var s=a.listener,u=a.ga||a.src;a.ba&&jb(t.f,a),o=!1!==s.call(u,r)&&o}}return o&&0!=r.Ra}function Bb(t){return!/^\s*$/.test(t)&&/^[\],:{}\s\u2028\u2029]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function Cb(a){if(a=String(a),Bb(a))try{return eval("("+a+")")}catch(t){}throw Error("Invalid JSON string: "+a)}function Db(t){var e=[];return Eb(new Fb,t,e),e.join("")}function Fb(){}function Eb(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(p(e)){var r=e;e=r.length,n.push("[");for(var o="",i=0;i<e;i++)n.push(o),Eb(t,r[i],n),o=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),o="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(i=e[r])&&(n.push(o),Gb(r,n),n.push(":"),Eb(t,i,n),o=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":Gb(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}u(B,w),B.prototype[db]=!0,g=B.prototype,g.addEventListener=function(t,e,n,r){nb(this,t,e,n,r)},g.removeEventListener=function(t,e,n,r){vb(this,t,e,n,r)},g.dispatchEvent=function(t){var e,n=this.J;if(n)for(e=[];n;n=n.J)e.push(n);n=this.N;var r=t.type||t;if(l(t))t=new A(t,n);else if(t instanceof A)t.target=t.target||n;else{var o=t;Ha(t=new A(r,n),o)}if(o=!0,e)for(var i=e.length-1;0<=i;i--){var a=t.a=e[i];o=Ab(a,r,!0,t)&&o}if(o=Ab(a=t.a=n,r,!0,t)&&o,o=Ab(a,r,!1,t)&&o,e)for(i=0;i<e.length;i++)o=Ab(a=t.a=e[i],r,!1,t)&&o;return o},g.w=function(){if(B.H.w.call(this),this.f){var t,e=this.f;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)gb(n[r]);delete e.a[t],e.b--}}this.J=null},g.Ia=function(t,e,n,r){return this.f.add(String(t),e,!1,n,r)},g.Ja=function(t,e,n,r){return this.f.add(String(t),e,!0,n,r)};var Hb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ib=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Gb(t,e){e.push('"',t.replace(Ib,function(t){var e=Hb[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Hb[t]=e),e}),'"')}function Jb(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Kb(){this.b=this.a=null}Jb.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Nb=new Jb(function(){return new Lb},function(t){t.reset()}),Rb,Tb;function Ob(){var t=Pb,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Lb(){this.next=this.b=this.a=null}function Qb(t){k.setTimeout(function(){throw t},0)}function Sb(){var t=k.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),o="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=r(function(t){"*"!=o&&t.origin!=o||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,o)}}}),void 0!==t&&!y("Trident")&&!y("MSIE")){var e=new t,n={},o=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).za;n.za=null,t()}},function(t){o.next={za:t},o=o.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){k.setTimeout(t,0)}}function Ub(){if(-1!=String(k.Promise).indexOf("[native code]")){var t=k.Promise.resolve(void 0);Tb=function(){t.then(Vb)}}else Tb=function(){var t=Vb;!da(k.setImmediate)||k.Window&&k.Window.prototype&&!y("Edge")&&k.Window.prototype.setImmediate==k.setImmediate?(Rb||(Rb=Sb()),Rb(t)):k.setImmediate(t)}}Kb.prototype.add=function(t,e){var n=Nb.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Lb.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Lb.prototype.reset=function(){this.next=this.b=this.a=null};var Wb=!1,Pb=new Kb;function Vb(){for(var t;t=Ob();){try{t.a.call(t.b)}catch(t){Qb(t)}var e=Nb;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Wb=!1}function Xb(e,n){B.call(this),this.b=e||1,this.a=n||k,this.c=r(this.qb,this),this.g=t()}function Yb(t){t.ea=!1,t.O&&(t.a.clearTimeout(t.O),t.O=null)}function Zb(t,e,n){if(da(t))n&&(t=r(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=r(t.handleEvent,t)}return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function $b(t,e,n){w.call(this),this.f=null!=n?r(t,n):t,this.c=e,this.b=r(this.kb,this),this.a=[]}function ac(t){t.Y=Zb(t.b,t.c),t.f.apply(null,t.a)}function bc(t){w.call(this),this.b=t,this.a={}}u(Xb,B),g=Xb.prototype,g.ea=!1,g.O=null,g.qb=function(){if(this.ea){var e=t()-this.g;0<e&&e<.8*this.b?this.O=this.a.setTimeout(this.c,this.b-e):(this.O&&(this.a.clearTimeout(this.O),this.O=null),this.dispatchEvent("tick"),this.ea&&(this.O=this.a.setTimeout(this.c,this.b),this.g=t()))}},g.start=function(){this.ea=!0,this.O||(this.O=this.a.setTimeout(this.c,this.b),this.g=t())},g.w=function(){Xb.H.w.call(this),Yb(this),delete this.a},u($b,w),g=$b.prototype,g.ha=!1,g.Y=null,g.cb=function(t){this.a=arguments,this.Y?this.ha=!0:ac(this)},g.w=function(){$b.H.w.call(this),this.Y&&(k.clearTimeout(this.Y),this.Y=null,this.ha=!1,this.a=[])},g.kb=function(){this.Y=null,this.ha&&(this.ha=!1,ac(this))},u(bc,w);var cc=[];function dc(t,e,n,r){p(n)||(n&&(cc[0]=n.toString()),n=cc);for(var o=0;o<n.length;o++){var i=nb(e,n[o],r||t.handleEvent,!1,t.b||t);if(!i)break;t.a[i.key]=i}}function ec(t){Ca(t.a,function(t,e){this.a.hasOwnProperty(e)&&wb(t)},t),t.a={}}function fc(t,e,n){this.reset(t,e,n,void 0,void 0)}bc.prototype.w=function(){bc.H.w.call(this),ec(this)},bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fc.prototype.a=null;var gc=0;function hc(t){this.f=t,this.b=this.c=this.a=null}function C(t,e){this.name=t,this.value=e}fc.prototype.reset=function(e,n,r,o,i){"number"==typeof i||gc++,o||t(),delete this.a},C.prototype.toString=function(){return this.name};var ic=new C("SEVERE",1e3),jc=new C("WARNING",900),kc=new C("INFO",800),lc=new C("CONFIG",700),mc=new C("FINE",500);function nc(t){return t.c?t.c:t.a?nc(t.a):(ma("Root logger has no level set."),null)}hc.prototype.log=function(t,e,n){if(t.value>=nc(this).value)for(da(e)&&(e=e()),t=new fc(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var oc={},pc=null;function qc(t){var e;if(pc||(pc=new hc(""),oc[""]=pc,pc.c=lc),!(e=oc[t])){e=new hc(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=qc(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,oc[t]=e}return e}function D(t,e){t&&t.log(jc,e,void 0)}function rc(t,e){t&&t.log(kc,e,void 0)}function E(t,e){t&&t.log(mc,e,void 0)}function sc(){this.a=qc("goog.labs.net.webChannel.WebChannelDebug"),this.b=!0}function tc(t,e,n,r,o,i){F(t,function(){if(t.b)if(i)for(var a="",s=i.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+n+"\n"+a})}function uc(t,e,n,r,o,i,a){F(t,function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+n+"\n"+i+" "+a})}function G(t,e,n,r){F(t,function(){return"XMLHTTP TEXT ("+e+"): "+vc(t,n)+(r?" "+r:"")})}function wc(t,e){F(t,function(){return"TIMEOUT: "+e})}function H(t,e){E(t.a,e)}function xc(t,e,n){(t=t.a)&&t.log(ic,n||"Exception",e)}function F(t,e){rc(t.a,e)}function J(t,e){(t=t.a)&&t.log(ic,e,void 0)}function vc(t,e){if(!t.b)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(var r=0;r<n.length;r++)if(p(n[r])){var o=n[r];if(!(2>o.length)){var i=o[1];if(p(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}return Db(n)}catch(n){return H(t,"Exception parsing expected JS array - probably was not JS"),e}}sc.prototype.Fa=function(){this.b=!1};var yc=new B;function zc(t){A.call(this,"serverreachability",t)}function Ac(t){yc.dispatchEvent(new zc(yc,t))}function Bc(t){A.call(this,"statevent",t)}function K(t){yc.dispatchEvent(new Bc(yc,t))}function Cc(t){A.call(this,"timingevent",t)}function Dc(t,e,n){yc.dispatchEvent(new Cc(yc,t,e,n))}function Ec(t,e){if(!da(t))throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}u(zc,A),u(Bc,A),u(Cc,A);var Fc={NO_ERROR:0,rb:1,yb:2,xb:3,ub:4,wb:5,zb:6,Ua:7,TIMEOUT:8,Cb:9},Gc={tb:"complete",Gb:"success",Va:"error",Ua:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",vb:"downloadprogress",Hb:"uploadprogress"};function Hc(){}function Ic(t){var e;return(e=t.a)||(e={},Jc(t)&&(e[0]=!0,e[1]=!0),e=t.a=e),e}function Kc(){}Hc.prototype.a=null;var Lc={OPEN:"a",sb:"b",Va:"c",Bb:"d"},Oc;function Mc(){A.call(this,"d")}function Nc(){A.call(this,"c")}function Pc(){}function Qc(t){return(t=Jc(t))?new ActiveXObject(t):new XMLHttpRequest}function Jc(t){if(!t.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.b=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.b}function L(t,e,n,r){this.i=t,this.b=e,this.c=n,this.T=r||1,this.L=new bc(this),this.R=Rc,this.S=new Xb(t=Na?125:void 0),this.j=null,this.f=!1,this.l=this.g=this.h=this.J=this.D=this.U=this.s=null,this.u=[],this.a=null,this.G=0,this.m=this.o=null,this.C=-1,this.B=!1,this.N=0,this.I=null,this.v=this.X=this.K=!1}u(Mc,A),u(Nc,A),u(Pc,Hc),Oc=new Pc;var Rc=45e3;function Sc(t,e){switch(t){case 0:return"Non-200 return code ("+e+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}var Tc={},Uc={};function Vc(t,e,n){t.J=1,t.h=Wc(M(e)),t.l=n,t.K=!0,Xc(t,null)}function Yc(t,e,n,r){t.J=1,t.h=Wc(M(e)),t.l=null,t.K=n,Xc(t,r)}function Xc(e,n){e.D=t(),Zc(e),e.g=M(e.h),$c(e.g,"t",e.T),e.G=0,e.a=e.i.ca(e.i.ia()?n:null),0<e.N&&(e.I=new $b(r(e.Sa,e,e.a),e.N)),dc(e.L,e.a,"readystatechange",e.nb),n=e.j?Fa(e.j):{},e.l?(e.o||(e.o="POST"),n["Content-Type"]="application/x-www-form-urlencoded",e.a.fa(e.g,e.o,e.l,n)):(e.o="GET",e.a.fa(e.g,e.o,null,n)),Ac(1),tc(e.b,e.o,e.g,e.c,e.T,e.l)}function ad(t){var e=N(t.a),n=t.a.Ga(),r=t.a.W();if(!(3>e||3==e&&!Na&&!t.a.V())){t.B||4!=e||7==n||Ac(8==n||0>=r?3:2),bd(t);var o=t.a.W();t.C=o,(n=t.a.V())||H(t.b,function(){return"No response text for uri "+t.g+" status "+o}),t.f=200==o,uc(t.b,t.o,t.g,t.c,t.T,e,o),t.f?((r=cd(t))&&(G(t.b,t.c,r,"Initial handshake response via X-HTTP-Initial-Response"),t.v=!0,dd(t,r)),t.K?(ed(t,e,n),Na&&t.f&&3==e&&fd(t)):(G(t.b,t.c,n,null),dd(t,n)),4==e&&gd(t),t.f&&!t.B&&(4==e?t.i.ta(t):(t.f=!1,Zc(t)))):(400==o&&0<n.indexOf("Unknown SID")?(t.m=3,K(12),D(t.b.a,"XMLHTTP Unknown SID ("+t.c+")")):(t.m=0,K(13),D(t.b.a,"XMLHTTP Bad status "+o+" ("+t.c+")")),gd(t),hd(t))}}function cd(t){return!t.X||t.v?null:t.a&&(t=id(t.a,"X-HTTP-Initial-Response"))&&!xa(t)?t:null}function ed(t,e,n){for(var r=!0;!t.B&&t.G<n.length;){var o=jd(t,n);if(o==Uc){4==e&&(t.m=4,K(14),r=!1),G(t.b,t.c,null,"[Incomplete Response]");break}if(o==Tc){t.m=4,K(15),G(t.b,t.c,n,"[Invalid Chunk]"),r=!1;break}G(t.b,t.c,o,null),dd(t,o)}4==e&&0==n.length&&(t.m=1,K(16),r=!1),t.f=t.f&&r,r||(G(t.b,t.c,n,"[Invalid Chunked Response]"),gd(t),hd(t))}function fd(t){dc(t.L,t.S,"tick",t.mb),t.S.start()}function jd(t,e){var n=t.G,r=e.indexOf("\n",n);return-1==r?Uc:(n=Number(e.substring(n,r)),isNaN(n)?Tc:(r+=1)+n>e.length?Uc:(e=e.substr(r,n),t.G=r+n,e))}function Zc(e){e.U=t()+e.R,kd(e,e.R)}function kd(t,e){if(null!=t.s)throw Error("WatchDog timer not null");t.s=Ec(r(t.lb,t),e)}function bd(t){t.s&&(k.clearTimeout(t.s),t.s=null)}function hd(t){t.i.La()||t.B||t.i.ta(t)}function gd(t){bd(t);var e=t.I;e&&"function"==typeof e.$&&e.$(),t.I=null,Yb(t.S),ec(t.L),t.a&&(e=t.a,t.a=null,e.abort(),e.$())}function dd(t,e){try{t.i.Oa(t,e),Ac(4)}catch(e){xc(t.b,e,"Error in httprequest callback")}}function ld(t){if(t.A&&"function"==typeof t.A)return t.A();if(l(t))return t.split("");if(ca(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}return Da(t)}function md(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ca(t)||l(t))ra(t,e,void 0);else{if(t.M&&"function"==typeof t.M)var n=t.M();else if(t.A&&"function"==typeof t.A)n=void 0;else if(ca(t)||l(t)){n=[];for(var r=t.length,o=0;o<r;o++)n.push(o)}else n=Ea(t);o=(r=ld(t)).length;for(var i=0;i<o;i++)e.call(void 0,r[i],n&&n[i],t)}}function O(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof O)for(n=t.M(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function od(t){t.b={},t.a.length=0,t.c=0}function pd(t,e){return!!P(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&nd(t),!0)}function nd(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];P(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var o={};for(n=e=0;e<t.a.length;)P(o,r=t.a[e])||(t.a[n++]=r,o[r]=1),e++;t.a.length=n}}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}g=L.prototype,g.setTimeout=function(t){this.R=t},g.nb=function(t){t=t.target;var e=this.I;e&&3==N(t)?(H(this.b,"Throttling readystatechange."),e.cb()):this.Sa(t)},g.Sa=function(t){try{t==this.a?ad(this):D(this.b.a,"Called back with an unexpected xmlhttp")}catch(t){if(H(this.b,"Failed call to OnXmlHttpReadyStateChanged_"),this.a&&this.a.V()){var e=this;xc(this.b,t,function(){return"ResponseText: "+e.a.V()})}else xc(this.b,t,"No response text")}},g.mb=function(){if(this.a){var t=N(this.a),e=this.a.V();this.G<e.length&&(bd(this),ed(this,t,e),this.f&&4!=t&&Zc(this))}},g.cancel=function(){this.B=!0,gd(this)},g.lb=function(){this.s=null;var e=t();0<=e-this.U?(this.f&&J(this.b,"Received watchdog timeout even though request loaded successfully"),wc(this.b,this.g),2!=this.J&&(Ac(3),K(17)),gd(this),this.m=2,hd(this)):(D(this.b.a,"WatchDog timer called too early"),kd(this,this.U-e))},g=O.prototype,g.A=function(){nd(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},g.M=function(){return nd(this),this.a.concat()},g.get=function(t,e){return P(this.b,t)?this.b[t]:e},g.set=function(t,e){P(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},g.forEach=function(t,e){for(var n=this.M(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);t.call(e,i,o,this)}};var qd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rd(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var i=t[n].substring(0,r);o=t[n].substring(r+1)}else i=t[n];e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Q(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Q?(this.h=void 0!==e?e:t.h,sd(this,t.f),this.j=t.j,td(this,t.b),ud(this,t.i),this.a=t.a,vd(this,wd(t.c)),this.g=t.g):t&&(n=String(t).match(qd))?(this.h=!!e,sd(this,n[1]||"",!0),this.j=xd(n[2]||""),td(this,n[3]||"",!0),ud(this,n[4]),this.a=xd(n[5]||"",!0),vd(this,n[6]||"",!0),this.g=xd(n[7]||"")):(this.h=!!e,this.c=new yd(null,this.h))}function M(t){return new Q(t)}function sd(t,e,n){t.f=n?xd(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function td(t,e,n){t.b=n?xd(e,!0):e}function ud(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function vd(t,e,n){e instanceof yd?(t.c=e,Ed(t.c,t.h)):(n||(e=zd(e,Fd)),t.c=new yd(e,t.h))}function R(t,e,n){t.c.set(e,n)}function $c(t,e,n){p(n)||(n=[String(n)]),Gd(t.c,e,n)}function Wc(e){return R(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^t()).toString(36)),e}function Hd(t){return t instanceof Q?M(t):new Q(t,void 0)}function Id(t,e,n,r){var o=new Q(null,void 0);return t&&sd(o,t),e&&td(o,e),n&&ud(o,n),r&&(o.a=r),o}function xd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zd(t,e,n){return l(t)?(t=encodeURI(t).replace(e,Jd),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Jd(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Q.prototype.toString=function(){var t=[],e=this.f;e&&t.push(zd(e,Ad,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(zd(e,Ad,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(zd(n,"/"==n.charAt(0)?Bd:Cd,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",zd(n,Dd)),t.join("")},Q.prototype.resolve=function(t){var e=M(this),n=!!t.f;n?sd(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?td(e,t.b):n=null!=t.i;var r=t.a;if(n)ud(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var o=e.a.lastIndexOf("/");-1!=o&&(r=e.a.substr(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(-1!=o.indexOf("./")||-1!=o.indexOf("/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var i=[],a=0;a<o.length;){var s=o[a++];"."==s?r&&a==o.length&&i.push(""):".."==s?((1<i.length||1==i.length&&""!=i[0])&&i.pop(),r&&a==o.length&&i.push("")):(i.push(s),r=!0)}r=i.join("/")}else r=o}return n?e.a=r:n=""!==t.c.toString(),n?vd(e,wd(t.c)):n=!!t.g,n&&(e.g=t.g),e};var Ad=/[#\/\?@]/g,Cd=/[#\?:]/g,Bd=/[#\?]/g,Fd=/[#\?@]/g,Dd=/#/g;function yd(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function S(t){t.a||(t.a=new O,t.b=0,t.c&&rd(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ld(t,e){S(t),e=Kd(t,e),P(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,pd(t.a,e))}function Md(t,e){return S(t),e=Kd(t,e),P(t.a.b,e)}function Gd(t,e,n){Ld(t,e),0<n.length&&(t.c=null,t.a.set(Kd(t,e),wa(n)),t.b+=n.length)}function wd(t){var e=new yd;return e.c=t.c,t.a&&(e.a=new O(t.a),e.b=t.b),e}function Kd(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ed(t,e){e&&!t.f&&(S(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ld(this,e),Gd(this,n,t))},t)),t.f=e}function Nd(){this.a=t()}g=yd.prototype,g.add=function(t,e){S(this),this.c=null,t=Kd(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},g.forEach=function(t,e){S(this),this.a.forEach(function(n,r){ra(n,function(n){t.call(e,n,r,this)},this)},this)},g.M=function(){S(this);for(var t=this.a.A(),e=this.a.M(),n=[],r=0;r<e.length;r++)for(var o=t[r],i=0;i<o.length;i++)n.push(e[r]);return n},g.A=function(t){S(this);var e=[];if(l(t))Md(this,t)&&(e=va(e,this.a.get(Kd(this,t))));else{t=this.a.A();for(var n=0;n<t.length;n++)e=va(e,t[n])}return e},g.set=function(t,e){return S(this),this.c=null,Md(this,t=Kd(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},g.get=function(t,e){return 0<(t=t?this.A(t):[]).length?String(t[0]):e},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.M(),n=0;n<e.length;n++){var r=e[n],o=encodeURIComponent(String(r));r=this.A(r);for(var i=0;i<r.length;i++){var a=o;""!==r[i]&&(a+="="+encodeURIComponent(String(r[i]))),t.push(a)}}return this.c=t.join("&")};var Od=null;function Pd(){Od||(Od=new Nd)}function Qd(){Od||(Od=new Nd)}function Rd(t,e){this.a=t,this.b=e,this.c=this.i=null,this.h=!1,this.m=null,this.f=-1,this.l=this.g=null}function Sd(t){H(t.b,"TestConnection: starting stage 2");var e=t.a.I.a;if(null!=e)H(t.b,function(){return"Buffered"}),K(4),e?(K(10),Td(t.a,t,!1)):(K(11),Td(t.a,t,!0));else{t.c=new L(t,t.b,void 0,void 0),t.c.j=t.i;var n=Ud(t.a,t.g,t.m);K(4),$c(n,"TYPE","xmlhttp");var r=t.a.j,o=t.a.K;r&&o&&R(n,r,o),Yc(t.c,n,!1,t.g)}}function Wd(){this.a=this.b=null}function Xd(){this.a=new O}function Yd(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[q]||(t[q]=++fa)):e.charAt(0)+t}function Zd(t,e){this.a=t,this.b=e}function $d(t){this.g=t||ae,t=k.PerformanceNavigationTiming?0<(t=k.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(k.oa&&k.oa.Ma&&k.oa.Ma()&&k.oa.Ma().Jb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Xd),this.b=null,this.c=[]}Nd.prototype.set=function(t){this.a=t},Nd.prototype.reset=function(){this.set(t())},Nd.prototype.get=function(){return this.a},u(Qd,Pd),g=Rd.prototype,g.P=null,g.ca=function(t){return this.a.ca(t)},g.abort=function(){this.c&&(this.c.cancel(),this.c=null),this.f=-1},g.La=function(){return!1},g.Oa=function(t,e){if(this.f=t.C,0==this.P){if(H(this.b,"TestConnection: Got data for stage 1"),!this.a.o&&(t=t.a)){var n=id(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&((t=id(t,"X-HTTP-Session-Id"))?this.a.K=t:D(this.b.a,"Missing X_HTTP_SESSION_ID in the handshake response"))}if(e){try{var r=this.a.la.a.parse(e)}catch(t){return xc(this.b,t),void Vd(this.a,this)}this.g=r[0]}else H(this.b,"TestConnection: Null responseText"),Vd(this.a,this)}else 1==this.P&&(this.h?K(6):"11111"==e?(K(5),this.h=!0,(!z||10<=Number(Wa))&&(this.f=200,this.c.cancel(),H(this.b,"Test connection succeeded; using streaming connection"),K(11),Td(this.a,this,!0))):(K(7),this.h=!1))},g.ta=function(){this.f=this.c.C,this.c.f?0==this.P?(this.P=1,H(this.b,"TestConnection: request complete for initial check"),Sd(this)):1==this.P&&(H(this.b,"TestConnection: request complete for stage 2"),this.h?(H(this.b,"Test connection succeeded; using streaming connection"),K(11),Td(this.a,this,!0)):(H(this.b,"Test connection failed; not using streaming"),K(10),Td(this.a,this,!1))):(H(this.b,"TestConnection: request failed, in state "+this.P),0==this.P?K(8):1==this.P&&K(9),Vd(this.a,this))},g.ia=function(){return this.a.ia()},g.qa=function(){return this.a.qa()},Xd.prototype.add=function(t){this.a.set(Yd(t),t)},Xd.prototype.A=function(){return this.a.A()};var ae=10;function be(t,e){t.a||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(t.f=t.g,t.a=new Xd,t.b&&(ce(t,t.b),t.b=null))}function de(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function ee(t,e){return t.b?t=t.b==e:t.a?(e=Yd(e),t=P(t.a.a.b,e)):t=!1,t}function ce(t,e){t.a?t.a.add(e):t.b=e}function fe(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=Yd(e),n=P(t.a.a.b,n)),n&&pd(t.a.a,Yd(e)))}function ge(t){if(null!=t.b)return t.c.concat(t.b.u);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return ra(t.a.A(),function(t){e=e.concat(t.u)}),e}return wa(t.c)}function he(t,e){t.c=t.c.concat(e)}function ie(){}function je(){this.a=new ie}function ke(t,e,n){var r=n||"";try{md(t,function(t,n){var o=t;ea(t)&&(o=Db(t)),e.push(r+n+"="+encodeURIComponent(o))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function le(t,e){var n=new sc;H(n,"TestLoadImage: loading "+t);var r=new Image;r.onload=ja(me,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ja(me,n,r,"TestLoadImage: error",!1,e),r.onabort=ja(me,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ja(me,n,r,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}function me(t,e,n,r,o){try{H(t,n),e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(e){xc(t,e)}}function T(t){B.call(this),this.headers=new O,this.s=t||null,this.c=!1,this.D=this.a=null,this.K=this.B="",this.j=0,this.g="",this.h=this.I=this.u=this.G=!1,this.l=0,this.C=null,this.L=ne,this.v=this.o=!1}$d.prototype.cancel=function(){this.c=ge(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(ra(this.a.A(),function(t){t.cancel()}),od(this.a.a))},ie.prototype.stringify=function(t){return k.JSON.stringify(t,void 0)},ie.prototype.parse=function(t){return k.JSON.parse(t,void 0)},u(T,B);var ne="";T.prototype.b=qc("goog.net.XhrIo");var oe=/^https?$/i,pe=["POST","PUT"];function se(t){return z&&Va(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function ta(t){return"content-type"==t.toLowerCase()}function qe(t,e){t.c=!1,t.a&&(t.h=!0,t.a.abort(),t.h=!1),t.g=e,t.j=5,te(t),ue(t)}function te(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ve(t){if(t.c&&void 0!==goog)if(t.D[1]&&4==N(t)&&2==t.W())E(t.b,U(t,"Local request error detected and ignored"));else if(t.u&&4==N(t))Zb(t.Na,0,t);else if(t.dispatchEvent("readystatechange"),4==N(t)){E(t.b,U(t,"Request complete")),t.c=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var o;if(o=0===n){var i=String(t.B).match(qd)[1]||null;if(!i&&k.self&&k.self.location){var a=k.self.location.protocol;i=a.substr(0,a.length-1)}o=!oe.test(i?i.toLowerCase():"")}e=o}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.j=6,t.g=t.Ha()+" ["+t.W()+"]",te(t))}finally{ue(t)}}}function ue(t,e){if(t.a){re(t);var n=t.a,r=t.D[0]?aa:null;t.a=null,t.D=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ic,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function re(t){t.a&&t.v&&(t.a.ontimeout=null),t.C&&(k.clearTimeout(t.C),t.C=null)}function N(t){return t.a?t.a.readyState:0}function id(t,e){return t.a?t.a.getResponseHeader(e):null}function U(t,e){return e+" ["+t.K+" "+t.B+" "+t.W()+"]"}function we(t){var e="";return Ca(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function xe(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=we(n),l(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var o=""}else o=t.substring(r+1,n);n=(t=[t.substr(0,r),o,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return R(t,e,n),t}function ye(t){this.ya=0,this.g=[],this.a=new sc,this.I=new Wd,this.X=this.ua=this.D=this.ja=this.b=this.K=this.j=this.U=this.h=this.L=this.i=null,this.Za=this.R=0,this.Xa=!!n("internalChannelParams.failFast",t),this.ka=this.C=this.s=this.l=this.m=this.f=null,this.u=this.xa=this.N=-1,this.T=this.B=this.v=0,this.Wa=n("internalChannelParams.baseRetryDelayMs",t)||5e3,this.$a=n("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Ya=n("internalChannelParams.forwardChannelMaxRetries",t)||2,this.wa=n("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ta=t&&t.Kb||void 0,this.G=void 0,this.S=t&&t.supportsCrossDomainXhr||!1,this.J="",this.c=new $d(t&&t.concurrentRequestLimit),this.la=new je,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.va=t&&t.fastHandshake||!1)&&!this.o&&(D(this.a.a,"Force backgroundChannelTest when fastHandshake is enabled."),this.o=!0),t&&t.Fa&&this.a.Fa()}function ze(e){if(H(e.a,"disconnect()"),Ae(e),3==e.F){var n=e.R++,r=M(e.D);R(r,"SID",e.J),R(r,"RID",n),R(r,"TYPE","terminate"),Be(e,r),(n=new L(e,e.a,n,void 0)).J=2,n.h=Wc(M(r)),r=!1,k.navigator&&k.navigator.sendBeacon&&(r=k.navigator.sendBeacon(n.h.toString(),"")),!r&&k.Image&&((new Image).src=n.h,r=!0),r||(n.a=n.i.ca(null),n.a.fa(n.h)),n.D=t(),Zc(n)}Ce(e)}function Ae(t){t.C&&(t.C.abort(),t.C=null),t.b&&(t.b.cancel(),t.b=null),t.l&&(k.clearTimeout(t.l),t.l=null),De(t),t.c.cancel(),t.m&&(k.clearTimeout(t.m),t.m=null)}function Ee(t,e){1e3==t.g.length&&J(t.a,function(){return"Already have 1000 queued maps upon queueing "+Db(e)}),t.g.push(new Zd(t.Za++,e)),3==t.F&&Fe(t)}function Fe(t){de(t.c)||t.m||(t.m=Ec(r(t.Qa,t),0),t.v=0)}function Ge(t,e){var n=t.c;return(n.b?1:n.a?n.a.a.c:0)>=t.c.f-(t.m?1:0)?(J(t.a,"Unexpected retry request is scheduled."),!1):t.m?(H(t.a,"Use the retry request that is already scheduled."),t.g=e.u.concat(t.g),!0):!(1==t.F||2==t.F||t.v>=(t.Xa?0:t.Ya)||(H(t.a,"Going to retry POST"),t.m=Ec(r(t.Qa,t,e),He(t,t.v)),t.v++,0))}function Je(t,e){var n;n=e?e.c:t.R++;var r=M(t.D);R(r,"SID",t.J),R(r,"RID",n),R(r,"AID",t.N),Be(t,r),t.h&&t.i&&xe(r,t.h,t.i),n=new L(t,t.a,n,t.v+1),null===t.h&&(n.j=t.i),e&&(t.g=e.u.concat(t.g)),e=Ie(t,n),n.setTimeout(Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random())),ce(t.c,n),Vc(n,r,e)}function Be(t,e){t.f&&md({},function(t,n){R(e,n,t)})}function Ie(t,e){var n=Math.min(t.g.length,1e3),o=t.f?r(t.f.ab,t.f,t):null;t:for(var i=t.g,a=-1;;){var s=["count="+n];-1==a?0<n?s.push("ofs="+(a=i[0].a)):a=0:s.push("ofs="+a);for(var u=!0,c=0;c<n;c++){var l=i[c].a,h=i[c].b;if(0>(l-=a))a=Math.max(0,i[c].a-100),u=!1;else try{ke(h,s,"req"+l+"_")}catch(t){o&&o(h)}}if(u){o=s.join("&");break t}}return t=t.g.splice(0,n),e.u=t,o}function Ke(t){if(!t.b&&!t.l){t.T=1;var e=t.Pa;Tb||Ub(),Wb||(Tb(),Wb=!0),Pb.add(e,t),t.B=0}}function Le(t){return t.b||t.l?(J(t.a,"Request already in progress"),!1):!(3<=t.B||(H(t.a,"Going to retry GET"),t.T++,t.l=Ec(r(t.Pa,t),He(t,t.B)),t.B++,0))}function Td(t,e,n){H(t.a,"Test Connection Finished");var r=e.l;r&&be(t.c,r),t.ka=n,t.u=e.f,H(t.a,"connectChannel_()"),t.D=Me(t,t.ja),Fe(t)}function Vd(t,e){H(t.a,"Test Connection Failed"),t.u=e.f,V(t,2)}function De(t){null!=t.s&&(k.clearTimeout(t.s),t.s=null)}function He(t,e){var n=t.Wa+Math.floor(Math.random()*t.$a);return t.qa()||(H(t.a,"Inactive channel"),n*=2),n*e}function V(t,e){if(F(t.a,"Error code "+e),2==e){var n=null;t.f&&(n=null);var o=r(t.pb,t);n||(n=new Q("//www.google.com/images/cleardot.gif"),k.location&&"http"==k.location.protocol||sd(n,"https"),Wc(n)),le(n.toString(),o)}else K(2);H(t.a,"HttpChannel: error - "+e),t.F=0,t.f&&t.f.Ba(e),Ce(t),Ae(t)}function Ce(t){if(t.F=0,t.u=-1,t.f){var e=ge(t.c);0==e.length&&0==t.g.length||(H(t.a,function(){return"Number of undelivered maps, pending: "+e.length+", outgoing: "+t.g.length}),t.c.c.length=0,wa(t.g),t.g.length=0),t.f.Aa()}}function Me(t,e){return e=Ne(t,null,e),H(t.a,"GetForwardChannelUri: "+e),e}function Ud(t,e,n){return e=Ne(t,t.ia()?e:null,n),H(t.a,"GetBackChannelUri: "+e),e}function Ne(t,e,n){var r=Hd(n);if(""!=r.b)e&&td(r,e+"."+r.b),ud(r,r.i);else{var o=k.location;r=Id(o.protocol,e?e+"."+o.hostname:o.hostname,o.port,n)}return t.U&&Ca(t.U,function(t,e){R(r,e,t)}),n=t.K,(e=t.j)&&n&&R(r,e,n),R(r,"VER",t.na),Be(t,r),r}function Oe(){}function Pe(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,o=arguments[n];0==o.lastIndexOf("/",0)?e=o:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?o:"/"+o)}return e}function Qe(){if(z&&!(10<=Number(Wa)))throw Error("Environmental error: no available transport.")}function W(t,e){B.call(this),this.a=new ye(e),this.b=t,this.o=e&&e.testUrl?e.testUrl:Pe(this.b,"test"),this.c=qc("goog.labs.net.webChannel.WebChannelBaseTransport"),this.g=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ea&&(t?t["X-WebChannel-Client-Profile"]=e.Ea:t={"X-WebChannel-Client-Profile":e.Ea}),this.a.L=t,(t=e&&e.httpHeadersOverwriteParam)&&!xa(t)&&(this.a.h=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.j=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xa(e)&&(this.a.j=e,null!==(t=this.g)&&e in t&&(e in(t=this.g)&&delete t[e],D(this.c,"Ignore httpSessionIdParam also specified with messageUrlParams: "+e))),this.h=new Re(this)}function Se(t){Mc.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Te(){Nc.call(this),this.status=1}function Re(t){this.a=t}g=T.prototype,g.fa=function(t,e,n,o){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.g="",this.j=0,this.K=e,this.G=!1,this.c=!0,this.a=Qc(this.s?this.s:Oc),this.D=Ic(this.s?this.s:Oc),this.a.onreadystatechange=r(this.Na,this);try{E(this.b,U(this,"Opening Xhr")),this.I=!0,this.a.open(e,String(t),!0),this.I=!1}catch(t){return E(this.b,U(this,"Error opening Xhr: "+t.message)),void qe(this,t)}t=n||"";var i=new O(this.headers);o&&md(o,function(t,e){i.set(e,t)}),o=sa(i.M()),n=k.FormData&&t instanceof k.FormData,!(0<=qa(pe,e))||o||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.L&&(this.a.responseType=this.L),"withCredentials"in this.a&&this.a.withCredentials!==this.o&&(this.a.withCredentials=this.o);try{re(this),0<this.l&&(this.v=se(this.a),E(this.b,U(this,"Will abort after "+this.l+"ms if incomplete, xhr2 "+this.v)),this.v?(this.a.timeout=this.l,this.a.ontimeout=r(this.Ka,this)):this.C=Zb(this.Ka,this.l,this)),E(this.b,U(this,"Sending request")),this.u=!0,this.a.send(t),this.u=!1}catch(t){E(this.b,U(this,"Send error: "+t.message)),qe(this,t)}},g.Ka=function(){void 0!==goog&&this.a&&(this.g="Timed out after "+this.l+"ms, aborting",this.j=8,E(this.b,U(this,this.g)),this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(t){this.a&&this.c&&(E(this.b,U(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.j=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ue(this))},g.w=function(){this.a&&(this.c&&(this.c=!1,this.h=!0,this.a.abort(),this.h=!1),ue(this,!0)),T.H.w.call(this)},g.Na=function(){this.i||(this.I||this.u||this.h?ve(this):this.jb())},g.jb=function(){ve(this)},g.W=function(){try{return 2<N(this)?this.a.status:-1}catch(t){return-1}},g.Ha=function(){try{return 2<N(this)?this.a.statusText:""}catch(t){return E(this.b,"Can not get status: "+t.message),""}},g.V=function(){try{return this.a?this.a.responseText:""}catch(t){return E(this.b,"Can not get responseText: "+t.message),""}},g.eb=function(t){if(this.a){var e=this.a.responseText;t&&0==e.indexOf(t)&&(e=e.substring(t.length));t:{if(t=e,k.JSON)try{var n=k.JSON.parse(t);break t}catch(t){}n=Cb(t)}return n}},g.Ga=function(){return this.j},g.hb=function(){return l(this.g)?this.g:String(this.g)},g=ye.prototype,g.na=8,g.F=1,g.La=function(){return 0==this.F},g.Qa=function(t){if(this.m=null,H(this.a,"startForwardChannel_"),1==this.F)if(t)J(this.a,"Not supposed to retry the open");else{H(this.a,"open_()"),this.R=Math.floor(1e5*Math.random()),t=this.R++;var e=new L(this,this.a,t,void 0),n=this.i;this.L&&(n?Ha(n=Fa(n),this.L):n=this.L),null===this.h&&(e.j=n);var r=Ie(this,e),o=M(this.D);R(o,"RID",t),R(o,"CVER",22),this.o&&this.j&&R(o,"X-HTTP-Session-Id",this.j),Be(this,o),this.h&&n&&xe(o,this.h,n),ce(this.c,e),this.va?(R(o,"$req",r),R(o,"SID","null"),e.X=!0,Vc(e,o,null)):Vc(e,o,r),this.F=2}else 3==this.F&&(t?Je(this,t):0==this.g.length?H(this.a,"startForwardChannel_ returned: nothing to send"):de(this.c)?J(this.a,"startForwardChannel_ returned: connection already in progress"):(Je(this),H(this.a,"startForwardChannel_ finished, sent request")))},g.Pa=function(){this.l=null,H(this.a,"Creating new HttpRequest"),this.b=new L(this,this.a,"rpc",this.T),null===this.h&&(this.b.j=this.i),this.b.N=0;var t=M(this.ua);R(t,"RID","rpc"),R(t,"SID",this.J),R(t,"CI",this.ka?"0":"1"),R(t,"AID",this.N),Be(this,t),R(t,"TYPE","xmlhttp"),this.h&&this.i&&xe(t,this.h,this.i),this.G&&this.b.setTimeout(this.G),Yc(this.b,t,!0,this.X),H(this.a,"New Request created")},g.Oa=function(t,e){if(0!=this.F&&(this.b==t||ee(this.c,t)))if(this.u=t.C,!t.v&&ee(this.c,t)&&3==this.F){try{var n=this.la.a.parse(e)}catch(t){n=null}if(p(n)&&3==n.length)if(0==(e=n)[0])t:if(H(this.a,"Server claims our backchannel is missing."),this.l)H(this.a,"But we are currently starting the request.");else{if(this.b){if(!(this.b.D+3e3<t.D))break t;De(this),this.b.cancel(),this.b=null}else D(this.a.a,"We do not have a BackChannel established");Le(this),K(18)}else this.xa=e[1],0<(t=this.xa-this.N)&&(H(this.a,(e=e[2])+" bytes (in "+t+" arrays) are outstanding on the BackChannel"),37500>e&&this.ka&&0==this.B&&!this.s&&(this.s=Ec(r(this.ib,this),6e3)));else H(this.a,"Bad POST response data returned"),V(this,11)}else if((t.v||this.b==t)&&De(this),!xa(e))for(e=n=this.la.a.parse(e),n=0;n<e.length;n++){var o=e[n];if(this.N=o[0],o=o[1],2==this.F)if("c"==o[0]){this.J=o[1],this.X=o[2];var i=o[3];null!=i&&(this.na=i,F(this.a,"VER="+this.na)),null!=(i=o[4])&&(this.ya=i,F(this.a,"SVER="+this.ya)),null!=(o=o[5])&&"number"==typeof o&&0<o&&(this.G=o*=1.5,F(this.a,"backChannelRequestTimeoutMs_="+o)),this.o&&(o=t.a)&&((i=id(o,"X-Client-Wire-Protocol"))&&be(this.c,i),this.j&&((o=id(o,"X-HTTP-Session-Id"))?(this.K=o,R(this.D,this.j,o)):D(this.a.a,"Missing X_HTTP_SESSION_ID in the handshake response"))),this.F=3,this.f&&this.f.Da(),o=t,this.ua=Ud(this,this.X,this.ja),o.v?(H(this.a,"Upgrade the handshake request to a backchannel."),fe(this.c,o),(i=this.G)&&o.setTimeout(i),o.s&&(bd(o),Zc(o)),this.b=o):Ke(this)}else"stop"!=o[0]&&"close"!=o[0]||V(this,7);else 3==this.F&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?V(this,7):ze(this):"noop"!=o[0]&&this.f&&this.f.Ca(o),this.B=0)}},g.ib=function(){null!=this.s&&(this.s=null,this.b.cancel(),this.b=null,Le(this),K(19))},g.ta=function(e){H(this.a,"Request complete");var n=null;if(this.b==e){De(this),this.b=null;var r=2}else{if(!ee(this.c,e))return;n=e.u,fe(this.c,e),r=1}if(this.u=e.C,0!=this.F)if(e.f)1==r?(Dc(e.l?e.l.length:0,t()-e.D,this.v),Fe(this)):Ke(this);else{var o=e.m;if(3==o||0==o&&0<this.u)H(this.a,"Not retrying due to error type");else{var i=this;if(H(this.a,function(){return"Maybe retrying, last error: "+Sc(o,i.u)}),1==r&&Ge(this,e)||2==r&&Le(this))return;H(this.a,"Exceeded max number of retries")}switch(n&&0<n.length&&he(this.c,n),H(this.a,"Error: HTTP request failed"),o){case 1:V(this,5);break;case 4:V(this,10);break;case 3:V(this,6);break;default:V(this,2)}}},g.pb=function(t){t?(F(this.a,"Successfully pinged google.com"),K(2)):(F(this.a,"Failed to ping google.com"),K(1))},g.ca=function(t){if(t&&!this.S)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new T(this.Ta)).o=this.S,t},g.qa=function(){return!!this.f&&!0},g.ia=function(){return this.S},new Qd,g=Oe.prototype,g.Da=function(){},g.Ca=function(){},g.Ba=function(){},g.Aa=function(){},g.ab=function(){},Qe.prototype.a=function(t,e){return new W(t,e)},u(W,B),g=W.prototype,g.addEventListener=function(t,e,n,r){W.H.addEventListener.call(this,t,e,n,r)},g.removeEventListener=function(t,e,n,r){W.H.removeEventListener.call(this,t,e,n,r)},g.fb=function(){this.a.f=this.h,this.l&&(this.a.S=!0);var t=this.a,e=this.o,n=this.b,r=this.g||void 0;H(t.a,"connect()"),K(0),t.ja=n,t.U=r||{},t.o&&(H(t.a,"connect() bypassed channel-test."),t.I.b=[],t.I.a=!1),H(t.a,"connectTest_()"),t.C=new Rd(t,t.a),null===t.h&&(t.C.i=t.i),n=e,t.h&&t.i&&(n=xe(e,t.h,t.i)),(t=t.C).m=n,e=Me(t.a,t.m),K(3),null!=(n=t.a.I.b)?(t.g=n[0],t.P=1,Sd(t)):($c(e,"MODE","init"),!t.a.o&&t.a.j&&$c(e,"X-HTTP-Session-Id",t.a.j),t.c=new L(t,t.b,void 0,void 0),t.c.j=t.i,Yc(t.c,e,!1,null),t.P=0)},g.close=function(){ze(this.a)},g.gb=function(t){if(l(t)){var e={};e.__data__=t,Ee(this.a,e)}else this.j?((e={}).__data__=Db(t),Ee(this.a,e)):Ee(this.a,t)},g.w=function(){this.a.f=null,delete this.h,ze(this.a),delete this.a,W.H.w.call(this)},u(Se,Mc),u(Te,Nc),u(Re,Oe),Re.prototype.Da=function(){rc(this.a.c,"WebChannel opened on "+this.a.b),this.a.dispatchEvent("a")},Re.prototype.Ca=function(t){this.a.dispatchEvent(new Se(t))},Re.prototype.Ba=function(t){rc(this.a.c,"WebChannel aborted on "+this.a.b+" due to channel error: "+t),this.a.dispatchEvent(new Te(t))},Re.prototype.Aa=function(){rc(this.a.c,"WebChannel closed on "+this.a.b),this.a.dispatchEvent("b")};var Ue=ja(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},Qe);function Ve(){this.b=[],this.a=[]}function We(t){return 0==t.b.length&&(t.b=t.a,t.b.reverse(),t.a=[]),t.b.pop()}function Xe(t){return t.b.length+t.a.length}function Ye(t,e){if(w.call(this),this.h=t||0,this.c=e||10,this.h>this.c)throw Error(Ze);this.a=new Ve,this.b=new Xd,this.g=null,this.aa()}Ve.prototype.A=function(){for(var t=[],e=this.b.length-1;0<=e;--e)t.push(this.b[e]);var n=this.a.length;for(e=0;e<n;++e)t.push(this.a[e]);return t},u(Ye,w);var Ze="[goog.structs.Pool] Min can not be greater than max";function af(t){if("function"==typeof t.$)t.$();else for(var e in t)t[e]=null}function $e(t){return Xe(t.a)+t.b.a.c}function bf(t,e){this.a=t,this.b=e}function cf(t){if(this.a=[],t)t:{if(t instanceof cf){var e=t.M();if(t=t.A(),0>=this.a.length){for(var n=this.a,r=0;r<e.length;r++)n.push(new bf(e[r],t[r]));break t}}else e=Ea(t),t=Da(t);for(r=0;r<e.length;r++)df(this,e[r],t[r])}}function df(t,e,n){var r=t.a;for(r.push(new bf(e,n)),n=(t=t.a)[e=r.length-1];0<e&&t[r=e-1>>1].a>n.a;)t[e]=t[r],e=r;t[e]=n}function ef(){cf.call(this)}function Y(t,e){this.f=new ef,Ye.call(this,t,e)}function Z(t,e,n,r){this.l=t,this.j=!!r,Y.call(this,e,n)}g=Ye.prototype,g.da=function(){var e=t();if(!(null!=this.g&&0>e-this.g)){for(var n;0<Xe(this.a)&&(n=We(this.a),!this.sa(n));)this.aa();return!n&&$e(this)<this.c&&(n=this.pa()),n&&(this.g=e,this.b.add(n)),n}},g.ob=function(t){return!!pd(this.b.a,Yd(t))&&(this.ma(t),!0)},g.ma=function(t){pd(this.b.a,Yd(t)),this.sa(t)&&$e(this)<this.c?this.a.a.push(t):af(t)},g.aa=function(){for(var t=this.a;$e(this)<this.h;){var e=this.pa();t.a.push(e)}for(;$e(this)>this.c&&0<Xe(this.a);)af(We(t))},g.pa=function(){return{}},g.sa=function(t){return"function"!=typeof t.bb||t.bb()},g.w=function(){if(Ye.H.w.call(this),0<this.b.a.c)throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var t=this.a;0!=t.b.length||0!=t.a.length;)af(We(t));delete this.a},cf.prototype.A=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].b);return e},cf.prototype.M=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].a);return e},u(ef,cf),u(Y,Ye),g=Y.prototype,g.da=function(t,e){if(!t)return Y.H.da.call(this);df(this.f,void 0!==e?e:100,t),this.ra()},g.ra=function(){for(var t=this.f;0<t.a.length;){var e=this.da();if(!e)break;var n=t,r=n.a,o=r.length,i=r[0];if(0>=o)i=void 0;else{if(1==o)ua(r);else{r[0]=r.pop(),o=(n=n.a).length;for(var a=n[r=0];r<o>>1;){var s=2*r+1,u=2*r+2;if(n[s=u<o&&n[u].a<n[s].a?u:s].a>a.a)break;n[r]=n[s],r=s}n[r]=a}i=i.b}i.apply(this,[e])}},g.ma=function(t){Y.H.ma.call(this,t),this.ra()},g.aa=function(){Y.H.aa.call(this),this.ra()},g.w=function(){Y.H.w.call(this),k.clearTimeout(void 0),ua(this.f.a),this.f=null},u(Z,Y),Z.prototype.pa=function(){var t=new T,e=this.l;return e&&e.forEach(function(e,n){t.headers.set(n,e)}),this.j&&(t.o=!0),t},Z.prototype.sa=function(t){return!t.i&&!t.a},Qe.prototype.createWebChannel=Qe.prototype.a,W.prototype.send=W.prototype.gb,W.prototype.open=W.prototype.fb,W.prototype.close=W.prototype.close,Fc.NO_ERROR=0,Fc.TIMEOUT=8,Fc.HTTP_ERROR=6,Gc.COMPLETE="complete",Kc.EventType=Lc,Lc.OPEN="a",Lc.CLOSE="b",Lc.ERROR="c",Lc.MESSAGE="d",B.prototype.listen=B.prototype.Ia,Z.prototype.getObject=Z.prototype.da,Z.prototype.releaseObject=Z.prototype.ob,T.prototype.listenOnce=T.prototype.Ja,T.prototype.getLastError=T.prototype.hb,T.prototype.getLastErrorCode=T.prototype.Ga,T.prototype.getStatus=T.prototype.W,T.prototype.getStatusText=T.prototype.Ha,T.prototype.getResponseJson=T.prototype.eb,T.prototype.getResponseText=T.prototype.V,T.prototype.getResponseText=T.prototype.V,T.prototype.send=T.prototype.fa,module.exports={createWebChannelTransport:Ue,ErrorCode:Fc,EventType:Gc,WebChannel:Kc,XhrIoPool:Z}}).call("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},FlQf:function(t,e,n){"use strict";var r=n("ccE7")(!0);n("MPFp")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},FpHa:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},Fxb1:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("6blF"),o=n("+tJ4"),i=n("S5XQ"),a=n("u67D"),s=n("JcRv"),u=n("2ePl"),c=n("/WYv"),l=n("McSo"),h=n("En8+"),d=n("xTla"),f=function(t){if(t instanceof r.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[d.a])return Object(s.a)(t);if(Object(u.a)(t))return Object(o.a)(t);if(Object(c.a)(t))return Object(i.a)(t);if(t&&"function"==typeof t[h.a])return Object(a.a)(t);var e=Object(l.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},FyfS:function(t,e,n){t.exports={default:n("Rp86"),__esModule:!0}},G5J1:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i});var r=n("6blF"),o=new r.a(function(t){return t.complete()});function i(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):o}},G8Mo:function(t,e,n){var r=n("93I4");t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},GDxn:function(t,e,n){"use strict";n.r(e),n.d(e,"NEVER",function(){return i}),n.d(e,"never",function(){return a});var r=n("6blF"),o=n("+umK"),i=new r.a(o.a);function a(){return i}},GFlT:function(t,e,n){"use strict";n.r(e),n.d(e,"generate",function(){return a});var r=n("6blF"),o=n("mChF"),i=n("nkY7");function a(t,e,n,a,u){var c,l;return 1==arguments.length?(l=t.initialState,e=t.condition,n=t.iterate,c=t.resultSelector||o.a,u=t.scheduler):void 0===a||Object(i.a)(a)?(l=t,c=o.a,u=a):(l=t,c=a),new r.a(function(t){var r=l;if(u)return u.schedule(s,0,{subscriber:t,iterate:n,condition:e,resultSelector:c,state:r});for(;;){if(e){var o=void 0;try{o=e(r)}catch(e){return void t.error(e)}if(!o){t.complete();break}}var i=void 0;try{i=c(r)}catch(e){return void t.error(e)}if(t.next(i),t.closed)break;try{r=n(r)}catch(e){return void t.error(e)}}})}function s(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(t){return void e.error(t)}if(!r)return void e.complete();if(e.closed)return}var o;try{o=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(o),!e.closed))return this.schedule(t)}}},HHWU:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("NGZV")),r(n("m/yT"))},"HHX+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.max=function(t){return function(e){if(!o.isPresent(t))return null;if(o.isPresent(r.Validators.required(e)))return null;var n=+e.value;return n<=+t?null:{actualValue:n,requiredValue:+t,max:!0}}}},HT6E:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("r0XH"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.validate=function(t){return i.number(t)},t.decorators=[{type:r.Directive,args:[{selector:"[number][formControlName],[number][formControl],[number][ngModel]",providers:[a]}]}],t}();e.NumberValidator=s},HatN:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("Lh+v")),r(n("inIq"))},Hsns:function(t,e,n){var r=n("93I4"),o=n("5T2Y").document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},IUTb:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("6blF"),o=n("pugT"),i=n("+tJ4");function a(t,e){return new r.a(e?function(n){var r=new o.a,i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r}:Object(i.a)(t))}},Ip0R:function(t,e,n){"use strict";n.d(e,"y",function(){return at}),n.d(e,"n",function(){return ut}),n.d(e,"o",function(){return st}),n.d(e,"g",function(){return b}),n.d(e,"s",function(){return _}),n.d(e,"u",function(){return C}),n.d(e,"v",function(){return S}),n.d(e,"z",function(){return ct}),n.d(e,"c",function(){return St}),n.d(e,"l",function(){return ht}),n.d(e,"m",function(){return ft}),n.d(e,"p",function(){return yt}),n.d(e,"e",function(){return Tt}),n.d(e,"b",function(){return wt}),n.d(e,"f",function(){return Et}),n.d(e,"d",function(){return Ct}),n.d(e,"x",function(){return It}),n.d(e,"w",function(){return Dt}),n.d(e,"t",function(){return Nt}),n.d(e,"r",function(){return i}),n.d(e,"i",function(){return a}),n.d(e,"k",function(){return s}),n.d(e,"a",function(){return u}),n.d(e,"h",function(){return h}),n.d(e,"q",function(){return d}),n.d(e,"j",function(){return c});var r=n("CcnG"),o=n("mrSG"),i=function(){},a=new r.InjectionToken("Location Initialized"),s=function(){},u=new r.InjectionToken("appBaseHref"),c=function(){function t(e){var n=this;this._subject=new r.EventEmitter,this._platformStrategy=e;var o=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(l(o)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,state:t.state,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,l(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",t,e)},t.prototype.replaceState=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function l(t){return t.replace(/\/index.html$/,"")}var h=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(o.b)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=c.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var o=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,e,o)},e.prototype.replaceState=function(t,e,n,r){var o=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,o)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(s),d=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(o.b)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return c.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+c.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var o=this.prepareExternalUrl(n+c.normalizeQueryParams(r));this._platformLocation.pushState(t,e,o)},e.prototype.replaceState=function(t,e,n,r){var o=this.prepareExternalUrl(n+c.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,o)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(s),f=void 0,p=["en",[["a","p"],["AM","PM"],f],[["AM","PM"],f,f],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],f,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],f,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",f,"{1} 'at' {0}",f],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],v={},y={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,0],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",0],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",0],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",0],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",0],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",0],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",0],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,0],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UZS:[void 0,void 0,0],VEF:[void 0,"Bs"],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},g=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),m=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),b=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),_=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),w=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),E=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function C(t,e,n){var r=k(t);return A(A([r[3],r[4]],e),n)}function S(t,e,n){var r=k(t);return A(A([r[5],r[6]],e),n)}function T(t,e){return A(k(t)[10],e)}function I(t,e){return A(k(t)[11],e)}function O(t,e){return A(k(t)[12],e)}function D(t,e){var n=k(t),r=n[13][e];if(void 0===r){if(e===E.CurrencyDecimal)return n[13][E.Decimal];if(e===E.CurrencyGroup)return n[13][E.Group]}return r}function N(t){if(!t[19])throw new Error('Missing extra locale data for the locale "'+t[0]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function A(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function R(t){var e=Object(o.c)(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}function k(t){var e=t.toLowerCase().replace(/_/g,"-"),n=v[e];if(n)return n;var r=e.split("-")[0];if(n=v[r])return n;if("en"===r)return p;throw new Error('Missing locale data for the locale "'+t+'".')}var P=2,x=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,M={},$=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,L=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),j=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),F=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function V(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function U(t,e,n,r,o){void 0===n&&(n="-");var i="";(t<0||o&&t<=0)&&(o?t=1-t:(t=-t,i=n));for(var a=String(t);a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),i+a}function B(t,e,n,r,o){return void 0===n&&(n=0),void 0===r&&(r=!1),void 0===o&&(o=!1),function(i,a){var s,u=function(t,e){switch(t){case j.FullYear:return e.getFullYear();case j.Month:return e.getMonth();case j.Date:return e.getDate();case j.Hours:return e.getHours();case j.Minutes:return e.getMinutes();case j.Seconds:return e.getSeconds();case j.FractionalSeconds:return e.getMilliseconds();case j.Day:return e.getDay();default:throw new Error('Unknown DateType value "'+t+'".')}}(t,i);if((n>0||u>-n)&&(u+=n),t===j.Hours)0===u&&-12===n&&(u=12);else if(t===j.FractionalSeconds)return s=e,U(u,3).substr(0,s);var c=D(a,E.MinusSign);return U(u,e,c,r,o)}}function q(t,e,n,r){return void 0===n&&(n=b.Format),void 0===r&&(r=!1),function(o,i){return function(t,e,n,r,o,i){switch(n){case F.Months:return S(e,o,r)[t.getMonth()];case F.Days:return C(e,o,r)[t.getDay()];case F.DayPeriods:var a=t.getHours(),s=t.getMinutes();if(i){var u,c=function(t){var e=k(t);return N(e),(e[19][2]||[]).map(function(t){return"string"==typeof t?R(t):[R(t[0]),R(t[1])]})}(e),l=function(t,e,n){var r=k(t);return N(r),A(A([r[19][0],r[19][1]],e)||[],n)||[]}(e,o,r);if(c.forEach(function(t,e){if(Array.isArray(t)){var n=t[0],r=t[1],o=r.hours;a>=n.hours&&s>=n.minutes&&(a<o||a===o&&s<r.minutes)&&(u=l[e])}else t.hours===a&&t.minutes===s&&(u=l[e])}),u)return u}return function(t,e,n){var r=k(t);return A(A([r[1],r[2]],e),n)}(e,o,r)[a<12?0:1];case F.Eras:return function(t,e){return A(k(t)[7],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(o,i,t,e,n,r)}}function H(t){return function(e,n,r){var o=-1*r,i=D(n,E.MinusSign),a=o>0?Math.floor(o/60):Math.ceil(o/60);switch(t){case L.Short:return(o>=0?"+":"")+U(a,2,i)+U(Math.abs(o%60),2,i);case L.ShortGMT:return"GMT"+(o>=0?"+":"")+U(a,1,i);case L.Long:return"GMT"+(o>=0?"+":"")+U(a,2,i)+":"+U(Math.abs(o%60),2,i);case L.Extended:return 0===r?"Z":(o>=0?"+":"")+U(a,2,i)+":"+U(Math.abs(o%60),2,i);default:throw new Error('Unknown zone width "'+t+'"')}}}var W=0,G=4;function K(t,e){return void 0===e&&(e=!1),function(n,r){var o,i,a,s;if(e){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,c=n.getDate();o=1+Math.floor((c+u)/7)}else{var l=(a=n.getFullYear(),s=new Date(a,W,1).getDay(),new Date(a,0,1+(s<=G?G:G+7)-s)),h=(i=n,new Date(i.getFullYear(),i.getMonth(),i.getDate()+(G-i.getDay()))).getTime()-l.getTime();o=1+Math.round(h/6048e5)}return U(o,t,D(r,E.MinusSign))}}var Q={};function z(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Y(t){return t instanceof Date&&!isNaN(t.valueOf())}var X=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Z=22,J=".",tt="0",et=";",nt=",",rt="#",ot="\xa4";function it(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var at=new r.InjectionToken("UseV4Plurals"),st=function(){},ut=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(o.b)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return k(t)[18]}(e||this.locale)(t)){case m.Zero:return"zero";case m.One:return"one";case m.Two:return"two";case m.Few:return"few";case m.Many:return"many";default:return"other"}},e}(st);function ct(t,e){var n,r;e=encodeURIComponent(e);try{for(var i=Object(o.e)(t.split(";")),a=i.next();!a.done;a=i.next()){var s=a.value,u=s.indexOf("="),c=Object(o.c)(-1==u?[s,""]:[s.slice(0,u),s.slice(u+1)],2),l=c[1];if(c[0].trim()===e)return decodeURIComponent(l)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null}var lt=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),ht=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(r.isDevMode)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(n){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,o){if(null==t.previousIndex){var i=e._viewContainer.createEmbeddedView(e._template,new lt(null,e._ngForOf,-1,-1),o),a=new dt(t,i);n.push(a)}else null==o?e._viewContainer.remove(r):(i=e._viewContainer.get(r),e._viewContainer.move(i,o),a=new dt(t,i),n.push(a))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var o=this._viewContainer.length;r<o;r++){var i=this._viewContainer.get(r);i.context.index=r,i.context.count=o,i.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}(),dt=function(t,e){this.record=t,this.view=e},ft=function(){function t(t,e){this._viewContainer=t,this._context=new pt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){vt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){vt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}(),pt=function(){this.$implicit=null,this.ngIf=null};function vt(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+Object(r["\u0275stringify"])(e)+"'.")}var yt=function(){function t(t){this._viewContainerRef=t}return t.prototype.ngOnChanges=function(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)},t.prototype._shouldRecreateView=function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)},t.prototype._hasContextShapeChanged=function(t){var e,n,r=Object.keys(t.previousValue||{}),i=Object.keys(t.currentValue||{});if(r.length===i.length){try{for(var a=Object(o.e)(i),s=a.next();!s.done;s=a.next())if(-1===r.indexOf(s.value))return!0}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return!1}return!0},t.prototype._updateExistingContext=function(t){var e,n;try{for(var r=Object(o.e)(Object.keys(t)),i=r.next();!i.done;i=r.next()){var a=i.value;this._viewRef.context[a]=this.ngTemplateOutletContext[a]}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t}();function gt(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+Object(r["\u0275stringify"])(t)+"'")}var mt=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),bt=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),_t=new mt,wt=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.WrappedValue.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(Object(r["\u0275isPromise"])(e))return bt;if(Object(r["\u0275isObservable"])(e))return _t;throw gt(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}(),Et=function(){function t(t){this.locale=t}return t.prototype.transform=function(e,n,r,i){if(void 0===n&&(n="mediumDate"),null==e||""===e||e!=e)return null;try{return function(t,e,n,r){var i=function(t){if(Y(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var r=Object(o.c)(t.split("-").map(function(t){return+t}),3);return new Date(r[0],r[1]-1,r[2])}if(e=t.match(x))return function(t){var e=new Date(0),n=0,r=0,o=t[8]?e.setUTCFullYear:e.setFullYear,i=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),o.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return i.call(e,a,s,u,c),e}(e)}var i=new Date(t);if(!Y(i))throw new Error('Unable to convert "'+t+'" into a date');return i}(t);e=function t(e,n){var r=function(t){return k(t)[0]}(e);if(M[r]=M[r]||{},M[r][n])return M[r][n];var o="";switch(n){case"shortDate":o=T(e,w.Short);break;case"mediumDate":o=T(e,w.Medium);break;case"longDate":o=T(e,w.Long);break;case"fullDate":o=T(e,w.Full);break;case"shortTime":o=I(e,w.Short);break;case"mediumTime":o=I(e,w.Medium);break;case"longTime":o=I(e,w.Long);break;case"fullTime":o=I(e,w.Full);break;case"short":var i=t(e,"shortTime"),a=t(e,"shortDate");o=V(O(e,w.Short),[i,a]);break;case"medium":var s=t(e,"mediumTime"),u=t(e,"mediumDate");o=V(O(e,w.Medium),[s,u]);break;case"long":var c=t(e,"longTime"),l=t(e,"longDate");o=V(O(e,w.Long),[c,l]);break;case"full":var h=t(e,"fullTime"),d=t(e,"fullDate");o=V(O(e,w.Full),[h,d])}return o&&(M[r][n]=o),o}(n,e)||e;for(var a,s=[];e;){if(!(a=$.exec(e))){s.push(e);break}var u=(s=s.concat(a.slice(1))).pop();if(!u)break;e=u}var c=i.getTimezoneOffset();r&&(c=z(r,c),i=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(z(e,r)-r))}(i,r));var l="";return s.forEach(function(t){var e=function(t){if(Q[t])return Q[t];var e;switch(t){case"G":case"GG":case"GGG":e=q(F.Eras,_.Abbreviated);break;case"GGGG":e=q(F.Eras,_.Wide);break;case"GGGGG":e=q(F.Eras,_.Narrow);break;case"y":e=B(j.FullYear,1,0,!1,!0);break;case"yy":e=B(j.FullYear,2,0,!0,!0);break;case"yyy":e=B(j.FullYear,3,0,!1,!0);break;case"yyyy":e=B(j.FullYear,4,0,!1,!0);break;case"M":case"L":e=B(j.Month,1,1);break;case"MM":case"LL":e=B(j.Month,2,1);break;case"MMM":e=q(F.Months,_.Abbreviated);break;case"MMMM":e=q(F.Months,_.Wide);break;case"MMMMM":e=q(F.Months,_.Narrow);break;case"LLL":e=q(F.Months,_.Abbreviated,b.Standalone);break;case"LLLL":e=q(F.Months,_.Wide,b.Standalone);break;case"LLLLL":e=q(F.Months,_.Narrow,b.Standalone);break;case"w":e=K(1);break;case"ww":e=K(2);break;case"W":e=K(1,!0);break;case"d":e=B(j.Date,1);break;case"dd":e=B(j.Date,2);break;case"E":case"EE":case"EEE":e=q(F.Days,_.Abbreviated);break;case"EEEE":e=q(F.Days,_.Wide);break;case"EEEEE":e=q(F.Days,_.Narrow);break;case"EEEEEE":e=q(F.Days,_.Short);break;case"a":case"aa":case"aaa":e=q(F.DayPeriods,_.Abbreviated);break;case"aaaa":e=q(F.DayPeriods,_.Wide);break;case"aaaaa":e=q(F.DayPeriods,_.Narrow);break;case"b":case"bb":case"bbb":e=q(F.DayPeriods,_.Abbreviated,b.Standalone,!0);break;case"bbbb":e=q(F.DayPeriods,_.Wide,b.Standalone,!0);break;case"bbbbb":e=q(F.DayPeriods,_.Narrow,b.Standalone,!0);break;case"B":case"BB":case"BBB":e=q(F.DayPeriods,_.Abbreviated,b.Format,!0);break;case"BBBB":e=q(F.DayPeriods,_.Wide,b.Format,!0);break;case"BBBBB":e=q(F.DayPeriods,_.Narrow,b.Format,!0);break;case"h":e=B(j.Hours,1,-12);break;case"hh":e=B(j.Hours,2,-12);break;case"H":e=B(j.Hours,1);break;case"HH":e=B(j.Hours,2);break;case"m":e=B(j.Minutes,1);break;case"mm":e=B(j.Minutes,2);break;case"s":e=B(j.Seconds,1);break;case"ss":e=B(j.Seconds,2);break;case"S":e=B(j.FractionalSeconds,1);break;case"SS":e=B(j.FractionalSeconds,2);break;case"SSS":e=B(j.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=H(L.Short);break;case"ZZZZZ":e=H(L.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=H(L.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=H(L.Long);break;default:return null}return Q[t]=e,e}(t);l+=e?e(i,n,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(e,n,i||this.locale,r)}catch(e){throw gt(t,e.message)}},t}(),Ct=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r,o,i){if(void 0===r&&(r="symbol"),function(t){return null==t||""===t||t!=t}(e))return null;i=i||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");var a=n||"USD";"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?function(t,e,n){void 0===n&&(n="en");var r=function(t){return k(t)[17]}(n)[t]||y[t]||[],o=r[1];return"narrow"===e&&"string"==typeof o?o:r[0]||t}(a,"symbol"===r?"wide":"narrow",i):r);try{return function(t,e,n,r,o){var i=function(t,e){void 0===e&&(e="-");var n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(et),o=r[0],i=r[1],a=-1!==o.indexOf(J)?o.split(J):[o.substring(0,o.lastIndexOf(tt)+1),o.substring(o.lastIndexOf(tt)+1)],s=a[0],u=a[1]||"";n.posPre=s.substr(0,s.indexOf(rt));for(var c=0;c<u.length;c++){var l=u.charAt(c);l===tt?n.minFrac=n.maxFrac=c+1:l===rt?n.maxFrac=c+1:n.posSuf+=l}var h=s.split(nt);if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,i){var d=o.length-n.posPre.length-n.posSuf.length,f=i.indexOf(rt);n.negPre=i.substr(0,f).replace(/'/g,""),n.negSuf=i.substr(f+d).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return k(t)[14][e]}(e,g.Currency),D(e,E.MinusSign));return i.minFrac=function(t){var e,n=y[r];return n&&(e=n[2]),"number"==typeof e?e:P}(),i.maxFrac=i.minFrac,function(t,e,n,r,o,i,a){void 0===a&&(a=!1);var s="",u=!1;if(isFinite(t)){var c=function(e){var n,r,o,i,a,s=Math.abs(t)+"",u=0;for((r=s.indexOf(J))>-1&&(s=s.replace(J,"")),(o=s.search(/e/i))>0?(r<0&&(r=o),r+=+s.slice(o+1),s=s.substring(0,o)):r<0&&(r=s.length),o=0;s.charAt(o)===tt;o++);if(o===(a=s.length))n=[0],r=1;else{for(a--;s.charAt(a)===tt;)a--;for(r-=o,n=[],i=0;o<=a;o++,i++)n[i]=Number(s.charAt(o))}return r>Z&&(n=n.splice(0,Z-1),u=r-1,r=1),{digits:n,exponent:u,integerLen:r}}();a&&(c=function(t){if(0===t.digits[0])return t;var e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));var l=e.minInt,h=e.minFrac,d=e.maxFrac;if(i){var f=i.match(X);if(null===f)throw new Error(i+" is not a valid digit info");var p=f[1],v=f[3],y=f[5];null!=p&&(l=it(p)),null!=v&&(h=it(v)),null!=y?d=it(y):null!=v&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction ("+e+") is higher than the maximum ("+n+").");var r=t.digits,o=r.length-t.integerLen,i=Math.min(Math.max(e,o),n),a=i+t.integerLen,s=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(var u=a;u<r.length;u++)r[u]=0}else{o=Math.max(0,o),t.integerLen=1,r.length=Math.max(1,a=i+1),r[0]=0;for(var c=1;c<a;c++)r[c]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;o<Math.max(0,i);o++)r.push(0);var h=0!==i,d=e+t.integerLen,f=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,h&&(0===r[n]&&n>=d?r.pop():h=!1),e>=10?1:0},0);f&&(r.unshift(f),t.integerLen++)}(c,h,d);var g=c.digits,m=c.integerLen,b=c.exponent,_=[];for(u=g.every(function(t){return!t});m<l;m++)g.unshift(0);for(;m<0;m++)g.unshift(0);m>0?_=g.splice(m,g.length):(_=g,g=[0]);var w=[];for(g.length>=e.lgSize&&w.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)w.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&w.unshift(g.join("")),s=w.join(D(n,r)),_.length&&(s+=D(n,o)+_.join("")),b&&(s+=D(n,E.Exponential)+"+"+b)}else s=D(n,E.Infinity);return t<0&&!u?e.negPre+s+e.negSuf:e.posPre+s+e.posSuf}(t,i,e,E.CurrencyGroup,E.CurrencyDecimal,o).replace(ot,n).replace(ot,"")}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),i,a,n,o)}catch(e){throw gt(t,e.message)}},t}(),St=function(){},Tt=new r.InjectionToken("DocumentToken"),It="browser",Ot="server";function Dt(t){return t===Ot}var Nt=function(){function t(){}return t.ngInjectableDef=Object(r.defineInjectable)({providedIn:"root",factory:function(){return new At(Object(r.inject)(Tt),window)}}),t}(),At=function(){function t(t,e){this.document=t,this.window=e,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='"+t+"']");if(n)return void this.scrollToElement(n)}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}()},IvtZ:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("c34Q")),r(n("h9za"))},IxPp:function(t,e,n){"use strict";n.r(e),n.d(e,"groupBy",function(){return u}),n.d(e,"GroupedObservable",function(){return d});var r=n("mrSG"),o=n("FFOo"),i=n("pugT"),a=n("6blF"),s=n("K9Ia");function u(t,e,n,r){return function(o){return o.lift(new c(t,e,n,r))}}var c=function(){function t(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),l=function(t){function e(e,n,r,o,i){var a=t.call(this,e)||this;return a.keySelector=n,a.elementSelector=r,a.durationSelector=o,a.subjectSelector=i,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return r.b(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var n=this.groups;n||(n=this.groups=new Map);var r,o=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(t){this.error(t)}else r=t;if(!o){o=this.subjectSelector?this.subjectSelector():new s.a,n.set(e,o);var i=new d(e,o,this);if(this.destination.next(i),this.durationSelector){var a=void 0;try{a=this.durationSelector(new d(e,o))}catch(t){return void this.error(t)}this.add(a.subscribe(new h(e,o,this)))}}o.closed||o.next(r)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,n){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(o.a),h=function(t){function e(e,n,r){var o=t.call(this,n)||this;return o.key=e,o.group=n,o.parent=r,o}return r.b(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(o.a),d=function(t){function e(e,n,r){var o=t.call(this)||this;return o.key=e,o.groupSubject=n,o.refCountSubscription=r,o}return r.b(e,t),e.prototype._subscribe=function(t){var e=new i.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new f(n)),e.add(r.subscribe(t)),e},e}(a.a),f=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return r.b(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(i.a)},JB68:function(t,e,n){var r=n("Jes0");t.exports=function(t){return Object(r(t))}},JcRv:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("xTla"),o=function(t){return function(e){var n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},JdLL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("vdN6"),i=n("yak4"),a=n("pvmI"),s=n("pXYb"),u=n("COG4"),c=n("HHWU"),l=n("HatN"),h=n("ghU1"),d=n("7yqV"),f=n("5YF4"),p=n("jl4B"),v=n("rKjJ"),y=n("NCDA"),g=n("N2oW"),m=n("S8xG"),b=n("cI4K"),_=n("Sm/R"),w=n("15yF"),E=n("3+at"),C=n("r0XH"),S=n("F2og"),T=n("Tm9b"),I=n("IvtZ"),O=n("t1MI"),D=n("2Gh/");e.CustomValidators={base64:o.base64,creditCard:i.creditCard,date:a.date,dateISO:s.dateISO,digits:u.digits,email:c.email,equal:l.equal,equalTo:h.equalTo,gt:d.gt,gte:f.gte,json:p.json,lt:v.lt,lte:y.lte,max:g.max,maxDate:m.maxDate,min:b.min,minDate:_.minDate,notEqual:w.notEqual,notEqualTo:E.notEqualTo,number:C.number,phone:S.phone,range:T.range,rangeLength:I.rangeLength,url:O.url,uuid:D.uuid};var N=[o.Base64Validator,i.CreditCardValidator,a.DateValidator,s.DateISOValidator,u.DigitsValidator,c.EmailValidator,l.EqualValidator,h.EqualToValidator,d.GreaterThanValidator,f.GreaterThanEqualValidator,p.JSONValidator,v.LessThanValidator,y.LessThanEqualValidator,g.MaxValidator,m.MaxDateValidator,b.MinValidator,_.MinDateValidator,w.NotEqualValidator,E.NotEqualToValidator,C.NumberValidator,S.PhoneValidator,T.RangeValidator,I.RangeLengthValidator,O.UrlValidator,D.UUIDValidator];e.CustomFormsModule=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{declarations:[N],exports:[N]}]}],t}()},Jes0:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},K9Ia:function(t,e,n){"use strict";var r=n("mrSG"),o=n("6blF"),i=n("FFOo"),a=n("pugT"),s=n("8g8A"),u=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.b(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(a.a),c=n("L/V9");n.d(e,"b",function(){return l}),n.d(e,"a",function(){return h});var l=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.b(e,t),e}(i.a),h=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.b(e,t),e.prototype[c.a]=function(){return new l(this)},e.prototype.lift=function(t){var e=new d(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new u(this,t))},e.prototype.asObservable=function(){var t=new o.a;return t.source=this,t},e.create=function(t,e){return new d(t,e)},e}(o.a),d=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.b(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(h)},KNBz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.number=function(t){return o.isPresent(r.Validators.required(t))?null:/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t.value)?null:{number:!0}}},KQya:function(t,e,n){"use strict";var r=n("mrSG"),o=1,i={},a=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.b(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=(a=e.flush.bind(e,null),s=o++,i[s]=a,Promise.resolve().then(function(){return function(t){var e=i[t];e&&e()}(s)}),s)));var a,s},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(delete i[n],e.scheduled=void 0)},e}(n(null).a),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.b(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,o=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<o&&(t=n.shift()));if(this.active=!1,e){for(;++r<o&&(t=n.shift());)t.unsubscribe();throw e}},e}(n(null).a);n.d(e,"asap",function(){return u});var u=new s(a)},KTXt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.creditCard=function(t){if(o.isPresent(r.Validators.required(t)))return null;var e=t.value.replace(/[^0-9]+/g,"");if(!/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/.test(e))return{creditCard:!0};for(var n,i,a,s=0,u=e.length-1;u>=0;u--)n=e.substring(u,u+1),i=parseInt(n,10),s+=a&&(i*=2)>=10?i%10+1:i,a=!a;return Boolean(s%10==0&&e)?null:{creditCard:!0}}},KUxP:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},KhEm:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("mrSG"),o=n("K9Ia"),i=n("6blF"),a=(n("FFOo"),n("pugT")),s=n("yGWI"),u=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.b(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new l(this.getSubject(),this))),t.closed?(this._connection=null,t=a.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return Object(s.a)()(this)},e}(i.a).prototype,c={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:u._subscribe},_isComplete:{value:u._isComplete,writable:!0},getSubject:{value:u.getSubject},connect:{value:u.connect},refCount:{value:u.refCount}},l=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.b(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(o.b)},"L/V9":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber"},"Lh+v":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("HatN"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.ngOnInit=function(){this.validator=i.equal(this.equal)},t.prototype.ngOnChanges=function(t){for(var e in t)"equal"===e&&(this.validator=i.equal(t[e].currentValue),this.onChange&&this.onChange())},t.prototype.validate=function(t){return this.validator(t)},t.prototype.registerOnValidatorChange=function(t){this.onChange=t},t.decorators=[{type:r.Directive,args:[{selector:"[equal][formControlName],[equal][formControl],[equal][ngModel]",providers:[a]}]}],t.propDecorators={equal:[{type:r.Input}]},t}();e.EqualValidator=s},LmZi:function(t,e,n){"use strict";n.r(e),n.d(e,"registerStorage",function(){return Vt});var r=n("wj3C"),o=n.n(r),i="https://firebasestorage.googleapis.com",a="https://firebasestorage.googleapis.com",s="/v0",u="/v0",c=12e4,l=6e4,h=-9007199254740991,d=function(){function t(t,e){this.code_=p(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return p(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),f={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function p(t){return"storage/"+t}function v(){return new d(f.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function y(){return new d(f.CANCELED,"User canceled the upload/download.")}function g(){return new d(f.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function m(t,e,n){return new d(f.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function b(){return new d(f.APP_DELETED,"The Firebase app was deleted.")}function _(t,e){return new d(f.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function w(t){throw new d(f.INTERNAL_ERROR,"Internal error: "+t)}var E={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function C(t){switch(t){case E.RAW:case E.BASE64:case E.BASE64URL:case E.DATA_URL:return;default:throw"Expected one of the event types: ["+E.RAW+", "+E.BASE64+", "+E.BASE64URL+", "+E.DATA_URL+"]."}}var S=function(t,e){this.data=t,this.contentType=e||null};function T(t,e){switch(t){case E.RAW:return new S(I(e));case E.BASE64:case E.BASE64URL:return new S(O(t,e));case E.DATA_URL:return new S(function(t){var e=new D(t);return e.base64?O(E.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw _(E.DATA_URL,"Malformed data URL.")}return I(e)}(e.rest)}(e),function(t){return new D(t).contentType}(e))}throw v()}function I(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var o=r,i=t.charCodeAt(++n);e.push(240|(r=65536|(1023&o)<<10|1023&i)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function O(t,e){switch(t){case E.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw _(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case E.BASE64URL:var o=-1!==e.indexOf("+"),i=-1!==e.indexOf("/");if(o||i)throw _(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(e){throw _(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var D=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw _(E.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,o=e[1]||null;null!=o&&(this.base64=(n=o).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?o.substring(0,o.length-";base64".length):o),this.rest=t.substring(t.indexOf(",")+1)}}(),N={STATE_CHANGED:"state_changed"},A={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},R={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function k(t){switch(t){case A.RUNNING:case A.PAUSING:case A.CANCELING:return R.RUNNING;case A.PAUSED:return R.PAUSED;case A.SUCCESS:return R.SUCCESS;case A.CANCELED:return R.CANCELED;case A.ERROR:default:return R.ERROR}}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function x(t,e){for(var n in t)P(t,n)&&e(n,t[n])}function M(t){if(null==t)return{};var e={};return x(t,function(t,n){e[t]=n}),e}function $(t){return new Promise(t)}function L(t){return Promise.resolve(t)}function j(t){return null!=t}function F(t){return void 0!==t}function V(t){return"function"==typeof t}function U(t){return"object"==typeof t}function B(t){return U(t)&&null!==t}function q(t){return"string"==typeof t||t instanceof String}function H(t){return W()&&t instanceof Blob}function W(){return"undefined"!=typeof Blob}var G=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),K=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=G.NO_ERROR,this.sendPromise_=$(function(e,n){t.xhr_.addEventListener("abort",function(n){t.errorCode_=G.ABORT,e(t)}),t.xhr_.addEventListener("error",function(n){t.errorCode_=G.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(n){e(t)})})}return t.prototype.send=function(t,e,n,r){var o=this;if(this.sent_)throw w("cannot .send() more than once");return this.sent_=!0,this.xhr_.open(e,t,!0),j(r)&&x(r,function(t,e){o.xhr_.setRequestHeader(t,e.toString())}),j(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw w("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw w("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw w("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){j(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){j(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Q=function(){function t(){}return t.prototype.createXhrIo=function(){return new K},t}();function z(t){var e,n;try{e=JSON.parse(t)}catch(t){return null}return U(n=e)&&!Array.isArray(n)?e:null}var Y=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw new d(f.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){for(var n=null,r=[{regex:new RegExp("^gs://([A-Za-z0-9.\\-]+)(/(.*))?$","i"),indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://firebasestorage\\.googleapis\\.com/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],o=0;o<r.length;o++){var i=r[o],a=i.regex.exec(e);if(a){var s=a[i.indices.path];s||(s=""),n=new t(a[i.indices.bucket],s),i.postModify(n);break}}if(null==n)throw function(t){return new d(f.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return n},t}();function X(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Z(t){return i+s+t}function J(t){return i+u+t}function tt(t){var e=encodeURIComponent,n="?";return x(t,function(t,r){var o=e(t)+"="+e(r);n=n+o+"&"}),n=n.slice(0,-1)}function et(t,e){return e}var nt=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||et}}(),rt=null;function ot(t,e,n){var r=z(e);return null===r?null:function(t,e,n){for(var r={type:"file"},o=n.length,i=0;i<o;i++){var a=n[i];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Y(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function it(t,e){for(var n={},r=e.length,o=0;o<r;o++){var i=e[o];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}function at(t){if(!t||!U(t))throw"Expected Metadata object.";for(var e in t){var n=t[e];if("customMetadata"===e){if(!U(n))throw"Expected object for 'customMetadata' mapping."}else if(B(n))throw"Mapping for '"+e+"' cannot be an object."}}function st(t,e,n){for(var r=e.length,o=e.length,i=0;i<e.length;i++)if(e[i].optional){r=i;break}var a,s,u,c;if(!(r<=n.length&&n.length<=o))throw(a=r)===(s=o)?(u=a,c=1===a?"argument":"arguments"):(u="between "+a+" and "+s,c="arguments"),new d(f.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+t+"`: Expected "+u+" "+c+", received "+n.length+".");for(i=0;i<n.length;i++)try{e[i].validator(n[i])}catch(e){throw e instanceof Error?m(i,t,e.message):m(i,t,e)}}var ut=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!F(e)||t(e)},this.optional=!!e}}();function ct(t,e){function n(t){if(!q(t))throw"Expected string."}var r,o,i;return t?(o=n,i=t,r=function(t){o(t),i(t)}):r=n,new ut(r,e)}function lt(t){return new ut(at,t)}function ht(){return new ut(function(t){if(!(function(t){return"number"==typeof t||t instanceof Number}(t)&&t>=0))throw"Expected a number 0 or greater."})}function dt(t,e){return new ut(function(e){if(!(null===e||j(e)&&e instanceof Object))throw"Expected an Object.";void 0!==t&&null!==t&&t(e)},e)}function ft(t){return new ut(function(t){if(null!==t&&!V(t))throw"Expected a Function."},t)}function pt(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}var vt=function(){function t(t,e){var n=0,r="";H(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(H(this.data_)){var r=(i=e,a=n,(o=this.data_).webkitSlice?o.webkitSlice(i,a):o.mozSlice?o.mozSlice(i,a):o.slice?o.slice(i,a):null);return null===r?null:new t(r)}var o,i,a;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(W()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=pt();if(void 0!==n){for(var r=new n,o=0;o<t.length;o++)r.append(t[o]);return r.getBlob()}if(W())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}).apply(null,r))}var o=e.map(function(t){return q(t)?T(E.RAW,t).data:t.data_}),i=0;o.forEach(function(t){i+=t.byteLength});var a=new Uint8Array(i),s=0;return o.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function yt(t,e){return-1!==t.indexOf(e)}var gt=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function mt(t){if(!t)throw v()}function bt(t,e){return function(n,r){var o=ot(t,r,e);return mt(null!==o),o}}function _t(t){return function(e,n){var r;return(r=401===e.getStatus()?new d(f.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new d(f.QUOTA_EXCEEDED,"Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new d(f.UNAUTHORIZED,"User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function wt(t){var e=_t(t);return function(n,r){var o=e(n,r);return 404===n.getStatus()&&(o=new d(f.OBJECT_NOT_FOUND,"Object '"+t.path+"' does not exist.")),o.setServerResponseProp(r.serverResponseProp()),o}}function Et(t,e,n){var r=Z(e.fullServerUrl()),o=t.maxOperationRetryTime(),i=new gt(r,"GET",bt(t,n),o);return i.errorHandler=wt(e),i}function Ct(t,e,n){var r=M(n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var St=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function Tt(t,e){var n;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){mt(!1)}return mt(yt(e||["active"],n)),n}var It=function(){return function(t,e,n){if(V(t)||j(e)||j(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}();function Ot(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];L(!0).then(function(){t.apply(null,e)})}}var Dt=function(){function t(t,e,n,r,o,i){void 0===i&&(i=null);var a=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=o,this.metadata_=i,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=A.RUNNING,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(f.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(A.ERROR))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(f.CANCELED)?a.completeTransitions_():(a.error_=t,a.transition_(A.ERROR))},this.promise_=$(function(t,e){a.resolve_=t,a.reject_=e,a.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n,r){t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===A.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then(function(n){switch(e.state_){case A.RUNNING:t(n);break;case A.CANCELING:e.transition_(A.CANCELED);break;case A.PAUSING:e.transition_(A.PAUSED)}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,o){var i=e.bucketOnlyServerUrl(),a=Ct(e,r,o),s={name:a.fullPath},u=J(i),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=it(a,n),h=t.maxUploadRetryTime(),d=new gt(u,"POST",function(t,e){var n;Tt(t);try{n=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){mt(!1)}return mt(q(n)),n},h);return d.urlParams=s,d.headers=c,d.body=l,d.errorHandler=_t(e),d}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(n){var r=function(e,n,r,o){var i=t.authWrapper_.maxUploadRetryTime(),a=new gt(r,"POST",function(t,e){var n,r=Tt(t,["active","final"]);try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){mt(!1)}var i=parseInt(n,10);return mt(!isNaN(i)),new St(i,o.size(),"final"===r)},i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=_t(n),a}(0,t.location_,e,t.blob_),o=t.authWrapper_.makeRequest(r,n);t.request_=o,o.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new St(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(o){var i;try{i=function(t,e,n,r,o,i,a,s){var u=new St(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new d(f.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;o>0&&(l=Math.min(l,o));var h=u.current,p={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},v=r.slice(h,h+l);if(null===v)throw g();var y=e.maxUploadRetryTime(),m=new gt(n,"POST",function(t,n){var o,a=Tt(t,["active","final"]),s=u.current+l,c=r.size();return o="final"===a?bt(e,i)(t,n):null,new St(s,c,"final"===a,o)},y);return m.headers=p,m.body=v.uploadData(),m.progressCallback=s||null,m.errorHandler=_t(t),m}(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(A.ERROR)}var a=t.authWrapper_.makeRequest(i,o);t.request_=a,a.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(A.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var n=Et(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(A.SUCCESS)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,o){var i=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=Ct(e,r,o),c=it(u,n),l=vt.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===l)throw g();var h={name:u.fullPath},d=J(i),f=t.maxUploadRetryTime(),p=new gt(d,"POST",bt(t,n),f);return p.urlParams=h,p.headers=a,p.body=l.uploadData(),p.errorHandler=_t(e),p}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(A.SUCCESS)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case A.CANCELING:case A.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case A.RUNNING:var e=this.state_===A.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case A.PAUSED:this.state_=t,this.notifyObservers_();break;case A.CANCELED:this.error_=y(),this.state_=t,this.notifyObservers_();break;case A.ERROR:case A.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case A.PAUSING:this.transition_(A.PAUSED);break;case A.CANCELING:this.transition_(A.CANCELED);break;case A.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=k(this.state_);return new function(t,e,n,r,o,i){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=o,this.ref=i}(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){void 0===e&&(e=void 0),void 0===n&&(n=void 0),void 0===r&&(r=void 0);var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",i=ft(!0).validator,a=dt(null,!0).validator;function s(t){try{return void i(t)}catch(t){}try{if(a(t),!(F(t.next)||F(t.error)||F(t.complete)))throw"";return}catch(t){throw o}}st("on",[ct(function(e){if(t!==N.STATE_CHANGED)throw"Expected one of the event types: ["+N.STATE_CHANGED+"]."}),dt(s,!0),ft(!0),ft(!0)],arguments);var u=this;function c(t){return function(e,n,o){null!==t&&st("on",t,arguments);var i=new It(e,n,r);return u.addObserver_(i),function(){u.removeObserver_(i)}}}var l=[dt(function(t){if(null===t)throw o;s(t)}),ft(!0),ft(!0)];return F(e)||F(n)||F(r)?c(null)(e,n,r):c(l)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e,n;-1!==(n=(e=this.observers_).indexOf(t))&&e.splice(n,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),Array.prototype.slice.call(this.observers_).forEach(function(e){t.notifyObserver_(e)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(k(this.state_)){case R.SUCCESS:Ot(this.resolve_.bind(null,this.snapshot))();break;case R.CANCELED:case R.ERROR:Ot(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(k(this.state_)){case R.RUNNING:case R.PAUSED:null!==t.next&&Ot(t.next.bind(t,this.snapshot))();break;case R.SUCCESS:null!==t.complete&&Ot(t.complete.bind(t))();break;case R.CANCELED:case R.ERROR:null!==t.error&&Ot(t.error.bind(t,this.error_))();break;default:null!==t.error&&Ot(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){st("resume",[],arguments);var t=this.state_===A.PAUSED||this.state_===A.PAUSING;return t&&this.transition_(A.RUNNING),t},t.prototype.pause=function(){st("pause",[],arguments);var t=this.state_===A.RUNNING;return t&&this.transition_(A.PAUSING),t},t.prototype.cancel=function(){st("cancel",[],arguments);var t=this.state_===A.RUNNING||this.state_===A.PAUSING;return t&&this.transition_(A.CANCELING),t},t}(),Nt=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof Y?e:Y.makeFromUrl(e)}return t.prototype.toString=function(){return st("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(rt)return rt;var t=[];t.push(new nt("bucket")),t.push(new nt("generation")),t.push(new nt("metageneration")),t.push(new nt("name","fullPath",!0));var e=new nt("name");e.xform=function(t,e){return function(t){return!q(t)||t.length<2?t:X(t=t)}(e)},t.push(e);var n=new nt("size");return n.xform=function(t,e){return j(e)?+e:e},t.push(n),t.push(new nt("timeCreated")),t.push(new nt("updated")),t.push(new nt("md5Hash",null,!0)),t.push(new nt("cacheControl",null,!0)),t.push(new nt("contentDisposition",null,!0)),t.push(new nt("contentEncoding",null,!0)),t.push(new nt("contentLanguage",null,!0)),t.push(new nt("contentType",null,!0)),t.push(new nt("metadata","customMetadata",!0)),rt=t}()},t.prototype.child=function(t){st("child",[ct()],arguments);var e=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(this.location.path,t),n=new Y(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0==t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new Y(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new Y(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return X(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),st("put",[new ut(function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||W()&&t instanceof Blob))throw"Expected Blob or File."}),lt(!0)],arguments),this.throwIfRoot_("put"),new Dt(this,this.authWrapper,this.location,this.mappings(),new vt(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=E.RAW),st("putString",[ct(),ct(C,!0),lt(!0)],arguments),this.throwIfRoot_("putString");var r=T(e,t),o=M(n);return!j(o.contentType)&&j(r.contentType)&&(o.contentType=r.contentType),new Dt(this,this.authWrapper,this.location,this.mappings(),new vt(r.data,!0),o)},t.prototype.delete=function(){st("delete",[],arguments),this.throwIfRoot_("delete");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=function(t,e){var n=Z(e.fullServerUrl()),r=t.maxOperationRetryTime(),o=new gt(n,"DELETE",function(t,e){},r);return o.successCodes=[200,204],o.errorHandler=wt(e),o}(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.getMetadata=function(){st("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=Et(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.updateMetadata=function(t){st("updateMetadata",[lt()],arguments),this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(n){var r=function(t,e,n,r){var o=Z(e.fullServerUrl()),i=it(n,r),a=t.maxOperationRetryTime(),s=new gt(o,"PATCH",bt(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=i,s.errorHandler=wt(e),s}(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()})},t.prototype.getDownloadURL=function(){st("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=function(t,e,n){var r=Z(e.fullServerUrl()),o=t.maxOperationRetryTime(),i=new gt(r,"GET",function(t,e){return function(n,r){var o=ot(t,r,e);return mt(null!==o),function(t,e){var n=z(r);if(null===n)return null;if(!q(n.downloadTokens))return null;var o=n.downloadTokens;if(0===o.length)return null;var i=encodeURIComponent;return o.split(",").map(function(e){var n,r=t.fullPath;return n="/b/"+i(t.bucket)+"/o/"+i(r),a+s+n+tt({alt:"media",token:e})})[0]}(o)}}(t,n),o);return i.errorHandler=wt(e),i}(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new d(f.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t})})},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new d(f.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),At=function(){function t(t){this.promise_=function(t){return Promise.reject(t)}(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){void 0===t&&(t=!1)},t}(),Rt=function(){function t(){this.map_={},this.id_=h}return t.prototype.addRequest=function(t){var e=this.id_;this.id_++,this.map_[e]=t;var n=this;function r(){delete n.map_[e]}t.getPromise().then(r,r)},t.prototype.clear=function(){x(this.map_,function(t,e){e&&e.cancel(!0)}),this.map_={}},t}(),kt=function(){function t(e,n,r,o,i){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var a=this.app_.options;j(a)&&(this.bucket_=t.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=i,this.service_=o,this.maxOperationRetryTime_=c,this.maxUploadRetryTime_=l,this.requestMap_=new Rt}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:Y.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&j(this.app_.INTERNAL)&&j(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(t){return null!==t?t.accessToken:null},function(t){return null}):L(null)},t.prototype.bucket=function(){if(this.deleted_)throw b();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new At(b());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),Pt=function(){function t(t,e,n,r,o,i,a,s,u,c,l){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=o.slice(),this.additionalRetryCodes_=i.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l;var h=this;this.promise_=$(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,o=t.resolve_,i=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());F(s)?o(s):o()}catch(t){i(t)}else null!==a?((r=v()).setServerResponseProp(a.getResponseText()),i(t.errorCallback_?t.errorCallback_(a,r):r)):i(r=n.canceled?t.appDelete_?b():y():new d(f.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new xt(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,o=null,i=!1,a=0;function s(){return 2===a}var u=!1;function c(){u||(u=!0,e.apply(null,arguments))}function l(e){o=setTimeout(function(){o=null,t(h,s())},e)}function h(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];u||(t?c.apply(null,arguments):s()||i?c.apply(null,arguments):(r<64&&(r*=2),1===a?(a=2,e=0):e=1e3*(r+Math.random()),l(e)))}var d=!1;function f(t){d||(d=!0,u||(null!==o?(t||(a=2),clearTimeout(o),l(0)):t||(a=1)))}return l(0),setTimeout(function(){i=!0,f(!0)},n),f}(function(e,n){if(n)e(!1,new xt(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(o),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(o),t.pendingXhr_=null;var r=(n=n).getErrorCode()===G.NO_ERROR,i=n.getStatus();if(r&&!t.isRetryStatusCode_(i)){var a=yt(t.successCodes_,i);e(!0,new xt(a,n))}else{var s=n.getErrorCode()===G.ABORT;e(!1,new xt(!1,null,s))}})}function o(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}},e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=yt([408,429],t),r=yt(this.additionalRetryCodes_,t);return e||n||r},t}(),xt=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function Mt(t,e,n){var r=tt(t.urlParams),i=t.url+r,a=M(t.headers);return function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,e),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==o.a?o.a.SDK_VERSION:"AppManager")}(a),new Pt(i,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}var $t=function(){function t(t,e,n){if(this.bucket_=null,this.authWrapper_=new kt(t,function(t,e){return new Nt(t,e)},Mt,this,e),this.app_=t,null!=n)this.bucket_=Y.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new Y(r,""))}this.internals_=new Lt(this)}return t.prototype.ref=function(t){if(st("ref",[ct(function(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new Nt(this.authWrapper_,this.bucket_);return null!=t?e.child(t):e},t.prototype.refFromURL=function(t){return st("refFromURL",[ct(function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{Y.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new Nt(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){st("setMaxUploadRetryTime",[ht()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){st("setMaxOperationRetryTime",[ht()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),Lt=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),L(void 0)},t}(),jt="storage";function Ft(t,e,n){return new $t(t,new Q,n)}function Vt(t){t.INTERNAL.registerService(jt,Ft,{TaskState:R,TaskEvent:N,StringFormat:E,Storage:$t,Reference:Nt},void 0,!0)}Vt(o.a)},M1xp:function(t,e,n){var r=n("a0xu");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},MGBS:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.b(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("FFOo").a)},MPFp:function(t,e,n){"use strict";var r=n("uOPS"),o=n("Y7ZC"),i=n("kTiW"),a=n("NegM"),s=n("SBuE"),u=n("j2DC"),c=n("RfKB"),l=n("U+KD"),h=n("UWiX")("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,p,v,y,g){u(n,e,p);var m,b,_,w=function(t){if(!d&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",C="values"==v,S=!1,T=t.prototype,I=T[h]||T["@@iterator"]||v&&T[v],O=I||w(v),D=v?C?w("entries"):O:void 0,N="Array"==e&&T.entries||I;if(N&&(_=l(N.call(new t)))!==Object.prototype&&_.next&&(c(_,E,!0),r||"function"==typeof _[h]||a(_,h,f)),C&&I&&"values"!==I.name&&(S=!0,O=function(){return I.call(this)}),r&&!g||!d&&!S&&T[h]||a(T,h,O),s[e]=O,s[E]=f,v)if(m={values:C?O:w("values"),keys:y?O:w("keys"),entries:D},g)for(b in m)b in T||i(T,b,m[b]);else o(o.P+o.F*(d||S),e,m);return m}},McSo:function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}n.d(e,"a",function(){return r})},MvwC:function(t,e,n){var r=n("5T2Y").document;t.exports=r&&r.documentElement},N2oW:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("7h4N")),r(n("HHX+"))},NCDA:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("dYSy")),r(n("1b/I"))},NGZV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("HHWU"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.validate=function(t){return i.email(t)},t.decorators=[{type:r.Directive,args:[{selector:"[email][formControlName],[email][formControl],[email][ngModel]",providers:[a]}]}],t}();e.EmailValidator=s},NMws:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("vdN6"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.validate=function(t){return i.base64(t)},t.decorators=[{type:r.Directive,args:[{selector:"[base64][formControlName],[base64][formControl],[base64][ngModel]",providers:[a]}]}],t}();e.Base64Validator=s},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,i,a,s,u,c,l,h,d,f,p,v=n("zVF4"),y=n("q/0M"),g=n("mAIw"),m=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,b=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),v.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:v.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),_=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return v.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),w=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new b(e)}}catch(t){}return new _},E=w("localStorage"),C=w("sessionStorage"),S=new y.Logger("@firebase/database"),T=(o=1,function(){return o++}),I=function(t){var e=v.stringToByteArray(t),n=new v.Sha1;n.update(e);var r=n.digest();return v.base64.encodeByteArray(r)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++)Array.isArray(t[r])||t[r]&&"object"==typeof t[r]&&"number"==typeof t[r].length?n+=O.apply(null,t[r]):n+="object"==typeof t[r]?v.stringify(t[r]):t[r],n+=" ";return n},D=null,N=!0,A=function(t,e){v.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(S.logLevel=y.LogLevel.VERBOSE,D=S.log.bind(S),e&&C.set("logging_enabled",!0)):"function"==typeof t?D=t:(D=null,C.remove("logging_enabled"))},R=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===N&&(N=!1,null===D&&!0===C.get("logging_enabled")&&A(!0)),D){var n=O.apply(null,t);D(n)}},k=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];R.apply(void 0,[t].concat(e))}},P=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+O.apply(void 0,t);S.error(n)},x=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+O.apply(void 0,t);throw S.error(n),new Error(n)},M=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+O.apply(void 0,t);S.warn(n)},$=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},L="[MIN_NAME]",j="[MAX_NAME]",F=function(t,e){if(t===e)return 0;if(t===L||e===j)return-1;if(e===L||t===j)return 1;var n=K(t),r=K(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},V=function(t,e){return t===e?0:t<e?-1:1},U=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+v.stringify(e))},B=function(t){if("object"!=typeof t||null===t)return v.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",o=0;o<e.length;o++)0!==o&&(r+=","),r+=v.stringify(e[o]),r+=":",r+=B(t[e[o]]);return r+"}"},q=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],o=0;o<n;o+=e)r.push(t.substring(o,o+e>n?n:o+e));return r},H=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;++n)e(n,t[n]);else v.forEach(t,function(t,n){return e(n,t)})},W=function(t){var e,n,r,o,i,a,s;for(v.assert(!$(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),a=[],i=52;i;i-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(i=11;i;i-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse(),s=a.join("");var u="";for(i=0;i<64;i+=8){var c=parseInt(s.substr(i,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},G=new RegExp("^-?\\d{1,10}$"),K=function(t){if(G.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Q=function(t){try{t()}catch(t){setTimeout(function(){throw M("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},z=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Y=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},X=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var o=e.split("/");for(r=0;r<o.length;r++)o[r].length>0&&n.push(o[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),o=n.getFront();if(null===r)return n;if(r===o)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),o=0;o<n.length&&o<r.length;o++){var i=F(n[o],r[o]);if(0!==i)return i}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),Z=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=v.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=v.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=v.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),J="long_polling",tt=function(){function t(t,e,n,r,o){void 0===o&&(o=""),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=E.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&E.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(v.assert("string"==typeof t,"typeof type must == string"),v.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==J)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return v.forEach(e,function(t,e){r.push(t+"="+e)}),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),et=function(t){var e=nt(t),n=e.subdomain;return"firebase"===e.domain&&x(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||x("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&M("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tt(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme),path:new X(e.pathString)}},nt=function(t){var e="",n="",r="",o="",i=!0,a="https",s=443;if("string"==typeof t){var u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));var c=t.indexOf("/");-1===c&&(c=t.length);var l=t.indexOf("?");-1===l&&(l=t.length),e=t.substring(0,Math.min(c,l)),c<l&&(o=function(e){for(var n="",r=t.substring(c,l).split("/"),o=0;o<r.length;o++)if(r[o].length>0){var i=r[o];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}n+="/"+i}return n}());var h=function(t){var e={};"?"===t.charAt(0)&&(t=t.substring(1));for(var n=0,r=t.split("&");n<r.length;n++){var o=r[n];if(0!==o.length){var i=o.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):M("Invalid query segment '"+o+"' in query '"+t+"'")}}return e}(t.substring(Math.min(t.length,l)));(u=e.indexOf(":"))>=0?(i="https"===a||"wss"===a,s=parseInt(e.substring(u+1),10)):u=t.length;var d=e.split(".");3===d.length?(n=d[1],r=d[0].toLowerCase()):2===d.length?n=d[0]:"localhost"===d[0].slice(0,u).toLowerCase()&&(n="localhost"),""===r&&"ns"in h&&(r=h.ns)}return{host:e,port:s,domain:n,subdomain:r,secure:i,scheme:a,pathString:o}},rt=/[\[\].#$\/\u0000-\u001F\u007F]/,ot=/[\[\].#$\u0000-\u001F\u007F]/,it=function(t){return"string"==typeof t&&0!==t.length&&!rt.test(t)},at=function(t){return"string"==typeof t&&0!==t.length&&!ot.test(t)},st=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!$(t)||t&&"object"==typeof t&&v.contains(t,".sv")},ut=function(t,e,n,r,o){o&&void 0===n||ct(v.errorPrefix(t,e,o),n,r)},ct=function(t,e,n){var r=n instanceof X?new Z(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if($(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&v.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var o=!1,i=!1;if(v.forEach(e,function(e,n){if(".value"===e)o=!0;else if(".priority"!==e&&".sv"!==e&&(i=!0,!it(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),ct(t,n,r),r.pop()}),o&&i)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},lt=function(t,e,n,r,o){if(!o||void 0!==n){var i=v.errorPrefix(t,e,o);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(i+" must be an object containing the children to replace.");var a=[];v.forEach(n,function(t,e){var n=new X(t);if(ct(i,e,r.child(n)),".priority"===n.getBack()&&!st(e))throw new Error(i+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var o=(r=e[n]).slice(),i=0;i<o.length;i++)if(".priority"===o[i]&&i===o.length-1);else if(!it(o[i]))throw new Error(t+"contains an invalid key ("+o[i]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(X.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},ht=function(t,e,n,r){if(!r||void 0!==n){if($(n))throw new Error(v.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!st(n))throw new Error(v.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},dt=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(v.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ft=function(t,e,n,r){if(!(r&&void 0===n||it(n)))throw new Error(v.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},pt=function(t,e,n,r){if(!(r&&void 0===n||at(n)))throw new Error(v.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},vt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},yt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!it(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),at(t)}(r))throw new Error(v.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},gt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){v.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),v.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new v.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){v.validateArgCount("OnDisconnect.remove",0,1,arguments.length),vt("OnDisconnect.remove",this.path_),v.validateCallback("OnDisconnect.remove",1,t,!0);var e=new v.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){v.validateArgCount("OnDisconnect.set",1,2,arguments.length),vt("OnDisconnect.set",this.path_),ut("OnDisconnect.set",1,t,this.path_,!1),v.validateCallback("OnDisconnect.set",2,e,!0);var n=new v.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){v.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),vt("OnDisconnect.setWithPriority",this.path_),ut("OnDisconnect.setWithPriority",1,t,this.path_,!1),ht("OnDisconnect.setWithPriority",2,e,!1),v.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new v.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(v.validateArgCount("OnDisconnect.update",1,2,arguments.length),vt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,M("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}lt("OnDisconnect.update",1,t,this.path_,!1),v.validateCallback("OnDisconnect.update",2,e,!0);var o=new v.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,o.wrapCallback(e)),o.promise},t}(),mt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return v.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),bt=(i="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",a=0,s=[],function(t){var e,n=t===a;a=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=i.charAt(t%64),t=Math.floor(t/64);v.assert(0===t,"Cannot push at time == 0");var o=r.join("");if(n){for(e=11;e>=0&&63===s[e];e--)s[e]=0;s[e]++}else for(e=0;e<12;e++)s[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)o+=i.charAt(s[e]);return v.assert(20===o.length,"nextPushId: Length should be 20."),o}),_t=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),wt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new _t(L,t),r=new _t(L,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return _t.MIN},t}(),Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return u},set:function(t){u=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return F(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw v.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return _t.MIN},e.prototype.maxPost=function(){return new _t(j,u)},e.prototype.makePost=function(t,e){return v.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new _t(t,u)},e.prototype.toString=function(){return".key"},e}(wt),Ct=new Et,St=function(t){return"number"==typeof t?"number:"+W(t):"string:"+t},Tt=function(t){if(t.isLeafNode()){var e=t.val();v.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&v.contains(e,".sv"),"Priority must be a string or number.")}else v.assert(t===c||t.isEmpty(),"priority of unexpected type.");v.assert(t===c||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},It=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,v.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Tt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return l},set:function(t){l=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(v.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+St(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?W(this.value_):this.value_,this.lazyHash_=I(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(v.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),i=t.VALUE_TYPE_ORDER.indexOf(r);return v.assert(o>=0,"Unknown leaf type: "+n),v.assert(i>=0,"Unknown leaf type: "+r),o===i?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Ot=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),o=n.compareTo(r);return 0===o?F(t.name,e.name):o},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return _t.MIN},e.prototype.maxPost=function(){return new _t(j,new It("[PRIORITY-POST]",d))},e.prototype.makePost=function(t,e){var n=h(t);return new _t(e,new It("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(wt)),Dt=function(){function t(t,e,n,r,o){void 0===o&&(o=null),this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];for(var i=1;!t.isEmpty();)if(t=t,i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse_?t.left:t.right;else{if(0===i){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Nt=function(){function t(e,n,r,o,i){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=o?o:Rt.EMPTY_NODE,this.right=null!=i?i:Rt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,o,i){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,o;return(o=(r=n(t,(o=this).key))<0?o.copy(null,null,null,o.left.insert(t,e,n),null):0===r?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Rt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Rt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),At=function(){function t(){}return t.prototype.copy=function(t,e,n,r,o){return this},t.prototype.insert=function(t,e,n){return new Nt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Rt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Nt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Nt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Dt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Dt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Dt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Dt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new At,t}(),kt=Math.log(2),Pt=function(){function t(t){this.count=parseInt(Math.log(t+1)/kt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),xt=function(t,e,n,r){t.sort(e);var o=function(e,r){var i,a,s=r-e;if(0==s)return null;if(1==s)return i=t[e],a=n?n(i):i,new Nt(a,i.node,Nt.BLACK,null,null);var u=parseInt(s/2,10)+e,c=o(e,u),l=o(u+1,r);return i=t[u],a=n?n(i):i,new Nt(a,i.node,Nt.BLACK,c,l)},i=function(e){for(var r=null,i=null,a=t.length,s=function(e,r){var i=a-e,s=a;a-=e;var c=o(i+1,s),l=t[i],h=n?n(l):l;u(new Nt(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(i=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,Nt.BLACK):(s(h,Nt.BLACK),s(h,Nt.RED))}return i}(new Pt(t.length));return new Rt(r||e,i)},Mt={},$t=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return v.assert(Mt&&Ot,"ChildrenNode.ts has not been loaded"),f=f||new t({".priority":Mt},{".priority":Ot})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=v.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===Mt?null:e},t.prototype.hasIndex=function(t){return v.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){v.assert(e!==Ct,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,o=[],i=!1,a=n.getIterator(_t.Wrap),s=a.getNext();s;)i=i||e.isDefinedOn(s.node),o.push(s),s=a.getNext();r=i?xt(o,e.getCompare()):Mt;var u=e.toString(),c=v.clone(this.indexSet_);c[u]=e;var l=v.clone(this.indexes_);return l[u]=r,new t(l,c)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(v.map(this.indexes_,function(t,o){var i=v.safeGet(r.indexSet_,o);if(v.assert(i,"Missing index implementation for "+o),t===Mt){if(i.isDefinedOn(e.node)){for(var a=[],s=n.getIterator(_t.Wrap),u=s.getNext();u;)u.name!=e.name&&a.push(u),u=s.getNext();return a.push(e),xt(a,i.getCompare())}return Mt}var c=n.get(e.name),l=t;return c&&(l=l.remove(new _t(e.name,c))),l.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(v.map(this.indexes_,function(t){if(t===Mt)return t;var r=n.get(e.name);return r?t.remove(new _t(e.name,r)):t}),this.indexSet_)},t}();function Lt(t,e){return F(t.name,e.name)}function jt(t,e){return F(t,e)}var Ft=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Tt(this.priorityNode_),this.children_.isEmpty()&&v.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return p||(p=new t(new Rt(jt),null,$t.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||p},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?p:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(v.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new _t(e,n),o=void 0,i=void 0;return n.isEmpty()?(o=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_)),new t(o,o.isEmpty()?p:this.priorityNode_,i)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;v.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,o=0,i=!0;if(this.forEachChild(Ot,function(a,s){n[a]=s.val(e),r++,i&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):i=!1}),!e&&i&&o<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+St(this.getPriority().val())+":"),this.forEachChild(Ot,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":I(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var o=r.getPredecessorKey(new _t(t,e));return o?o.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new _t(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new _t(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,_t.Wrap),o=r.peek();null!=o&&e.compare(o,t)<0;)r.getNext(),o=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,_t.Wrap),o=r.peek();null!=o&&e.compare(o,t)>0;)r.getNext(),o=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Vt?-1:0},t.prototype.withIndex=function(e){if(e===Ct||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Ct||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Ot),r=e.getIterator(Ot),o=n.getNext(),i=r.getNext();o&&i;){if(o.name!==i.name||!o.node.equals(i.node))return!1;o=n.getNext(),i=r.getNext()}return null===o&&null===i}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Ct?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Vt=new(function(t){function e(){return t.call(this,new Rt(jt),Ft.EMPTY_NODE,$t.Default)||this}return g.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Ft.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Ft));Object.defineProperties(_t,{MIN:{value:new _t(L,Ft.EMPTY_NODE)},MAX:{value:new _t(j,Vt)}}),Et.__EMPTY_NODE=Ft.EMPTY_NODE,It.__childrenNodeConstructor=Ft,c=Vt,d=Vt;var Ut=!0;function Bt(t,e){if(void 0===e&&(e=null),null===t)return Ft.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),v.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new It(t,Bt(e));if(t instanceof Array||!Ut){var n=Ft.EMPTY_NODE,r=t;return v.forEach(r,function(t,e){if(v.contains(r,t)&&"."!==t.substring(0,1)){var o=Bt(e);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(t,o))}}),n.updatePriority(Bt(e))}var o=[],i=!1,a=t;if(v.forEach(a,function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var n=Bt(a[t]);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),o.push(new _t(t,n)))}}),0==o.length)return Ft.EMPTY_NODE;var s=xt(o,Lt,function(t){return t.name},jt);if(i){var u=xt(o,Ot.getCompare());return new Ft(s,Bt(e),new $t({".priority":u},{".priority":Ot}))}return new Ft(s,Bt(e),$t.Default)}h=Bt;var qt,Ht,Wt,Gt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?F(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return _t.MIN},e.prototype.maxPost=function(){return _t.MAX},e.prototype.makePost=function(t,e){var n=Bt(t);return new _t(e,n)},e.prototype.toString=function(){return".value"},e}(wt)),Kt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,v.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return g.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),o=n.compareTo(r);return 0===o?F(t.name,e.name):o},e.prototype.makePost=function(t,e){var n=Bt(t),r=Ft.EMPTY_NODE.updateChild(this.indexPath_,n);return new _t(e,r)},e.prototype.maxPost=function(){var t=Ft.EMPTY_NODE.updateChild(this.indexPath_,Vt);return new _t(j,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(wt),Qt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return v.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return v.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return v.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return v.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){v.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),pt("DataSnapshot.child",1,e,!1);var n=new X(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Ot)},t.prototype.hasChild=function(t){v.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),pt("DataSnapshot.hasChild",1,t,!1);var e=new X(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return v.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return v.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),v.validateCallback("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,o){return e(new t(o,n.ref_.child(r),Ot))})},t.prototype.hasChildren=function(){return v.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return v.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return v.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),zt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+v.stringify(this.snapshot.exportVal())},t}(),Yt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Xt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new zt("value",this,new Qt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){v.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Yt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Zt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return v.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Yt(this,t,e):null},t.prototype.createEvent=function(t,e){v.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new zt(t.type,this,new Qt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){v.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=v.getCount(e.callbacks_);if(n===v.getCount(this.callbacks_)){if(1===n){var r=v.getAnyKey(e.callbacks_),o=v.getAnyKey(this.callbacks_);return!(o!==r||e.callbacks_[r]&&this.callbacks_[o]&&e.callbacks_[r]!==this.callbacks_[o])}return v.every(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Jt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return v.assert(qt,"Reference.ts has not been loaded"),qt},set:function(t){qt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ct){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=L)throw new Error(r);if("string"!=typeof e)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!=j)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(t.getIndex()===Ot){if(null!=e&&!st(e)||null!=n&&!st(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(v.assert(t.getIndex()instanceof Kt||t.getIndex()===Gt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return v.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,o){v.validateArgCount("Query.on",2,4,arguments.length),dt("Query.on",1,e,!1),v.validateCallback("Query.on",2,n,!1);var i=t.getCancelAndContextArgs_("Query.on",r,o);if("value"===e)this.onValueEvent(n,i.cancel,i.context);else{var a={};a[e]=n,this.onChildEvent(a,i.cancel,i.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Xt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Zt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){v.validateArgCount("Query.off",0,3,arguments.length),dt("Query.off",1,t,!0),v.validateCallback("Query.off",2,e,!0),v.validateContextObject("Query.off",3,n,!0);var r=null,o=null;"value"===t?r=new Xt(e||null,null,n||null):t&&(e&&((o={})[t]=e),r=new Zt(o,null,n||null)),this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,o){var i=this;v.validateArgCount("Query.once",1,4,arguments.length),dt("Query.once",1,e,!1),v.validateCallback("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,o),s=!0,u=new v.Deferred;u.promise.catch(function(){});var c=function(t){s&&(s=!1,i.off(e,c),n&&n.bind(a.context)(t),u.resolve(t))};return this.on(e,c,function(t){i.off(e,c),a.cancel&&a.cancel.bind(a.context)(t),u.reject(t)}),u.promise},t.prototype.limitToFirst=function(e){if(v.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(v.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(v.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');pt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new X(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Kt(n),o=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(o),new t(this.repo,this.path,o,!0)},t.prototype.orderByKey=function(){v.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Ct);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){v.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Ot);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){v.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Gt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),v.validateArgCount("Query.startAt",0,2,arguments.length),ut("Query.startAt",1,e,this.path,!0),ft("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),v.validateArgCount("Query.endAt",0,2,arguments.length),ut("Query.endAt",1,e,this.path,!0),ft("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(v.validateArgCount("Query.equalTo",1,2,arguments.length),ut("Query.equalTo",1,t,this.path,!1),ft("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return v.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return v.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=B(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(v.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var n=this.repo===e.repo,r=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return n&&r&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,v.validateCallback(t,3,r.cancel,!0),r.context=n,v.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(v.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),te=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return v.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return v.isEmpty(this.set)},t.prototype.count=function(){return v.getCount(this.set)},t.prototype.each=function(t){v.forEach(this.set,function(e,n){return t(e,n)})},t.prototype.keys=function(){var t=[];return v.forEach(this.set,function(e){t.push(e)}),t},t}(),ee=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();return t=t.popFront(),this.children_.contains(e)?this.children_.get(e).find(t):null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,n);else{null==this.children_&&(this.children_=new te);var r=e.getFront();this.children_.contains(r)||this.children_.add(r,new t);var o=this.children_.get(r);e=e.popFront(),o.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var n=this;return e.forEachChild(Ot,function(t,e){n.remember(new X(t),e)}),this.forget(t)}if(null!==this.children_){var r=t.getFront();return t=t.popFront(),this.children_.contains(r)&&this.children_.get(r).forget(t)&&this.children_.remove(r),!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(n,r){var o=new X(t.toString()+"/"+n);r.forEachTree(o,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,n){t(e,n)})},t}(),ne=function(t,e){return t&&"object"==typeof t?(v.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},re=function(t,e){var n,r=t.getPriority().val(),o=ne(r,e);if(t.isLeafNode()){var i=t,a=ne(i.getValue(),e);return a!==i.getValue()||o!==i.getPriority().val()?new It(a,Bt(o)):t}var s=t;return n=s,o!==s.getPriority().val()&&(n=n.updatePriority(new It(o))),s.forEachChild(Ot,function(t,r){var o=re(r,e);o!==r&&(n=n.updateImmediateChild(t,o))}),n},oe=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),ie=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,v.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ae=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=oe.ACK_USER_WRITE,this.source=ie.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return v.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new X(e));return new t(X.Empty,n,this.revert)}return v.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),se=function(){return Ht||(Ht=new Rt(V)),Ht},ue=function(){function t(t,e){void 0===e&&(e=se()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return v.forEach(e,function(t,e){n=n.set(new X(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:X.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var o=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=o?{path:new X(n).child(o.path),value:o.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),o=(this.children.get(r)||t.Empty).set(e.popFront(),n),i=this.children.insert(r,o);return new t(this.value,i)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var o=r.remove(e.popFront()),i=void 0;return i=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),null===this.value&&i.isEmpty()?t.Empty:new t(this.value,i)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,o=e.getFront(),i=(this.children.get(o)||t.Empty).setTree(e.popFront(),n);return r=i.isEmpty()?this.children.remove(o):this.children.insert(o,i),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(X.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,o){n[r]=o.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,X.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var o=t.getFront(),i=this.children.get(o);return i?i.findOnPath_(t.popFront(),e.child(o),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,X.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var o=e.getFront(),i=this.children.get(o);return i?i.foreachOnPath_(e.popFront(),n.child(o),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(X.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),ce=function(){function t(t,e){this.source=t,this.path=e,this.type=oe.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty):new t(this.source,this.path.popFront())},t}(),le=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=oe.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),he=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=oe.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new X(e));return n.isEmpty()?null:n.value?new le(this.source,X.Empty,n.value):new t(this.source,X.Empty,n)}return v.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),de=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),fe=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new de(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new de(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new de(Ft.EMPTY_NODE,!1,!1),new de(Ft.EMPTY_NODE,!1,!1)),t}(),pe=function(){function t(t,e,n,r,o){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=o}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),ve=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,o,i){v.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()==n.isEmpty()?t:(null!=i&&(n.isEmpty()?t.hasChild(e)?i.trackChildChange(pe.childRemovedChange(e,a)):v.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?i.trackChildChange(pe.childAddedChange(e,n)):i.trackChildChange(pe.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Ot,function(t,r){e.hasChild(t)||n.trackChildChange(pe.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(Ot,function(e,r){if(t.hasChild(e)){var o=t.getImmediateChild(e);o.equals(r)||n.trackChildChange(pe.childChangedChange(e,r,o))}else n.trackChildChange(pe.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Ft.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ye=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;v.assert(e==pe.CHILD_ADDED||e==pe.CHILD_CHANGED||e==pe.CHILD_REMOVED,"Only child changes supported for tracking"),v.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=v.safeGet(this.changeMap_,n);if(r){var o=r.type;if(e==pe.CHILD_ADDED&&o==pe.CHILD_REMOVED)this.changeMap_[n]=pe.childChangedChange(n,t.snapshotNode,r.snapshotNode);else if(e==pe.CHILD_REMOVED&&o==pe.CHILD_ADDED)delete this.changeMap_[n];else if(e==pe.CHILD_REMOVED&&o==pe.CHILD_CHANGED)this.changeMap_[n]=pe.childRemovedChange(n,r.oldSnap);else if(e==pe.CHILD_CHANGED&&o==pe.CHILD_ADDED)this.changeMap_[n]=pe.childAddedChange(n,t.snapshotNode);else{if(e!=pe.CHILD_CHANGED||o!=pe.CHILD_CHANGED)throw v.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap_[n]=pe.childChangedChange(n,t.snapshotNode,r.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return v.getValues(this.changeMap_)},t}(),ge=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),me=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new de(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),o=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===o.length?null:o[0]},t}(),be=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){v.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),v.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,o){var i,a,s=new ye;if(n.type===oe.OVERWRITE){var u=n;u.source.fromUser?i=this.applyUserOverwrite_(e,u.path,u.snap,r,o,s):(v.assert(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),i=this.applyServerOverwrite_(e,u.path,u.snap,r,o,a,s))}else if(n.type===oe.MERGE){var c=n;c.source.fromUser?i=this.applyUserMerge_(e,c.path,c.children,r,o,s):(v.assert(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.getServerCache().isFiltered(),i=this.applyServerMerge_(e,c.path,c.children,r,o,a,s))}else if(n.type===oe.ACK_USER_WRITE){var l=n;i=l.revert?this.revertUserWrite_(e,l.path,r,o,s):this.ackUserWrite_(e,l.path,l.affectedTree,r,o,s)}else{if(n.type!==oe.LISTEN_COMPLETE)throw v.assertionError("Unknown operation type: "+n.type);i=this.listenComplete_(e,n.path,r,s)}var h=s.getChanges();return t.maybeAddValueEvent_(e,i,h),new function(t,e){this.viewCache=t,this.changes=e}(i,h)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(pe.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,o){var i=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,s=void 0;if(e.isEmpty())if(v.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),c=n.calcCompleteEventChildren(u instanceof Ft?u:Ft.EMPTY_NODE);a=this.filter_.updateFullNode(t.getEventCache().getNode(),c,o)}else{var l=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,o)}else{var h=e.getFront();if(".priority"==h){v.assert(1==e.getLength(),"Can't have a priority with additional path components");var d=i.getNode();s=t.getServerCache().getNode();var f=n.calcEventCacheAfterServerOverwrite(e,d,s);a=null!=f?this.filter_.updatePriority(d,f):i.getNode()}else{var p=e.popFront(),y=void 0;if(i.isCompleteForChild(h)){s=t.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(e,i.getNode(),s);y=null!=g?i.getNode().getImmediateChild(h).updateChild(p,g):i.getNode().getImmediateChild(h)}else y=n.calcCompleteChild(h,t.getServerCache());a=null!=y?this.filter_.updateChild(i.getNode(),h,y,p,r,o):i.getNode()}}return t.updateEventSnap(a,i.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,o,i,a){var s,u=t.getServerCache(),c=i?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var d=e.popFront(),f=u.getNode().getImmediateChild(h).updateChild(d,n);s=".priority"==h?c.updatePriority(u.getNode(),f):c.updateChild(u.getNode(),h,f,d,ge,null)}var p=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),v=new me(r,p,o);return this.generateEventCacheAfterServerEvent_(p,e,r,v,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,o,i){var a,s,u=t.getEventCache(),c=new me(r,t,o);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,i),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),d=u.getNode().getImmediateChild(l),f=void 0;if(h.isEmpty())f=n;else{var p=c.getCompleteChild(l);f=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):Ft.EMPTY_NODE}if(d.equals(f))a=t;else{var v=this.filter_.updateChild(u.getNode(),l,f,h,c,i);a=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,o,i,a){var s=this,u=e;return r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,o,i,a))}),r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,o,i,a))}),u},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,o,i,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:ue.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal(function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new X(e),h,r,o,i,a)}}),u.children.inorderTraversal(function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),d=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new X(e),d,r,o,i,a)}}),c},t.prototype.ackUserWrite_=function(t,e,n,r,o,i){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,o,a,i);if(e.isEmpty()){var u=ue.Empty;return s.getNode().forEachChild(Ct,function(t,e){u=u.set(new X(t),e)}),this.applyServerMerge_(t,e,u,r,o,a,i)}return t}var c=ue.Empty;return n.foreach(function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))}),this.applyServerMerge_(t,e,c,r,o,a,i)},t.prototype.listenComplete_=function(t,e,n,r){var o=t.getServerCache(),i=t.updateServerSnap(o.getNode(),o.isFullyInitialized()||e.isEmpty(),o.isFiltered());return this.generateEventCacheAfterServerEvent_(i,e,n,ge,r)},t.prototype.revertUserWrite_=function(t,e,n,r,o){var i;if(null!=n.shadowingWrite(e))return t;var a=new me(n,t,r),s=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var l=t.getServerCache().getNode();v.assert(l instanceof Ft,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(l)}u=this.filter_.updateFullNode(s,c=c,o)}else{var h=e.getFront(),d=n.calcCompleteChild(h,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(h)&&(d=s.getImmediateChild(h)),(u=null!=d?this.filter_.updateChild(s,h,d,e.popFront(),a,o):t.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(s,h,Ft.EMPTY_NODE,e.popFront(),a,o):s).isEmpty()&&t.getServerCache().isFullyInitialized()&&(i=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,i,o))}return i=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(X.Empty),t.updateEventSnap(u,i,this.filter_.filtersNodes())},t}(),_e=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,o=[],i=[];return t.forEach(function(t){t.type===pe.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push(pe.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(o,pe.CHILD_REMOVED,t,n,e),this.generateEventsForType_(o,pe.CHILD_ADDED,t,n,e),this.generateEventsForType_(o,pe.CHILD_MOVED,i,n,e),this.generateEventsForType_(o,pe.CHILD_CHANGED,t,n,e),this.generateEventsForType_(o,pe.VALUE,t,n,e),o},t.prototype.generateEventsForType_=function(t,e,n,r,o){var i=this,a=n.filter(function(t){return t.type===e});a.sort(this.compareChanges_.bind(this)),a.forEach(function(e){var n=i.materializeSingleChange_(e,o);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,i.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw v.assertionError("Should only compare child_ events.");var n=new _t(t.childName,t.snapshotNode),r=new _t(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),we=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new ve(n.getIndex()),o=n.getNodeFilter();this.processor_=new be(o);var i=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(Ft.EMPTY_NODE,i.getNode(),null),u=o.updateFullNode(Ft.EMPTY_NODE,a.getNode(),null),c=new de(s,i.isFullyInitialized(),r.filtersNodes()),l=new de(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=new fe(l,c),this.eventGenerator_=new _e(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){v.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){var o=t.createCancelEvent(e=e,r);o&&n.push(o)})}if(t){for(var o=[],i=0;i<this.eventRegistrations_.length;++i){var a=this.eventRegistrations_[i];if(a.matches(t)){if(t.hasAnyCallback()){o=o.concat(this.eventRegistrations_.slice(i+1));break}}else o.push(a)}this.eventRegistrations_=o}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===oe.MERGE&&null!==t.source.queryId&&(v.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),v.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,o=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(o.viewCache),v.assert(o.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=o.viewCache,this.generateEventsForChanges_(o.changes,o.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ot,function(t,e){n.push(pe.childAddedChange(t,e))}),e.isFullyInitialized()&&n.push(pe.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Ee=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return v.assert(Wt,"Reference.ts has not been loaded"),Wt},set:function(t){v.assert(!Wt,"__referenceConstructor has already been defined"),Wt=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return v.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,n){var r=t.source.queryId;if(null!==r){var o=v.safeGet(this.views_,r);return v.assert(null!=o,"SyncTree gave us an op for an invalid query."),o.applyOperation(t,e,n)}var i=[];return v.forEach(this.views_,function(r,o){i=i.concat(o.applyOperation(t,e,n))}),i},t.prototype.addEventRegistration=function(t,e,n,r,o){var i=t.queryIdentifier(),a=v.safeGet(this.views_,i);if(!a){var s=n.calcCompleteEventCache(o?r:null),u=!1;s?u=!0:r instanceof Ft?(s=n.calcCompleteEventChildren(r),u=!1):(s=Ft.EMPTY_NODE,u=!1);var c=new fe(new de(s,u,!1),new de(r,o,!1));a=new we(t,c),this.views_[i]=a}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o=e.queryIdentifier(),i=[],a=[],s=this.hasCompleteView();if("default"===o){var u=this;v.forEach(this.views_,function(t,e){a=a.concat(e.removeEventRegistration(n,r)),e.isEmpty()&&(delete u.views_[t],e.getQuery().getQueryParams().loadsAllData()||i.push(e.getQuery()))})}else{var c=v.safeGet(this.views_,o);c&&(a=a.concat(c.removeEventRegistration(n,r)),c.isEmpty()&&(delete this.views_[o],c.getQuery().getQueryParams().loadsAllData()||i.push(c.getQuery())))}return s&&!this.hasCompleteView()&&i.push(new t.__referenceConstructor(e.repo,e.path)),{removed:i,events:a}},t.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map(function(e){return t.views_[e]}).filter(function(t){return!t.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(t){var e=null;return v.forEach(this.views_,function(n,r){e=e||r.getCompleteServerCache(t)}),e},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return v.safeGet(this.views_,e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){return v.findValue(this.views_,function(t){return t.getQuery().getQueryParams().loadsAllData()})||null},t}(),Ce=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new ue(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var o=r.path,i=r.value,a=X.relativePath(o,e);return i=i.updateChild(a,n),new t(this.writeTree_.set(o,i))}var s=new ue(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return v.forEach(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,ue.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(X.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ot,function(e,n){t.push(new _t(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new _t(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new ue(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(X.Empty,this.writeTree_,e)},t.Empty=new t(new ue(null)),t.applySubtreeWrite_=function(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var o=null;return n.children.inorderTraversal(function(n,i){".priority"===n?(v.assert(null!==i.value,"Priority writes must always be leaf nodes"),o=i.value):r=t.applySubtreeWrite_(e.child(n),i,r)}),r.getChild(e).isEmpty()||null===o||(r=r.updateChild(e.child(".priority"),o)),r},t}(),Se=function(){function t(){this.visibleWrites_=Ce.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Te(t,this)},t.prototype.addOverwrite=function(t,e,n,r){v.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){v.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});v.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var o=r.visible,i=!1,a=this.allWrites_.length-1;o&&a>=0;){var s=this.allWrites_[a];s.visible&&(a>=n&&this.recordContainsPath_(s,r.path)?o=!1:r.path.contains(s.path)&&(i=!0)),a--}return!!o&&(i?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):v.forEach(r.children,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,o){if(r||o){var i=this.visibleWrites_.childCompoundWrite(e);return!o&&i.isEmpty()?n:o||null!=n||i.hasCompleteWrite(X.Empty)?t.layerTree_(this.allWrites_,function(t){return(t.visible||o)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e).apply(n||Ft.EMPTY_NODE):null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var s=this.visibleWrites_.childCompoundWrite(e);return s.isEmpty()?n:null!=n||s.hasCompleteWrite(X.Empty)?s.apply(n||Ft.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Ft.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Ot,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var o=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Ot,function(t,e){var r=o.childCompoundWrite(new X(t)).apply(e);n=n.updateImmediateChild(t,r)}),o.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){v.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var o=t.child(e);if(this.visibleWrites_.hasCompleteWrite(o))return null;var i=this.visibleWrites_.childCompoundWrite(o);return i.isEmpty()?r.getChild(e):i.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),o=this.visibleWrites_.getCompleteNode(r);return null!=o?o:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,o,i){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(X.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(i)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=i.getCompare(),h=o?a.getReverseIteratorFrom(n,i):a.getIteratorFrom(n,i),d=h.getNext();d&&c.length<r;)0!==l(d,n)&&c.push(d),d=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){return t.snap?t.path.contains(e):!!v.findKey(t.children,function(n,r){return t.path.child(r).contains(e)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,X.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Ce.Empty,o=0;o<t.length;++o){var i=t[o];if(e(i)){var a=i.path,s=void 0;if(i.snap)n.contains(a)?(s=X.relativePath(n,a),r=r.addWrite(s,i.snap)):a.contains(n)&&(s=X.relativePath(a,n),r=r.addWrite(X.Empty,i.snap.getChild(s)));else{if(!i.children)throw v.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))s=X.relativePath(n,a),r=r.addWrites(s,i.children);else if(a.contains(n))if((s=X.relativePath(a,n)).isEmpty())r=r.addWrites(X.Empty,i.children);else{var u=v.safeGet(i.children,s.getFront());if(u){var c=u.getChild(s.popFront());r=r.addWrite(X.Empty,c)}}}}}return r},t}(),Te=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,o){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,o)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Ie=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=ue.Empty,this.pendingWriteTree_=new Se,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new le(ie.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=ue.fromObject(e);return this.applyOperationToSyncPoints_(new he(ie.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=ue.Empty;return null!=n.snap?r=r.set(X.Empty,!0):v.forEach(n.children,function(t,e){r=r.set(new X(t),e)}),this.applyOperationToSyncPoints_(new ae(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new le(ie.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=ue.fromObject(e);return this.applyOperationToSyncPoints_(new he(ie.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new ce(ie.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var o=this.queryKeyForTag_(r);if(null!=o){var i=t.parseQueryKey_(o),a=i.path,s=i.queryId,u=X.relativePath(a,e),c=new le(ie.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var o=this.queryKeyForTag_(r);if(o){var i=t.parseQueryKey_(o),a=i.path,s=i.queryId,u=X.relativePath(a,e),c=ue.fromObject(n),l=new he(ie.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var o=t.parseQueryKey_(r),i=o.path,a=o.queryId,s=X.relativePath(i,e),u=new ce(ie.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(i,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,o=null,i=!1;this.syncPointTree_.foreachOnPath(r,function(t,e){var n=X.relativePath(t,r);o=o||e.getCompleteServerCache(n),i=i||e.hasCompleteView()});var a,s=this.syncPointTree_.get(r);s?(i=i||s.hasCompleteView(),o=o||s.getCompleteServerCache(X.Empty)):(s=new Ee,this.syncPointTree_=this.syncPointTree_.set(r,s)),null!=o?a=!0:(a=!1,o=Ft.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=e.getCompleteServerCache(X.Empty);n&&(o=o.updateImmediateChild(t,n))}));var u=s.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);v.assert(!(c in this.queryToTagMap_),"View does not exist, but we have a tag");var l=t.getNextQueryTag_();this.queryToTagMap_[c]=l,this.tagToQueryMap_["_"+l]=c}var h=this.pendingWriteTree_.childWrites(r),d=s.addEventRegistration(e,n,h,o,a);if(!u&&!i){var f=s.viewForQuery(e);d=d.concat(this.setupListener_(e,f))}return d},t.prototype.removeEventRegistration=function(e,n,r){var o=this,i=e.path,a=this.syncPointTree_.get(i),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(i));var c=u.removed;s=u.events;var l=-1!==c.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(i,function(t,e){return e.hasCompleteView()});if(l&&!h){var d=this.syncPointTree_.subtree(i);if(!d.isEmpty())for(var f=this.collectDistinctViewsForSubTree_(d),p=0;p<f.length;++p){var v=f[p],y=v.getQuery(),g=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(y),this.tagForQuery_(y),g.hashFn,g.onComplete)}}!h&&c.length>0&&!r&&(l?this.listenProvider_.stopListening(t.queryForListening_(e),null):c.forEach(function(e){var n=o.queryToTagMap_[t.makeQueryKey_(e)];o.listenProvider_.stopListening(t.queryForListening_(e),n)})),this.removeTags_(c)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=X.relativePath(e,t),o=n.getCompleteServerCache(r);if(o)return o});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),v.forEach(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var o=t.makeQueryKey_(r),i=this.queryToTagMap_[o];delete this.queryToTagMap_[o],delete this.tagToQueryMap_["_"+i]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,o=this.tagForQuery_(e),i=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),o,i.hashFn,i.onComplete),s=this.syncPointTree_.subtree(r);if(o)v.assert(!s.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),v.forEach(n,function(t,e){r=r.concat(e)}),r}),c=0;c<u.length;++c){var l=u[c];this.listenProvider_.stopListening(t.queryForListening_(l),this.tagForQuery_(l))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Ft.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var o=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,o)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return v.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new X(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return v.safeGet(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);v.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(X.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var o=e.get(X.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(X.Empty));var i=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);i=i.concat(this.applyOperationHelper_(s,u,c,l))}return o&&(i=i.concat(o.applyOperation(t,r,n))),i},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var o=this,i=e.get(X.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(X.Empty));var a=[];return e.children.inorderTraversal(function(e,i){var s=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(o.applyOperationDescendantsHelper_(c,i,s,u)))}),i&&(a=a.concat(i.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),Oe=function(){function t(){this.rootNode_=Ft.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),De=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(R("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';M(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),Ne=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),v.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return v.deepCopy(this.counters_)},t}(),Ae=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Ne),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Re=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=v.clone(t);return this.last_&&v.forEach(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),ke=1e4,Pe=3e4,xe=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Re(t);var n=ke+(Pe-ke)*Math.random();Y(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;v.forEach(e,function(e,o){o>0&&v.contains(t.statsToReport_,e)&&(n[e]=o,r=!0)}),r&&this.server_.reportStats(n),Y(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Me=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],o=r.getPath();null===e||o.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new $e(o)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),$e=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();D&&R("event: "+e.toString()),Q(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Le=function(){function t(t){this.allowedEvents_=t,this.listeners_={},v.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=this.listeners_[t].slice(),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],o=0;o<r.length;o++)if(r[o].callback===e&&(!n||n===r[o].context))return void r.splice(o,1)},t.prototype.validateEventType_=function(t){v.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),je=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return g.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return v.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Le),Fe=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||v.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return g.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return v.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Le),Ve=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var e=function(e){t[e]&&Q(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),Ue="pLPCommand",Be="pRTLPCB",qe=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=k(t),this.stats_=Ae.getCollection(e),this.urlFn=function(t){return e.connectionURL(J,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Ve(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(v.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new He(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],o=t[1],i=t[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==r)n.id=o,n.password=i;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],o=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,o)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),!v.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI)&&!v.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=v.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=v.base64Encode(e),r=q(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!v.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=v.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),He=function(){function t(e,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new te,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,v.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=T(),window[Ue+this.uniqueCallbackIdentifier]=e,window[Be+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var i="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(i='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(t){R("frame writing exception"),t.stack&&R(t.stack),R(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||R("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),v.isNodeSdk()&&this.myID){var n={disconn:"t"};n.id=this.myID,n.pw=this.myPW;var r=this.urlFn(n);t.nodeRestRequest(r)}var o=this.onDisconnect;o&&(this.onDisconnect=null,o())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var o=this.pendingSegs.shift();n=n+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var r=function(){n.outstandingRequests.remove(e),n.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(o),r()})},t.prototype.addTag=function(t,e){var n=this;v.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){R("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}},Math.floor(1))},t}(),We=null;"undefined"!=typeof MozWebSocket?We=MozWebSocket:"undefined"!=typeof WebSocket&&(We=WebSocket);var Ge=function(){function t(e,n,r,o){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=k(this.connId),this.stats_=Ae.getCollection(n),this.connURL=t.connectionURL_(n,r,o)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!v.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,E.set("previous_websocket_failure",!0);try{if(v.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+m.SDK_VERSION+"/"+process.platform+"/"+(v.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},o=process.env,i=0==this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;i&&(r.proxy={origin:i}),this.mySock=new We(this.connURL,[],r)}else this.mySock=new We(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var a=t.message||t.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==We&&!t.forceDisallow_},t.previouslyFailed=function(){return E.isInMemoryStorage||!0===E.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){E.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=v.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(v.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=v.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=q(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ke=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[qe,Ge]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n=Ge&&Ge.isAvailable(),r=n&&!Ge.previouslyFailed();if(e.webSocketOnly&&(n||M("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ge];else{var o=this.transports_=[];H(t.ALL_TRANSPORTS,function(t,e){e&&e.isAvailable()&&o.push(e)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Qe=function(){function t(t,e,n,r,o,i,a){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=o,this.onKill_=i,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=k("c:"+this.id+":"),this.transportManager_=new Ke(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Y(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=U("t",t),n=U("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=U("t",t),n=U("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=U("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?P("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):P("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&M("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Y(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Y(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(E.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),ze=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Ye=1e3,Xe=3e5,Ze=function(t){function e(n,r,o,i,a,s){var u=t.call(this)||this;if(u.repoInfo_=n,u.onDataUpdate_=r,u.onConnectStatus_=o,u.onServerInfoUpdate_=i,u.authTokenProvider_=a,u.authOverride_=s,u.id=e.nextPersistentConnectionId_++,u.log_=k("p:"+u.id+":"),u.interruptReasons_={},u.listens_={},u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=Ye,u.maxReconnectDelay_=Xe,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,s&&!v.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),je.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&Fe.getInstance().on("online",u.onOnline_,u),u}return g.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,o={r:r,a:t,b:e};this.log_(v.stringify(o)),v.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var o=t.queryIdentifier(),i=t.path.toString();this.log_("Listen called for "+i+" "+o),this.listens_[i]=this.listens_[i]||{},v.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),v.assert(!this.listens_[i][o],"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens_[i][o]=a,this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,o=r.path.toString(),i=r.queryIdentifier();this.log_("Listen on "+o+" for "+i);var a={p:o};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens_[o]&&n.listens_[o][i])===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(o,i),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&v.contains(t,"w")){var n=v.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',o=e.path.toString();M("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||v.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=v.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,o=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,o))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),v.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var o={p:t};r&&(o.q=n,o.t=r),this.sendRequest("n",o)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var o={p:e,d:n};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,o){var i={p:e,d:n};void 0!==o&&(i.h=o),this.outstandingPuts_.push({action:t,request:i,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),o&&o(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+v.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):P("Unrecognized action received from server: "+v.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;v.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ye,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ye,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ye),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,i=this,a=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,r())};this.realtime_={close:c,sendRequest:function(t){v.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}};var l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(l).then(function(e){s?R("getToken() completed but was canceled"):(R("getToken() completed. Creating connection."),i.authToken_=e&&e.accessToken,u=new Qe(o,i.repoInfo_,t,n,r,function(t){M(t+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")},a))}).then(null,function(t){i.log_("Failed to get token: "+t),s||(v.CONSTANTS.NODE_ADMIN&&M(t),c())})}},e.prototype.interrupt=function(t){R("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){R("Resuming connection for reason: "+t),delete this.interruptReasons_[t],v.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Ye,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return B(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new X(t).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][e],delete this.listens_[r][e],0===v.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){R("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),v.forEach(this.listens_,function(e,n){v.forEach(n,function(e,n){t.sendListen_(n)})});for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";v.CONSTANTS.NODE_ADMIN?e="admin_node":v.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+m.SDK_VERSION.replace(/\./g,"-")]=1,v.isMobileCordova()?t["framework.cordova"]=1:v.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Fe.getInstance().currentlyOnline();return v.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(ze),Je=function(t){function e(e,n,r){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.log_=k("p:rest:"),o.listens_={},o}return g.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(v.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,o){var i=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var s=e.getListenId_(t,r),u={};this.listens_[s]=u;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",c,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&i.onDataUpdate_(a,n,!1,r),v.safeGet(i.listens_,s)===u&&o(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(o){var i=o&&o.accessToken;i&&(e.auth=i);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?"+v.querystring(e);r.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var t=null;if(s.status>=200&&s.status<300){try{t=v.jsonEval(s.responseText)}catch(t){M("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&M("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()})},e}(ze),tn=function(){function t(t,e,n){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Me,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ee,this.persistentConnection_=null;var o=new De(n);if(this.stats_=Ae.getCollection(t),e||z())this.server_=new Je(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var i=n.options.databaseAuthVariableOverride;if(void 0!==i&&null!==i){if("object"!=typeof i)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{v.stringify(i)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new Ze(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,i),this.server_=this.persistentConnection_}o.addTokenChangeListener(function(t){r.server_.refreshAuthToken(t)}),this.statsReporter_=Ae.getOrCreateReporter(t,function(){return new xe(r.stats_,r.server_)}),this.transactions_init_(),this.infoData_=new Oe,this.infoSyncTree_=new Ie({startListening:function(t,e,n,o){var i=[],a=r.infoData_.getNode(t.path);return a.isEmpty()||(i=r.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout(function(){o("ok")},0)),i},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ie({startListening:function(t,e,n,o){return r.server_.listen(t,n,e,function(e,n){var i=o(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,i)}),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new X(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var o=new X(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var i=[];if(r)if(n){var a=v.map(e,function(t){return Bt(t)});i=this.serverSyncTree_.applyTaggedQueryMerge(o,a,r)}else{var s=Bt(e);i=this.serverSyncTree_.applyTaggedQueryOverwrite(o,s,r)}else if(n){var u=v.map(e,function(t){return Bt(t)});i=this.serverSyncTree_.applyServerMerge(o,u)}else{var c=Bt(e);i=this.serverSyncTree_.applyServerOverwrite(o,c)}var l=o;i.length>0&&(l=this.rerunTransactions_(o)),this.eventQueue_.raiseEventsForChangedPath(l,i)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;H(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var n=new X("/.info/"+t),r=Bt(e);this.infoData_.updateSnapshot(n,r);var o=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,o)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var o=this;this.log_("set",{path:t.toString(),value:e,priority:n});var i=this.generateServerValues(),a=Bt(e,n),s=re(a,i),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(t,s,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(t.toString(),a.val(!0),function(e,n){var i="ok"===e;i||M("set at "+t+" failed: "+e);var a=o.serverSyncTree_.ackUserWrite(u,!i);o.eventQueue_.raiseEventsForChangedPath(t,a),o.callOnCompleteCallback(r,e,n)});var l=this.abortTransactions_(t);this.rerunTransactions_(l),this.eventQueue_.raiseEventsForChangedPath(l,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var o=!0,i=this.generateServerValues(),a={};if(v.forEach(e,function(t,e){o=!1;var n=Bt(e);a[t]=re(n,i)}),o)R("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,function(e,o){var i="ok"===e;i||M("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!i),u=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,e,o)}),v.forEach(e,function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=[];(function(t,e){var n=new ee;return t.forEachTree(new X(""),function(t,r){n.remember(t,re(r,e))}),n})(this.onDisconnect_,e).forEachTree(X.Empty,function(e,r){n=n.concat(t.serverSyncTree_.applyServerOverwrite(e,r));var o=t.abortTransactions_(e);t.rerunTransactions_(o)}),this.onDisconnect_=new ee,this.eventQueue_.raiseEventsForChangedPath(X.Empty,n)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,o){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,o)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,o=Bt(e);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,i){"ok"===e&&r.onDisconnect_.remember(t,o),r.callOnCompleteCallback(n,e,i)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var o=this,i=Bt(e,n);this.server_.onDisconnectPut(t.toString(),i.val(!0),function(e,n){"ok"===e&&o.onDisconnect_.remember(t,i),o.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(v.isEmpty(e))return R("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(o,i){"ok"===o&&v.forEach(e,function(e,n){var o=Bt(n);r.onDisconnect_.remember(t.child(e),o)}),r.callOnCompleteCallback(n,o,i)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Re(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);v.forEach(e,function(t,e){for(var r=t.length;r<n+2;r++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),R.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&Q(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),o=r;n&&(o+=": "+n);var i=new Error(o);i.code=r,t(i)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new hn(this))},enumerable:!0,configurable:!0}),t}(),en=function(){function t(e){this.indexedFilter_=new ve(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,o,i){return this.matches(new _t(e,n))||(n=Ft.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,o,i)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Ft.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Ft.EMPTY_NODE);var o=this;return e.forEachChild(Ot,function(t,e){o.matches(new _t(t,e))||(r=r.updateImmediateChild(t,Ft.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),nn=function(){function t(t){this.rangedFilter_=new en(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,o,i){return this.rangedFilter_.matches(new _t(e,n))||(n=Ft.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,o,i):this.fullLimitUpdateChild_(t,e,n,o,i)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Ft.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Ft.EMPTY_NODE.withIndex(this.index_);var o=void 0;o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var i=0;o.hasNext()&&i<this.limit_;){var a=o.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),i++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Ft.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(o=void 0,this.reverse_){o=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else o=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();i=0;for(var h=!1;o.hasNext();)a=o.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&i<this.limit_&&c(a,u)<=0?i++:r=r.updateImmediateChild(a.name,Ft.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,o){var i;if(this.reverse_){var a=this.index_.getCompare();i=function(t,e){return a(e,t)}}else i=this.index_.getCompare();var s=t;v.assert(s.numChildren()==this.limit_,"");var u=new _t(e,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var h=s.getImmediateChild(e),d=r.getChildAfterChild(this.index_,c,this.reverse_);null!=d&&(d.name==e||s.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var f=null==d?1:i(d,u);if(l&&!n.isEmpty()&&f>=0)return null!=o&&o.trackChildChange(pe.childChangedChange(e,n,h)),s.updateImmediateChild(e,n);null!=o&&o.trackChildChange(pe.childRemovedChange(e,h));var p=s.updateImmediateChild(e,Ft.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=o&&o.trackChildChange(pe.childAddedChange(d.name,d.node)),p.updateImmediateChild(d.name,d.node)):p}return n.isEmpty()?t:l&&i(c,u)>=0?(null!=o&&(o.trackChildChange(pe.childRemovedChange(c.name,c.node)),o.trackChildChange(pe.childAddedChange(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(c.name,Ft.EMPTY_NODE)):t},t}(),rn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ot}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return v.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return v.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:L},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return v.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return v.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:j},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return v.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Ot&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Ot},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new ve(this.getIndex()):this.hasLimit()?new nn(this):new en(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===Ot?e=n.PRIORITY_INDEX:this.index_===Gt?e=n.VALUE_INDEX:this.index_===Ct?e=n.KEY_INDEX:(v.assert(this.index_ instanceof Kt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=v.stringify(e),this.startSet_&&(r[n.START_AT]=v.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+v.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=v.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+v.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),on=function(t){function e(e,n){if(!(e instanceof tn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,rn.DEFAULT,!1)||this}return g.__extends(e,t),e.prototype.getKey=function(){return v.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return v.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof X||(null===this.path.getFront()?function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),pt("Reference.child",1,n,!1)}(0,0,t):pt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){v.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){v.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){v.validateArgCount("Reference.set",1,2,arguments.length),vt("Reference.set",this.path),ut("Reference.set",1,t,this.path,!1),v.validateCallback("Reference.set",2,e,!0);var n=new v.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(v.validateArgCount("Reference.update",1,2,arguments.length),vt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,M("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}lt("Reference.update",1,t,this.path,!1),v.validateCallback("Reference.update",2,e,!0);var o=new v.Deferred;return this.repo.update(this.path,t,o.wrapCallback(e)),o.promise},e.prototype.setWithPriority=function(t,e,n){if(v.validateArgCount("Reference.setWithPriority",2,3,arguments.length),vt("Reference.setWithPriority",this.path),ut("Reference.setWithPriority",1,t,this.path,!1),ht("Reference.setWithPriority",2,e,!1),v.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new v.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return v.validateArgCount("Reference.remove",0,1,arguments.length),vt("Reference.remove",this.path),v.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(v.validateArgCount("Reference.transaction",1,3,arguments.length),vt("Reference.transaction",this.path),v.validateCallback("Reference.transaction",1,t,!1),v.validateCallback("Reference.transaction",2,e,!0),function(t,e,r,o){if(void 0!==n&&"boolean"!=typeof n)throw new Error(v.errorPrefix("Reference.transaction",3,!0)+"must be a boolean.")}(),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new v.Deferred;return"function"==typeof e&&r.promise.catch(function(){}),this.repo.startTransaction(this.path,t,function(t,n,o){t?r.reject(t):r.resolve(new mt(n,o)),"function"==typeof e&&e(t,n,o)},n),r.promise},e.prototype.setPriority=function(t,e){v.validateArgCount("Reference.setPriority",1,2,arguments.length),vt("Reference.setPriority",this.path),ht("Reference.setPriority",1,t,!1),v.validateCallback("Reference.setPriority",2,e,!0);var n=new v.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){v.validateArgCount("Reference.push",0,2,arguments.length),vt("Reference.push",this.path),ut("Reference.push",1,t,this.path,!0),v.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),o=bt(r),i=this.child(o),a=this.child(o);return n=null!=t?i.set(t,e).then(function(){return a}):Promise.resolve(a),i.then=n.then.bind(n),i.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),i},e.prototype.onDisconnect=function(){return vt("Reference.onDisconnect",this.path),new gt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(Jt);Jt.__referenceConstructor=on,Ee.__referenceConstructor=on;var an=function(){this.children={},this.childCount=0,this.value=null},sn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new an),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,r=e instanceof X?e:new X(e),o=this;null!==(n=r.getFront());)o=new t(n,o,v.safeGet(o.node_.children,n)||new an),r=r.popFront();return o},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){v.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;v.forEach(this.node_.children,function(r,o){e(new t(r,n,o))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new X(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=v.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),un=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});tn.MAX_TRANSACTION_RETRIES_=25,tn.prototype.transactions_init_=function(){this.transactionQueueTree_=new sn},tn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var o=function(){},i=new on(this,t);i.on("value",o);var a={path:t,update:e,onComplete:n,status:null,order:T(),applyLocally:r,retryCount:0,unwatcher:function(){i.off("value",o)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=this.getLatestState_(t);a.currentInputSnapshot=s;var u=a.update(s.val());if(void 0===u){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var c=new Qt(a.currentInputSnapshot,new on(this,a.path),Ot);a.onComplete(null,!1,c)}}else{ct("transaction failed: Data returned ",u,a.path),a.status=un.RUN;var l=this.transactionQueueTree_.subTree(t),h=l.getValue()||[];h.push(a),l.setValue(h);var d=void 0;"object"==typeof u&&null!==u&&v.contains(u,".priority")?(d=v.safeGet(u,".priority"),v.assert(st(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(this.serverSyncTree_.calcCompleteEventCache(t)||Ft.EMPTY_NODE).getPriority().val(),d=d;var f=this.generateServerValues(),p=Bt(u,d),y=re(p,f);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=y,a.currentWriteId=this.getNextWriteId_();var g=this.serverSyncTree_.applyUserOverwrite(t,y,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,g),this.sendReadyTransactions_()}},tn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Ft.EMPTY_NODE},tn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);v.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return t.status===un.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},tn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map(function(t){return t.currentWriteId}),o=this.getLatestState_(t,r),i=o,a=o.hash(),s=0;s<e.length;s++){var u=e[s];v.assert(u.status===un.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=un.SENT,u.retryCount++;var c=X.relativePath(t,u.path);i=i.updateChild(c,u.currentOutputSnapshotRaw)}var l=i.val(!0),h=t;this.server_.put(h.toString(),l,function(r){n.log_("transaction put response",{path:h.toString(),status:r});var o=[];if("ok"===r){for(var i=[],a=0;a<e.length;a++){if(e[a].status=un.COMPLETED,o=o.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new on(n,e[a].path),c=new Qt(s,u,Ot);i.push(e[a].onComplete.bind(null,null,!0,c))}e[a].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,o),a=0;a<i.length;a++)Q(i[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status=e[a].status===un.SENT_NEEDS_ABORT?un.NEEDS_ABORT:un.RUN;else for(M("transaction at "+h.toString()+" failed: "+r),a=0;a<e.length;a++)e[a].status=un.NEEDS_ABORT,e[a].abortReason=r;n.rerunTransactions_(t)}},a)},tn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},tn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],o=t.filter(function(t){return t.status===un.RUN}).map(function(t){return t.currentWriteId}),i=0;i<t.length;i++){var a=t[i],s=X.relativePath(e,a.path),u=!1,c=void 0;if(v.assert(null!==s,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===un.NEEDS_ABORT)u=!0,c=a.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===un.RUN)if(a.retryCount>=tn.MAX_TRANSACTION_RETRIES_)u=!0,c="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var l=this.getLatestState_(a.path,o);a.currentInputSnapshot=l;var h=t[i].update(l.val());if(void 0!==h){ct("transaction failed: Data returned ",h,a.path);var d=Bt(h);"object"==typeof h&&null!=h&&v.contains(h,".priority")||(d=d.updatePriority(l.getPriority()));var f=a.currentWriteId,p=this.generateServerValues(),y=re(d,p);a.currentOutputSnapshotRaw=d,a.currentOutputSnapshotResolved=y,a.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(f),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(a.path,y,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(f,!0))}else u=!0,c="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],u&&(t[i].status=un.COMPLETED,setTimeout(t[i].unwatcher,Math.floor(0)),t[i].onComplete))if("nodata"===c){var g=new on(this,t[i].path),m=new Qt(t[i].currentInputSnapshot,g,Ot);n.push(t[i].onComplete.bind(null,null,!1,m))}else n.push(t[i].onComplete.bind(null,new Error(c),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),i=0;i<n.length;i++)Q(n[i]);this.sendReadyTransactions_()}},tn.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},tn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},tn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var o=0;o<r.length;o++)e.push(r[o]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},tn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,o=0;o<n.length;o++)n[o].status!==un.COMPLETED&&(n[r]=n[o],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},tn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},tn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],o=-1,i=0;i<e.length;i++)e[i].status===un.SENT_NEEDS_ABORT||(e[i].status===un.SENT?(v.assert(o===i-1,"All SENT items should be at beginning of queue."),o=i,e[i].status=un.SENT_NEEDS_ABORT,e[i].abortReason="set"):(v.assert(e[i].status===un.RUN,"Unexpected transaction status in abort"),e[i].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[i].currentWriteId,!0)),e[i].onComplete&&n.push(e[i].onComplete.bind(null,new Error("set"),!1,null))));for(-1===o?t.setValue(null):e.length=o+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),i=0;i<n.length;i++)Q(n[i])}};var cn,ln=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return cn||(cn=new t),cn},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&x("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=et(n),o=r.repoInfo;return yt("Invalid Firebase Database URL",1,r),r.path.isEmpty()||x("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,t).database},t.prototype.deleteRepo=function(t){var e=v.safeGet(this.repos_,t.app.name);e&&v.safeGet(e,t.repoInfo_.toURLString())===t||x("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=v.safeGet(this.repos_,e.name);n||(this.repos_[e.name]=n={});var r=v.safeGet(n,t.toURLString());return r&&x("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new tn(t,this.useRestClient_,e),n[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),hn=function(){function t(t){this.repo_=t,t instanceof tn||x("Don't call new Database() directly - please use firebase.database()."),this.root_=new on(t,X.Empty),this.INTERNAL=new dn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),v.validateArgCount("database.ref",0,1,arguments.length),t instanceof on?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),v.validateArgCount(e,1,1,arguments.length);var n=et(t);yt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&x(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&x("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){v.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){v.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),dn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return g.__awaiter(this,void 0,void 0,function(){return g.__generator(this,function(t){return this.database.checkDeleted_("delete"),ln.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),fn=Object.freeze({forceLongPolling:function(){Ge.forceDisallow(),qe.forceAllow()},forceWebSockets:function(){qe.forceDisallow()},isWebSocketsAvailable:function(){return Ge.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),pn=Ze;Ze.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ze.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var vn=Object.freeze({DataConnection:pn,RealTimeConnection:Qe,hijackHash:function(t){var e=Ze.prototype.put;return Ze.prototype.put=function(n,r,o,i){void 0!==i&&(i=t()),e.call(this,n,r,o,i)},function(){Ze.prototype.put=e}},ConnectionTarget:tt,queryIdentifier:function(t){return t.queryIdentifier()},listens:function(t){return t.repo.persistentConnection_.listens_},forceRestClient:function(t){ln.getInstance().forceRestClient(t)}}),yn=hn.ServerValue;function gn(e){var n=e.INTERNAL.registerService("database",function(t,e,n){return ln.getInstance().databaseFromApp(t,n)},{Reference:on,Query:Jt,Database:hn,enableLogging:A,INTERNAL:fn,ServerValue:yn,TEST_ACCESS:vn},null,!0);v.isNodeSdk()&&(t.exports=n)}gn(m),e.registerDatabase=gn,e.Database=hn,e.Query=Jt,e.Reference=on,e.enableLogging=A,e.ServerValue=yn,e.DataSnapshot=Qt,e.OnDisconnect=gt},NV0k:function(t,e){e.f={}.propertyIsEnumerable},NegM:function(t,e,n){var r=n("2faE"),o=n("rr1i");t.exports=n("jmDH")?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},"NsO/":function(t,e,n){var r=n("M1xp"),o=n("Jes0");t.exports=function(t){return r(o(t))}},Ojgd:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},P2sY:function(t,e,n){t.exports={default:n("UbbE"),__esModule:!0}},Pdpc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.date=function(t){return o.isPresent(r.Validators.required(t))?null:o.isDate(t.value)?null:{date:!0}}},PoRY:function(t,e,n){"use strict";n.r(e);var r=n("YHbO"),o=n("QbLZ"),i=n.n(o),a=n("sk9p"),s=n.n(a),u=n("FyfS"),c=n.n(u);function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments[1];"string"==typeof e&&(e="^(?:"+e+")$");var n=t.match(e);return null!==n&&n[0].length===t.length}function h(t){return t[0]}function d(t){return t[1]}function f(t){return t[2]||[]}function p(t){return t[8]}function v(t){return t[0]}function y(t){return t[1]}function g(t){return t[2]||[]}function m(t,e){return t[3]||function(t){return t[4]}(e)}function b(t,e){return t[4]||function(t){return t[7]}(e)}function _(t){return"$1"!==t&&/\d/.test(t.replace("$1",""))}function w(t){return t[5]||y(t)}function E(t,e){return e.countries[e.country_phone_code_to_countries[t][0]]}function C(t){return t[9]}function S(t,e){return C(t)?C(t)[e]:void 0}function T(t){return S(t,1)}var I={formatExtension:function(t,e){return t+" ext. "+e}};function O(t,e,n,r,o){var a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments[1],n=arguments[2],r=arguments[3],o=arguments[4],a=void 0,s=void 0,u=void 0,c=void 0;if("string"==typeof t)if("string"==typeof n)a={phone:t,country:e},s=n,o?(u=r,c=o):c=r;else{if(a={phone:t},"string"!=typeof e)throw new Error("Format type argument not passed for `format()`");s=e,r?(u=n,c=r):c=n}else a=t,s=e,r?(u=n,c=r):c=n;if(!c)throw new Error("Metadata is required");switch(s){case"International":case"E.164":case"International_plaintext":case"National":case"RFC3966":break;default:throw new Error('Unknown format type argument passed to "format()": "'+s+'"')}return{input:a,format_type:s,options:u=u?i()({},I,u):I,metadata:c}}(t,e,n,r,o),s=a.input,u=a.format_type,c=a.options,l=a.metadata,d=void 0;s.country&&(d=l.countries[s.country]);var f=J(s.phone,l),p=f.country_phone_code,v=f.number;if(p){if(s.country&&d&&p!==h(d))return s.phone;d=E(p,l)}if(!d)return s.phone;switch(u){case"International":if(!v)return"+"+h(d);var y=A(v,"International",!1,d),g="+"+h(d)+" "+y;return s.ext||0===s.ext?c.formatExtension(g,s.ext):g;case"E.164":case"International_plaintext":return"+"+h(d)+s.phone;case"RFC3966":return"+"+h(d)+s.phone+(s.ext||0===s.ext?";ext="+s.ext:"");case"National":if(!v)return"";var m=A(v,"National",!1,d);return s.ext||0===s.ext?c.formatExtension(m,s.ext):m}}var D=/(\$\d)/;function N(t,e,n,r,o){var i=new RegExp(v(e)),a=m(e,o),s=!a||a&&b(e,o)&&!r;if(!n&&!s)return t.replace(i,y(e).replace(D,a));var u=t.replace(i,n?w(e):y(e));return n?R(u):u}function A(t,e,n,r){var o=function(t,e){var n=!0,r=!1,o=void 0;try{for(var i,a=c()(t);!(n=(i=a.next()).done);n=!0){var s=i.value;if(g(s).length>0){var u=g(s)[g(s).length-1];if(0!==e.search(u))continue}if(l(e,new RegExp(v(s))))return s}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}(f(r),t);return o?N(t,o,"International"===e,n,r):t}function R(t){return t.replace(new RegExp("["+F+"]+","g")," ").trim()}function k(t,e,n){var r=x(t,e,n),o=r.input;if(o&&o.country){var i=o.phone,a=r.metadata.countries[o.country];if(P(i,d(a)))return P(i,function(t){return S(t,3)}(a))?"PREMIUM_RATE":P(i,function(t){return S(t,2)}(a))?"TOLL_FREE":P(i,function(t){return S(t,9)}(a))?"SHARED_COST":P(i,function(t){return S(t,8)}(a))?"VOIP":P(i,function(t){return S(t,4)}(a))?"PERSONAL_NUMBER":P(i,function(t){return S(t,7)}(a))?"PAGER":P(i,function(t){return S(t,6)}(a))?"UAN":P(i,function(t){return S(t,5)}(a))?"VOICEMAIL":P(i,function(t){return S(t,0)}(a))?T(a)?P(i,T(a))?"FIXED_LINE_OR_MOBILE":"FIXED_LINE":"FIXED_LINE_OR_MOBILE":P(i,T(a))?"MOBILE":void 0}}function P(t,e){return l(t,e)}function x(t,e,n){var r=void 0,o=void 0;if("number"==typeof t&&(t=String(t)),"string"==typeof t?"string"==typeof e||void 0===e?(o=n,Y(t)&&(r=Q(t,e,o))):(o=e,Y(t)&&(r=Q(t,o))):(t&&t.phone&&Y(t.phone)&&(r=t),o=e),!o||!o.countries)throw new Error("Metadata is required");return{input:r,metadata:o}}var M=3,$=2,L=17,j=250,F="-\u2010-\u2015\u2212\u30fc\uff0d\uff0f/\uff0e. \xa0\xad\u200b\u2060\u3000()\uff08\uff09\uff3b\uff3d\\[\\]~\u2053\u223c\uff5e",V=";ext=([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,7})|[ \xa0\\t,]*(?:e?xt(?:ensi(?:o\u0301?|\xf3))?n?|\uff45?\uff58\uff54\uff4e?|[;,x\uff58#\uff03~\uff5e]|int|anexo|\uff49\uff4e\uff54)[:\\.\uff0e]?[ \xa0\\t,-]*([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,7})#?|[- ]+([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,5})#",U=new RegExp("(?:"+V+")$","i"),B=new RegExp("^[0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{"+$+"}$|^[+\uff0b]{0,1}(?:["+F+"]*[0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]){3,}["+F+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]*(?:"+V+")?$","i"),q=new RegExp("[+\uff0b0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]"),H=new RegExp("[^0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]+$"),W=new RegExp("^[+\uff0b]+"),G={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9"},K={country:{}};function Q(t,e,n){var r=function(t,e,n){var r=void 0,o=void 0,a=void 0;if("number"==typeof t&&(t=String(t)),"string"==typeof t&&(r=t),"string"==typeof e?(o={country:{restrict:e}},a=n):n?(o=e,a=n):a=e,!a||!a.countries)throw new Error("Metadata is required");return{text:r,options:o=o?i()({},K,o):K,metadata:a}}(t,e,n),o=r.text,a=r.options,u=r.metadata;if(a.country.default&&!u.countries[a.country.default])throw new Error("Unknown country code: "+a.country.default);if(a.country.restrict&&!u.countries[a.country.restrict])throw new Error("Unknown country code: "+a.country.restrict);var f=void 0,p=void 0;if(o&&0===o.indexOf("tel:")){var v=!0,y=!1,g=void 0;try{for(var m,b=c()(o.split(";"));!(v=(m=b.next()).done);v=!0){var _=m.value.split(":"),w=s()(_,2),C=w[1];switch(w[0]){case"tel":f=C;break;case"ext":p=C;break;case"phone-context":"+"===C[0]&&(f=C+f)}}}catch(t){y=!0,g=t}finally{try{!v&&b.return&&b.return()}finally{if(y)throw g}}}else f=X(o);if(!Y(f))return{};var S=function(t){var e=t.search(U);if(e<0)return{};var n=t.slice(0,e);if(!Y(n))return{};for(var r=t.match(U),o=1;o<r.length;){if(null!=r[o]&&r[o].length>0)return{number:n,extension:r[o]};o++}}(f);S.extension&&(f=S.number,p=S.extension);var T=J(f,u),I=T.country_phone_code,O=T.number;if(!O)return{};var D=void 0,N=void 0,A=!1;if(I){if(A=!0,a.country.restrict&&I!==h(u.countries[a.country.restrict]))return{};N=E(I,u)}else(a.country.restrict||a.country.default)&&(N=u.countries[D=a.country.restrict||a.country.default],O=z(f));if(!N)return{};var R=O;if(A||(R=tt(O,N)),!D){if(!(D=et(I,R,u)))return{};N=u.countries[D]}if(R.length>L)return{};if(!l(R,new RegExp(d(N))))return{};var k={country:D,phone:R};return p&&(k.ext=p),k}function z(t){return function(t,e){var n="",r=!0,o=!1,i=void 0;try{for(var a,s=c()(t);!(r=(a=s.next()).done);r=!0){var u=e[a.value.toUpperCase()];void 0!==u&&(n+=u)}}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,G)}function Y(t){return t.length>=$&&l(t,B)}function X(t){if(!t||t.length>j)return"";var e=t.search(q);return e<0?"":t.slice(e).replace(H,"")}function Z(t){if(!t)return"";var e=W.test(t);return t=z(t),e?"+"+t:t}function J(t,e){if(!(t=Z(t)))return{};if("+"!==t[0])return{number:t};if("0"===(t=t.slice(1))[0])return{};for(var n=1;n<=M&&n<=t.length;){var r=t.slice(0,n);if(e.country_phone_code_to_countries[r])return{country_phone_code:r,number:t.slice(n)};n++}return{}}function tt(t,e){var n=function(t){var e=t[5];return e||(e=function(t){return t[3]}(t)),e}(e);if(!t||!n)return t;var r=new RegExp("^(?:"+n+")"),o=r.exec(t);if(!o)return t;var i,a=o[o.length-1],s=function(t){return t[6]}(e);i=s&&a?t.replace(r,s):t.slice(o[0].length);var u=new RegExp(d(e));return l(t,u)&&!l(i,u)?t:i}function et(t,e,n){var r=n.country_phone_code_to_countries[t];if(1===r.length)return r[0];var o=!0,i=!1,a=void 0;try{for(var s,u=c()(r);!(o=(s=u.next()).done);o=!0){var l=s.value,h=n.countries[l];if(p(h)){if(e&&0===e.search(p(h)))return l}else if(k({phone:e,country:l},n))return l}}catch(t){i=!0,a=t}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}}function nt(t,e,n){var r=x(t,e,n),o=r.input,i=r.metadata;return!(!o||!o.country||C(i.countries[o.country])&&!k(o,i))}var rt=n("iCc5"),ot=n.n(rt),it=n("V7oC"),at=n.n(it),st=new RegExp("9","g"),ut=gt("9",15),ct=new RegExp("x"),lt=new RegExp("x","g"),ht=/\[([^\[\]])*\]/g,dt=/\d(?=[^,}][^,}])/g,ft=new RegExp("^["+F+"]*(\\$\\d["+F+"]*)+$"),pt=new RegExp("^[+\uff0b]{0,1}["+F+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]*$","i"),vt=function(){function t(e,n){if(ot()(this,t),!n||!n.countries)throw new Error("Metadata is required");e&&n.countries[e]&&(this.default_country=e),this.metadata=n,this.reset()}return at()(t,[{key:"input",value:function(t){var e=X(t);return e||t&&t.indexOf("+")>=0&&(e="+"),l(e,pt)?this.process_input(Z(e)):this.current_output}},{key:"process_input",value:function(t){if("+"===t[0]&&(this.parsed_input||(this.parsed_input+="+",this.reset_countriness()),t=t.slice(1)),this.parsed_input+=t,this.national_number+=t,this.is_international())if(this.country_phone_code)this.country||this.determine_the_country();else{if(!this.extract_country_phone_code())return this.parsed_input;this.initialize_phone_number_formats_for_this_country_phone_code(),this.reset_format(),this.determine_the_country()}else{var e=this.national_prefix;this.national_number=this.national_prefix+this.national_number,this.extract_national_prefix(),this.national_prefix!==e&&(this.matching_formats=this.available_formats,this.reset_format())}if(!this.should_format())return this.format_as_non_formatted_number();this.match_formats_by_leading_digits();var n=this.format_national_phone_number(t);return n?this.full_phone_number(n):this.parsed_input}},{key:"format_as_non_formatted_number",value:function(){return this.is_international()&&this.country_phone_code?this.national_number?(this.template="x"+gt("x",this.country_phone_code.length)+" "+gt("x",this.national_number.length),"+"+this.country_phone_code+" "+this.national_number):"+"+this.country_phone_code:this.parsed_input}},{key:"format_national_phone_number",value:function(t){var e=void 0;return this.chosen_format&&(e=this.format_next_national_number_digits(t)),this.attempt_to_format_complete_phone_number()||(this.choose_another_format()?this.reformat_national_number():e)}},{key:"reset",value:function(){return this.parsed_input="",this.current_output="",this.national_prefix="",this.national_number="",this.reset_countriness(),this.reset_format(),this}},{key:"reset_country",value:function(){this.country=this.default_country&&!this.is_international()?this.default_country:void 0}},{key:"reset_countriness",value:function(){this.reset_country(),this.default_country&&!this.is_international()?(this.country_metadata=this.metadata.countries[this.default_country],this.country_phone_code=h(this.country_metadata),this.initialize_phone_number_formats_for_this_country_phone_code()):(this.country_metadata=void 0,this.country_phone_code=void 0,this.available_formats=[],this.matching_formats=this.available_formats)}},{key:"reset_format",value:function(){this.chosen_format=void 0,this.template=void 0,this.partially_populated_template=void 0,this.last_match_position=-1}},{key:"reformat_national_number",value:function(){return this.format_next_national_number_digits(this.national_number)}},{key:"initialize_phone_number_formats_for_this_country_phone_code",value:function(){this.available_formats=f(this.country_metadata).filter(function(t){return ft.test(w(t))}),this.matching_formats=this.available_formats}},{key:"match_formats_by_leading_digits",value:function(){var t=this.national_number,e=t.length-3;e<0&&(e=0),this.matching_formats=this.matching_formats.filter(function(n){var r=g(n).length;if(0===r)return!0;var o=Math.min(e,r-1),i=g(n)[o];return new RegExp("^("+i+")").test(t)}),this.chosen_format&&-1===this.matching_formats.indexOf(this.chosen_format)&&this.reset_format()}},{key:"should_format",value:function(){return this.national_number>=3}},{key:"attempt_to_format_complete_phone_number",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,o=c()(this.matching_formats);!(t=(r=o.next()).done);t=!0){var i=r.value;if(new RegExp("^(?:"+v(i)+")$").test(this.national_number)&&this.validate_format(i)){this.reset_format(),this.chosen_format=i;var a=N(this.national_number,i,this.is_international(),this.national_prefix.length>0,this.country_metadata);if(this.create_formatting_template(i))this.reformat_national_number();else{var s=this.full_phone_number(a);this.template=s.replace(/[\d\+]/g,"x"),this.partially_populated_template=s}return a}}}catch(t){e=!0,n=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}}},{key:"full_phone_number",value:function(t){return this.is_international()?"+"+this.country_phone_code+" "+t:t}},{key:"extract_country_phone_code",value:function(){if(this.national_number){var t=J(this.parsed_input,this.metadata),e=t.country_phone_code,n=t.number;if(e)return this.country_phone_code=e,this.national_number=n,this.country_metadata=E(e,this.metadata)}}},{key:"extract_national_prefix",value:function(){if(this.national_prefix="",this.country_metadata){var t=tt(this.national_number,this.country_metadata);return t!==this.national_number&&(this.national_prefix=this.national_number.slice(0,this.national_number.length-t.length),this.national_number=t),this.national_prefix}}},{key:"choose_another_format",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,o=c()(this.matching_formats);!(t=(r=o.next()).done);t=!0){var i=r.value;if(this.chosen_format===i)return;if(this.validate_format(i)&&this.create_formatting_template(i))return this.chosen_format=i,this.last_match_position=-1,!0}}catch(t){e=!0,n=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}this.reset_country(),this.reset_format()}},{key:"validate_format",value:function(t){var e,n,r;if(this.is_international()||this.national_prefix||!(r=m(e=t,n=this.country_metadata))||!_(r)||b(e,n))return!0}},{key:"create_formatting_template",value:function(t){if(!(v(t).indexOf("|")>=0)){var e=this.get_template_for_phone_number_format_pattern(t);if(e)return this.partially_populated_template=e,this.template=this.is_international()?"x"+gt("x",this.country_phone_code.length)+" "+e:e.replace(/\d/g,"x"),this.template}}},{key:"get_template_for_phone_number_format_pattern",value:function(t){var e=m(t,this.country_metadata),n=v(t).replace(ht,"\\d").replace(dt,"\\d"),r=ut.match(n)[0];if(!(this.national_number.length>r.length)){var o=this.get_format_format(t,e),i=new RegExp("^"+n+"$"),a=this.national_number.replace(/\d/g,"9");return i.test(a)&&(r=a),r.replace(new RegExp(n),o).replace(st,"x")}}},{key:"format_next_national_number_digits",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=c()(t);!(e=(o=i.next()).done);e=!0){var a=o.value;if(-1===this.partially_populated_template.slice(this.last_match_position+1).search(ct))return this.chosen_format=void 0,this.template=void 0,void(this.partially_populated_template=void 0);this.last_match_position=this.partially_populated_template.search(ct),this.partially_populated_template=this.partially_populated_template.replace(ct,a)}}catch(t){n=!0,r=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}return function(t,e){for(var n=t.slice(0,e),r=yt("(",n)-yt(")",n);r>0&&e<t.length;)")"===t[e]&&r--,e++;return t.slice(0,e)}(this.partially_populated_template,this.last_match_position+1).replace(lt," ")}},{key:"is_international",value:function(){return this.parsed_input&&"+"===this.parsed_input[0]}},{key:"get_format_format",value:function(t,e){var n=this.is_international()?w(t):y(t);return e&&(!this.national_prefix&&_(e)||(n=n.replace(D,e))),this.is_international()?R(n):n}},{key:"determine_the_country",value:function(){this.country=et(this.country_phone_code,this.national_number,this.metadata)}}]),t}();function yt(t,e){var n=0,r=!0,o=!1,i=void 0;try{for(var a,s=c()(e);!(r=(a=s.next()).done);r=!0)a.value===t&&n++}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}function gt(t,e){if(e<1)return"";for(var n="";e>1;)1&e&&(n+=t),e>>=1,t+=t;return n+t}function mt(){var t=Array.prototype.slice.call(arguments);return t.push(r),Q.apply(this,t)}function bt(){var t=Array.prototype.slice.call(arguments);return t.push(r),O.apply(this,t)}function _t(){var t=Array.prototype.slice.call(arguments);return t.push(r),k.apply(this,t)}function wt(){return _t.apply(this,arguments)}function Et(){var t=Array.prototype.slice.call(arguments);return t.push(r),nt.apply(this,t)}function Ct(){return Et.apply(this,arguments)}function St(t){vt.call(this,t,r)}function Tt(t){vt.call(this,t,r)}function It(t){vt.call(this,t,r)}function Ot(t){return Dt(t,r)}function Dt(t,e){if(!e.countries[t])throw new Error('Unknown country: "'+t+'"');return h(e.countries[t])}n.d(e,"parse",function(){return mt}),n.d(e,"format",function(){return bt}),n.d(e,"getNumberType",function(){return _t}),n.d(e,"get_number_type",function(){return wt}),n.d(e,"isValidNumber",function(){return Et}),n.d(e,"is_valid_number",function(){return Ct}),n.d(e,"AsYouType",function(){return St}),n.d(e,"as_you_type",function(){return Tt}),n.d(e,"asYouType",function(){return It}),n.d(e,"getPhoneCode",function(){return Ot}),n.d(e,"getPhoneCodeCustom",function(){return Dt}),n.d(e,"parseCustom",function(){return Q}),n.d(e,"DIGITS",function(){return G}),n.d(e,"formatCustom",function(){return O}),n.d(e,"isValidNumberCustom",function(){return nt}),n.d(e,"getNumberTypeCustom",function(){return k}),n.d(e,"AsYouTypeCustom",function(){return vt}),n.d(e,"asYouTypeCustom",function(){return vt}),n.d(e,"DIGIT_PLACEHOLDER",function(){return"x"}),(St.prototype=Object.create(vt.prototype,{})).constructor=St,(Tt.prototype=Object.create(vt.prototype,{})).constructor=Tt,(It.prototype=Object.create(vt.prototype,{})).constructor=It},QMMT:function(t,e,n){var r=n("a0xu"),o=n("UWiX")("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},QbLZ:function(t,e,n){"use strict";e.__esModule=!0;var r,o=(r=n("P2sY"))&&r.__esModule?r:{default:r};e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},QjmD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.maxDate=function(t){if(!(o.isDate(t)||t instanceof Function))throw Error("maxDate value must be or return a formatted date");return function(e){if(o.isPresent(r.Validators.required(e)))return null;var n=new Date(e.value);return o.isDate(n)?(t instanceof Function&&(t=t()),n<=new Date(t)?null:{maxDate:!0}):{maxDate:!0}}}},Qyzf:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("yak4"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.validate=function(t){return i.creditCard(t)},t.decorators=[{type:r.Directive,args:[{selector:"[creditCard][formControlName],[creditCard][formControl],[creditCard][ngModel]",providers:[a]}]}],t}();e.CreditCardValidator=s},"RU/L":function(t,e,n){n("Rqdy");var r=n("WEpk").Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},RfKB:function(t,e,n){var r=n("2faE").f,o=n("B+OT"),i=n("UWiX")("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},Rp86:function(t,e,n){n("bBy9"),n("FlQf"),t.exports=n("fXsU")},Rqdy:function(t,e,n){var r=n("Y7ZC");r(r.S+r.F*!n("jmDH"),"Object",{defineProperty:n("2faE").f})},S1nX:function(t,e,n){"use strict";var r=n("KhEm"),o=n("yGWI"),i=n("K9Ia");function a(){return new i.a}function s(){return function(t){return Object(o.a)()((e=a,function(t){var n;n="function"==typeof e?e:function(){return e};var o=Object.create(t,r.a);return o.source=t,o.subjectFactory=n,o})(t));var e}}n.d(e,"a",function(){return s})},S5XQ:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("DKTb"),o=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.a),e}}},S5bw:function(t,e,n){"use strict";var r=n("mrSG"),o=n("K9Ia"),i=n(null),a=n("pugT"),s=n("FFOo"),u=n(null),c=function(t){function e(e,n,r){void 0===r&&(r=0);var o=t.call(this,e)||this;return o.scheduler=n,o.delay=r,o}return r.b(e,t),e.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new l(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(u.a.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(u.a.createError(t))},e.prototype._complete=function(){this.scheduleMessage(u.a.createComplete())},e}(s.a),l=function(t,e){this.notification=t,this.destination=e},h=n("8g8A"),d=n(null);n.d(e,"ReplaySubject",function(){return f});var f=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return r.b(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new p(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new h.a;if(this.isStopped||this.hasError?e=a.a.EMPTY:(this.observers.push(t),e=new d.a(this,t)),o&&t.add(t=new c(t,o)),n)for(var s=0;s<i&&!t.closed;s++)t.next(r[s]);else for(s=0;s<i&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||i.a).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(t-r[i].time<n);)i++;return o>e&&(i=Math.max(i,o-e)),i>0&&r.splice(0,i),r},e}(o.a),p=function(t,e){this.time=t,this.value=e}},S8xG:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("umdh")),r(n("QjmD"))},SBuE:function(t,e){t.exports={}},SEkw:function(t,e,n){t.exports={default:n("RU/L"),__esModule:!0}},"Sm/R":function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("Wp8D")),r(n("5OUi"))},Tm9b:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("wYKn")),r(n("CSYt"))},"U+KD":function(t,e,n){var r=n("B+OT"),o=n("JB68"),i=n("VVlx")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},UO39:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},UR0p:function(t,e,n){"use strict";n.r(e),n.d(e,"VirtualTimeScheduler",function(){return i}),n.d(e,"VirtualAction",function(){return a});var r=n("mrSG"),o=n(null),i=function(t){function e(e,n){void 0===e&&(e=a),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=t.call(this,e,function(){return r.frame})||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return r.b(e,t),e.prototype.flush=function(){for(var t,e,n=this.actions,r=this.maxFrames;(e=n.shift())&&(this.frame=e.delay)<=r&&!(t=e.execute(e.state,e.delay)););if(t){for(;e=n.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(n(null).a),a=function(t){function e(e,n,r){void 0===r&&(r=e.index+=1);var o=t.call(this,e,n)||this;return o.scheduler=e,o.work=n,o.index=r,o.active=!0,o.index=e.index=r,o}return r.b(e,t),e.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var o=new e(this.scheduler,this.work);return this.add(o),o.schedule(n,r)},e.prototype.requestAsyncId=function(t,n,r){void 0===r&&(r=0),this.delay=t.frame+r;var o=t.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(o.a)},UWiX:function(t,e,n){var r=n("29s/")("wks"),o=n("YqAc"),i=n("5T2Y").Symbol,a="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=r},UbbE:function(t,e,n){n("o8NH"),t.exports=n("WEpk").Object.assign},V7oC:function(t,e,n){"use strict";e.__esModule=!0;var r,o=(r=n("SEkw"))&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},VBAv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.digits=function(t){return o.isPresent(r.Validators.required(t))?null:/^\d+$/.test(t.value)?null:{digits:!0}}},VKFn:function(t,e,n){n("bBy9"),n("FlQf"),t.exports=n("ldVq")},VNr4:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("mrSG"),o=n("6blF"),i=n("isby"),a=n("G5J1"),s=n("zotm"),u=n("MGBS"),c=n("67Y/");function l(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object(i.a)(e[0])&&(e=e[0]),0===e.length?a.a:t?l(e).pipe(Object(c.a)(function(e){return t.apply(void 0,e)})):new o.a(function(t){return new h(t,e)})}var h=function(t){function e(e,n){var r=t.call(this,e)||this;r.sources=n,r.completed=0,r.haveValues=0;var o=n.length;r.values=new Array(o);for(var i=0;i<o;i++){var a=n[i],u=Object(s.a)(r,a,null,i);u&&r.add(u)}return r}return r.b(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.values[n]=e,o._hasValue||(o._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.values,o=r.length;t._hasValue?(this.completed++,this.completed===o&&(n===o&&e.next(r),e.complete())):e.complete()},e}(u.a)},VVlx:function(t,e,n){var r=n("29s/")("keys"),o=n("YqAc");t.exports=function(t){return r[t]||(r[t]=o(t))}},W070:function(t,e,n){var r=n("NsO/"),o=n("tEej"),i=n("D8kY");t.exports=function(t){return function(e,n,a){var s,u=r(e),c=o(u.length),l=i(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},WEpk:function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},Wcq6:function(t,e,n){"use strict";n("lcbw");var r,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=o},WcuY:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("cI4K"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.ngOnInit=function(){this.validator=i.min(this.min)},t.prototype.ngOnChanges=function(t){for(var e in t)"min"===e&&(this.validator=i.min(t[e].currentValue),this.onChange&&this.onChange())},t.prototype.validate=function(t){return this.validator(t)},t.prototype.registerOnValidatorChange=function(t){this.onChange=t},t.decorators=[{type:r.Directive,args:[{selector:"[min][formControlName],[min][formControl],[min][ngModel]",providers:[a]}]}],t.propDecorators={min:[{type:r.Input}]},t}();e.MinValidator=s},Wp8D:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("Sm/R"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.ngOnInit=function(){this.validator=i.minDate(this.minDate)},t.prototype.ngOnChanges=function(t){for(var e in t)"minDate"===e&&(this.validator=i.minDate(t[e].currentValue),this.onChange&&this.onChange())},t.prototype.validate=function(t){return this.validator(t)},t.prototype.registerOnValidatorChange=function(t){this.onChange=t},t.decorators=[{type:r.Directive,args:[{selector:"[minDate][formControlName],[minDate][formControl],[minDate][ngModel]",providers:[a]}]}],t.propDecorators={minDate:[{type:r.Input}]},t}();e.MinDateValidator=s},Y7ZC:function(t,e,n){var r=n("5T2Y"),o=n("WEpk"),i=n("2GTP"),a=n("NegM"),s=n("B+OT"),u=function(t,e,n){var c,l,h,d=t&u.F,f=t&u.G,p=t&u.S,v=t&u.P,y=t&u.B,g=t&u.W,m=f?o:o[e]||(o[e]={}),b=m.prototype,_=f?r:p?r[e]:(r[e]||{}).prototype;for(c in f&&(n=e),n)(l=!d&&_&&void 0!==_[c])&&s(m,c)||(h=l?_[c]:n[c],m[c]=f&&"function"!=typeof _[c]?n[c]:y&&l?i(h,r):g&&_[c]==h?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):v&&"function"==typeof h?i(Function.call,h):h,v&&((m.virtual||(m.virtual={}))[c]=h,t&u.R&&b&&!b[c]&&a(b,c,h)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},YHbO:function(t){t.exports={country_phone_code_to_countries:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],800:["001"],808:["001"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],870:["001"],878:["001"],880:["BD"],881:["001"],882:["001"],883:["001"],886:["TW"],888:["001"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],979:["001"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","[46]\\d{4}|[01589]\\d{5}"],AD:["376","[16]\\d{5,8}|[37-9]\\d{5}",[["(\\d{3})(\\d{3})","$1 $2",["[137-9]|6[0-8]"]],["(\\d{4})(\\d{4})","$1 $2",["180","180[02]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["690"]]]],AE:["971","[2-79]\\d{7,8}|800\\d{2,9}",[["([2-4679])(\\d{3})(\\d{4})","$1 $2 $3",["[2-4679][2-8]"]],["(5\\d)(\\d{3})(\\d{4})","$1 $2 $3",["5"]],["([479]00)(\\d)(\\d{5})","$1 $2 $3",["[479]00"],"$1"],["([68]00)(\\d{2,9})","$1 $2",["[68]00"],"$1"]],"0","0$1"],AF:["93","[2-7]\\d{8}",[["([2-7]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"]]],"0","0$1"],AG:["1","[2589]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"268"],AI:["1","[2589]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"264"],AL:["355","[2-57]\\d{7}|6\\d{8}|8\\d{5,7}|9\\d{5}",[["(4)(\\d{3})(\\d{4})","$1 $2 $3",["4[0-6]"]],["(6\\d)(\\d{3})(\\d{4})","$1 $2 $3",["6"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4[7-9]"]],["(\\d{3})(\\d{3,5})","$1 $2",["[235][16-9]|[79]|8[016-9]"]]],"0","0$1"],AM:["374","[1-9]\\d{7}",[["(\\d{2})(\\d{6})","$1 $2",["1|47"]],["(\\d{2})(\\d{6})","$1 $2",["4[1349]|[5-7]|88|9[1-9]"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23]"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8|90"],"0 $1"]],"0","(0$1)"],AO:["244","[29]\\d{8}",[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3"]]],AR:["54","11\\d{8}|[2368]\\d{9}|9\\d{10}",[["([68]\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"]],["(9)(11)(\\d{4})(\\d{4})","$2 15-$3-$4",["911"],null,null,"$1 $2 $3-$4"],["(9)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9(?:2[2-4689]|3[3-8])","9(?:2(?:2[013]|3[067]|49|6[01346]|8|9[147-9])|3(?:36|4[1-358]|5[138]|6|7[069]|8[013578]))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[4-6]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1-39])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))"],null,null,"$1 $2 $3-$4"],["(9)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9[23]"],null,null,"$1 $2 $3-$4"],["(11)(\\d{4})(\\d{4})","$1 $2-$3",["11"],null,"true"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["2(?:2[013]|3[067]|49|6[01346]|8|9[147-9])|3(?:36|4[1-358]|5[138]|6|7[069]|8[013578])","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[4-6]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1-39])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))"],null,"true"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["[23]"],null,"true"]],"0","0$1","0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))?15)?","9$1"],AS:["1","[5689]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"684"],AT:["43","[1-9]\\d{3,12}",[["(116\\d{3})","$1",["116"],"$1"],["(1)(\\d{3,12})","$1 $2",["1"]],["(5\\d)(\\d{3,5})","$1 $2",["5[079]"]],["(5\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["5[079]"]],["(5\\d)(\\d{4})(\\d{4,7})","$1 $2 $3",["5[079]"]],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:[28]0|32)|[89]"]],["(\\d{4})(\\d{3,9})","$1 $2",["2|3(?:1[1-578]|[3-8])|4[2378]|5[2-6]|6(?:[12]|4[1-9]|5[468])|7(?:[24][1-8]|35|[5-79])"]]],"0","0$1"],AU:["61","1\\d{4,9}|[2-578]\\d{8}",[["([2378])(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|[45]"],"0$1"],["(16)(\\d{3,4})","$1 $2",["16"],"0$1"],["(16)(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(1[389]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["1[389]0","1(?:[38]0|9)0"]],["(180)(2\\d{3})","$1 $2",["180","1802"]],["(19\\d)(\\d{3})","$1 $2",["19[13]"]],["(19\\d{2})(\\d{4})","$1 $2",["19[679]"]],["(13)(\\d{2})(\\d{2})","$1 $2 $3",["13[1-9]"]]],"0",null,null,null,null,null,["[237]\\d{8}|8(?:51(?:0(?:0[03-9]|[1247]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-6])|1(?:1[69]|[23]\\d|4[0-4]))|[6-8]\\d{4}|9(?:[02-9]\\d{3}|1(?:[0-57-9]\\d{2}|6[0135-9]\\d)))\\d{3}","14(?:5\\d|71)\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[6-9]|7[02-9]|8[12457-9]|9[017-9])\\d{6}","180(?:0\\d{3}|2)\\d{3}","19(?:0[0126]\\d|[679])\\d{5}","500\\d{6}",null,null,"16\\d{3,7}","550\\d{6}","13(?:00\\d{3}|45[0-4]|\\d)\\d{3}"]],AW:["297","[25-9]\\d{6}",[["(\\d{3})(\\d{4})","$1 $2"]]],AX:["358","1\\d{5,11}|[35]\\d{5,9}|2\\d{4,9}|4\\d{5,10}|6\\d{7,9}|7\\d{4,9}|8\\d{6,9}",[["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[6-8])0"]],["(75\\d{3})","$1",["75[12]"]],["(116\\d{3})","$1",["116"],"$1"],["(\\d{2})(\\d{4,10})","$1 $2",["[14]|2[09]|50|7[135]"]],["(\\d)(\\d{4,11})","$1 $2",["[25689][1-8]|3"]]],"0",null,null,null,null,null,["18[1-8]\\d{3,9}","4\\d{5,10}|50\\d{4,8}","800\\d{4,7}","[67]00\\d{5,6}",null,null,"[13]0\\d{4,8}|2(?:0(?:[016-8]\\d{3,7}|[2-59]\\d{2,7})|9\\d{4,8})|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{2,7})"]],AZ:["994","[1-9]\\d{8}",[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2(?:[0-36]|[45]2)|365"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[4-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"]],"0","(0$1)"],BA:["387","[3-9]\\d{7,8}",[["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-356]|[7-9]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6[047]"]]],"0","0$1"],BB:["1","[2589]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"246"],BD:["880","[2-79]\\d{5,9}|1\\d{9}|8[0-7]\\d{4,8}",[["(2)(\\d{7,8})","$1-$2",["2"]],["(\\d{2})(\\d{4,6})","$1-$2",["[3-79]1"]],["(\\d{4})(\\d{3,6})","$1-$2",["1|3(?:0|[2-58]2)|4(?:0|[25]2|3[23]|[4689][25])|5(?:[02-578]2|6[25])|6(?:[0347-9]2|[26][25])|7[02-9]2|8(?:[023][23]|[4-7]2)|9(?:[02][23]|[458]2|6[016])"]],["(\\d{3})(\\d{3,7})","$1-$2",["[3-79][2-9]|8"]]],"0","0$1"],BE:["32","[1-9]\\d{7,8}",[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4[6-9]"]],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[23]|4[23]|9[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[156]|7[018]|8(?:0[1-9]|[1-79])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"]]],"0","0$1"],BF:["226","[25-7]\\d{7}",[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]]],BG:["359","[23567]\\d{5,7}|[489]\\d{6,8}",[["(2)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"]],["(2)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"]],["(\\d{3})(\\d{4})","$1 $2",["43[124-7]|70[1-9]"]],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[124-7]|70[1-9]"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[78]00"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["99[69]"]],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"]],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["48|8[7-9]|9[08]"]]],"0","0$1"],BH:["973","[136-9]\\d{7}",[["(\\d{4})(\\d{4})","$1 $2"]]],BI:["257","[267]\\d{7}",[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]]],BJ:["229","[2689]\\d{7}",[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2689]"]]]],BL:["590","[56]\\d{8}",[["([56]\\d{2})(\\d{2})(\\d{4})","$1 $2-$3",["590|69[01]"]]],"0",null,null,null,null,null,["590(?:2[7-9]|5[12]|87)\\d{4}","69(?:0\\d{2}|1(?:2[29]|3[0-5]))\\d{4}"]],BM:["1","[4589]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"441"],BN:["673","[2-578]\\d{6}",[["([2-578]\\d{2})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","[23467]\\d{7}|8\\d{8}",[["([234])(\\d{7})","$1 $2",["[2-4]"]],["([67]\\d{7})","$1",["[67]"]],["(800)(\\d{2})(\\d{4})","$1 $2 $3",["800"]]],"0",null,"0(1\\d)?"],BQ:["599","[347]\\d{6}",[["(\\d{3})(\\d{4})","$1 $2",["[13-7]"]],["(9)(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],null,null,null,null,null,null,["(?:318[023]|41(?:6[023]|70)|7(?:1[578]|50)\\d)\\d{3}","(?:31(?:8[14-8]|9[14578])|416[145-9]|7(?:0[01]|7[07]|8\\d|9[056])\\d)\\d{3}"]],BR:["55","[1-46-9]\\d{7,10}|5(?:[0-4]\\d{7,9}|5(?:[2-8]\\d{7}|9\\d{7,8}))",[["(\\d{4})(\\d{4})","$1-$2",["300|40[02]","300|40(?:0|20)"]],["([3589]00)(\\d{2,3})(\\d{4})","$1 $2 $3",["[3589]00"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["[1-9][1-9]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[1-9][1-9]9"],"($1)"]],"0",null,"0(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","[2589]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"242"],BT:["975","[1-8]\\d{6,7}",[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1|77"]],["([2-8])(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]]]],BW:["267","[2-79]\\d{6,7}",[["(\\d{3})(\\d{4})","$1 $2",["[2-6]"]],["(7\\d)(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(90)(\\d{5})","$1 $2",["90"]]]],BY:["375","[1-4]\\d{8}|8(?:0(?:0\\d{3,7}|[13]\\d{7})|(?:10|20\\d)\\d{7})|9\\d{9,10}",[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["17[0-3589]|2[4-9]|[34]","17(?:[02358]|1[0-2]|9[0189])|2[4-9]|[34]"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:5[24]|6[235]|7[467])|2(?:1[246]|2[25]|3[26])","1(?:5[24]|6(?:2|3[04-9]|5[0346-9])|7(?:[46]|7[37-9]))|2(?:1[246]|2[25]|3[26])"],"8 0$1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["([89]\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8[01]|9"],"8 $1"],["(82\\d)(\\d{4})(\\d{4})","$1 $2 $3",["82"],"8 $1"],["(800)(\\d{3})","$1 $2",["800"],"8 $1"],["(800)(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"]],"8",null,"8?0?"],BZ:["501","[2-8]\\d{6}|0\\d{10}",[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(0)(800)(\\d{4})(\\d{3})","$1-$2-$3-$4",["080","0800"]]]],CA:["1","[2-9]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,null,["(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|65)|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|48|79|8[17])|6(?:0[04]|13|22|39|47)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}",null,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}","900[2-9]\\d{6}","5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}"]],CC:["61","[1458]\\d{5,9}",[["([2378])(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|[45]"],"0$1"],["(16)(\\d{3,4})","$1 $2",["16"],"0$1"],["(16)(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(1[389]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["1[389]0","1(?:[38]0|9)0"]],["(180)(2\\d{3})","$1 $2",["180","1802"]],["(19\\d)(\\d{3})","$1 $2",["19[13]"]],["(19\\d{2})(\\d{4})","$1 $2",["19[679]"]],["(13)(\\d{2})(\\d{2})","$1 $2 $3",["13[1-9]"]]],"0",null,null,null,null,null,["8(?:51(?:0(?:02|31|60)|118)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:08|22|68)|4[29]8|62\\d|70[23]|959))\\d{3}","14(?:5\\d|71)\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[6-9]|7[02-9]|8[12547-9]|9[017-9])\\d{6}","180(?:0\\d{3}|2)\\d{3}","19(?:0[0126]\\d|[679])\\d{5}","500\\d{6}",null,null,null,"550\\d{6}","13(?:00\\d{2})?\\d{4}"]],CD:["243","[2-6]\\d{6}|[18]\\d{6,8}|9\\d{8}",[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["12"]],["([89]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8[0-2459]|9"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"]],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"]]],"0","0$1"],CF:["236","[278]\\d{7}",[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]]],CG:["242","[028]\\d{8}",[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["801"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["800"]]]],CH:["41","[2-9]\\d{8}|860\\d{9}",[["([2-9]\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]|[89]1"]],["([89]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["860"]]],"0","0$1"],CI:["225","[02-8]\\d{7}",[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]]],CK:["682","[2-8]\\d{4}",[["(\\d{2})(\\d{3})","$1 $2"]]],CL:["56","1230\\d{7}|[2-46-9]\\d{8,10}|5[1-3578]\\d{7}",[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[23]"],"($1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[357]|4[1-35]|6[13-57]"],"($1)"],["(9)(\\d{4})(\\d{4})","$1 $2 $3",["9"]],["(44)(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["([68]00)(\\d{3})(\\d{3,4})","$1 $2 $3",["[68]00"],"$1"],["(600)(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["600"],"$1"],["(1230)(\\d{3})(\\d{4})","$1 $2 $3",["123","1230"],"$1"],["(\\d{5})(\\d{4})","$1 $2",["219"],"($1)"]],"0","0$1","0|(1(?:1[0-69]|2[0-57]|5[13-58]|69|7[0167]|8[018]))"],CM:["237","[2368]\\d{7,8}",[["([26])(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[23]|88"]]]],CN:["86","[1-7]\\d{6,11}|8[0-357-9]\\d{6,9}|9\\d{7,10}",[["([48]00)(\\d{3})(\\d{4})","$1 $2 $3",["[48]00"]],["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2\\d)[19]","(?:10|2\\d)(?:10|9[56])","(?:10|2\\d)(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["[3-9]","[3-9]\\d\\d[19]","[3-9]\\d\\d(?:10|9[56])"],"0$1"],["(21)(\\d{4})(\\d{4,6})","$1 $2 $3",["21"],"0$1","true"],["([12]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["10[1-9]|2[02-9]","10[1-9]|2[02-9]","10(?:[1-79]|8(?:0[1-9]|[1-9]))|2[02-9]"],"0$1","true"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:1[02-9]|35|49|5|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|[35][2-9]|6[47-9]|7|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[04-9]|4[3-6]|6[2368])|8(?:1[236-8]|2[5-7]|3|5[1-9]|7[02-9]|8[36-8]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])"],"0$1","true"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3(?:11|7[179])|4(?:[15]1|3[1-35])|5(?:1|2[37]|3[12]|51|7[13-79]|9[15])|7(?:[39]1|5[457]|6[09])|8(?:[57]1|98)"],"0$1","true"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["807","8078"],"0$1","true"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1(?:[3-57-9]|66)"]],["(10800)(\\d{3})(\\d{4})","$1 $2 $3",["108","1080","10800"]],["(\\d{3})(\\d{7,8})","$1 $2",["950"]]],"0",null,"(1(?:[129]\\d{3}|79\\d{2}))|0"],CO:["57","(?:[13]\\d{0,3}|[24-8])\\d{7}",[["(\\d)(\\d{7})","$1 $2",["1(?:[2-7]|8[2-9]|9[0-3])|[24-8]","1(?:[2-7]|8[2-9]|9(?:09|[1-3]))|[24-8]"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3"]],["(1)(\\d{3})(\\d{7})","$1-$2-$3",["1(?:80|9[04])","1(?:800|9(?:0[01]|4[78]))"],"0$1",null,"$1 $2 $3"]],"0",null,"0([3579]|4(?:44|56))?"],CR:["506","[24-9]\\d{7,9}",[["(\\d{4})(\\d{4})","$1 $2",["[24-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]0"]]],null,null,"(19(?:0[012468]|1[09]|20|66|77|99))"],CU:["53","[2-57]\\d{5,7}",[["(\\d)(\\d{6,7})","$1 $2",["7"]],["(\\d{2})(\\d{4,6})","$1 $2",["[2-4]"]],["(\\d)(\\d{7})","$1 $2",["5"],"0$1"]],"0","(0$1)"],CV:["238","[259]\\d{6}",[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3"]]],CW:["599","[134679]\\d{6,7}",[["(\\d{3})(\\d{4})","$1 $2",["[13-7]"]],["(9)(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],null,null,null,null,null,null,["9(?:[48]\\d{2}|50\\d|7(?:2[0-24]|[34]\\d|6[35-7]|77|8[7-9]))\\d{4}","9(?:5(?:[12467]\\d|3[01])|6(?:[15-9]\\d|3[01]))\\d{4}",null,null,null,null,null,"955\\d{5}",null,"60[0-2]\\d{4}"]],CX:["61","[1458]\\d{5,9}",[["([2378])(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|[45]"],"0$1"],["(16)(\\d{3,4})","$1 $2",["16"],"0$1"],["(16)(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(1[389]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["1[389]0","1(?:[38]0|9)0"]],["(180)(2\\d{3})","$1 $2",["180","1802"]],["(19\\d)(\\d{3})","$1 $2",["19[13]"]],["(19\\d{2})(\\d{4})","$1 $2",["19[679]"]],["(13)(\\d{2})(\\d{2})","$1 $2 $3",["13[1-9]"]]],"0",null,null,null,null,null,["8(?:51(?:0(?:01|30|59)|117)|91(?:00[6-9]|1(?:21|49|78|81)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}","14(?:5\\d|71)\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[6-9]|7[02-9]|8[12547-9]|9[017-9])\\d{6}","180(?:0\\d{3}|2)\\d{3}","19(?:0[0126]\\d|[679])\\d{5}","500\\d{6}",null,null,null,"550\\d{6}","13(?:00\\d{2})?\\d{4}"]],CY:["357","[257-9]\\d{7}",[["(\\d{2})(\\d{6})","$1 $2"]]],CZ:["420","[2-8]\\d{8}|9\\d{8,11}",[["([2-9]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(96\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["96"]],["(9\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9[36]"]]]],DE:["49","[1-35-9]\\d{3,14}|4(?:[0-8]\\d{3,12}|9(?:[0-37]\\d|4(?:[1-35-8]|4\\d?)|5\\d{1,2}|6[1-8]\\d?)\\d{2,8})",[["(1\\d{2})(\\d{7,8})","$1 $2",["1[67]"]],["(15\\d{3})(\\d{6})","$1 $2",["15[0568]"]],["(1\\d{3})(\\d{7})","$1 $2",["15"]],["(\\d{2})(\\d{3,11})","$1 $2",["3[02]|40|[68]9"]],["(\\d{3})(\\d{3,11})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14]|[4-9]1)|3(?:[35-9][15]|4[015])|[4-8][1-9]1|9(?:06|[1-9]1)"]],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|[7-9](?:0[1-9]|[1-9])","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|[46][1246]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|3[1357]|4[13578]|6[1246]|7[1356]|9[1346])|5(?:0[14]|2[1-3589]|3[1357]|[49][1246]|6[1-4]|7[1346]|8[13568])|6(?:0[356]|2[1-489]|3[124-6]|4[1347]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|3[1357]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|4[1347]|6[0135-9]|7[1467]|8[136])|9(?:0[12479]|2[1358]|3[1357]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|[7-9](?:0[1-9]|[1-9])"]],["(3\\d{4})(\\d{1,10})","$1 $2",["3"]],["(800)(\\d{7,12})","$1 $2",["800"]],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:37|80)|900","1(?:37|80)|900[1359]"]],["(1\\d{2})(\\d{5,11})","$1 $2",["181"]],["(18\\d{3})(\\d{6})","$1 $2",["185","1850","18500"]],["(18\\d{2})(\\d{7})","$1 $2",["18[68]"]],["(18\\d)(\\d{8})","$1 $2",["18[2-579]"]],["(700)(\\d{4})(\\d{4})","$1 $2 $3",["700"]],["(138)(\\d{4})","$1 $2",["138"]],["(15[013-68])(\\d{2})(\\d{8})","$1 $2 $3",["15[013-68]"]],["(15[279]\\d)(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"]],["(1[67]\\d)(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"]]],"0","0$1"],DJ:["253","[27]\\d{7}",[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]]],DK:["45","[2-9]\\d{7}",[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]]],DM:["1","[57-9]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"767"],DO:["1","[589]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"8[024]9"],DZ:["213","(?:[1-4]|[5-9]\\d)\\d{7}",[["([1-4]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"]],["([5-8]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"]],["(9\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"]]],"0","0$1"],EC:["593","1\\d{9,10}|[2-8]\\d{7}|9\\d{8}",[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[247]|[356][2-8]"],null,null,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(1800)(\\d{3})(\\d{3,4})","$1 $2 $3",["180","1800"],"$1"]],"0","(0$1)"],EE:["372","[3-9]\\d{6,7}|800\\d{6,7}",[["([3-79]\\d{2})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]"]],["(70)(\\d{2})(\\d{4})","$1 $2 $3",["70"]],["(8000)(\\d{3})(\\d{3})","$1 $2 $3",["800","8000"]],["([458]\\d{3})(\\d{3,4})","$1 $2",["40|5|8(?:00|[1-5])","40|5|8(?:00[1-9]|[1-5])"]]]],EG:["20","1\\d{4,9}|[24-6]\\d{8}|3\\d{7}|[89]\\d{8,9}",[["(\\d)(\\d{7,8})","$1 $2",["[23]"]],["(\\d{2})(\\d{6,7})","$1 $2",["1(?:3|5[239])|[4-6]|[89][2-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1[0-25]|[89]00"]]],"0","0$1"],EH:["212","[5-9]\\d{8}",[["([5-7]\\d{2})(\\d{6})","$1-$2",["5(?:2[015-7]|3[0-4])|[67]"]],["([58]\\d{3})(\\d{5})","$1-$2",["5(?:2[2-489]|3[5-9]|92)|892","5(?:2(?:[2-48]|9[0-7])|3(?:[5-79]|8[0-7])|924)|892"]],["(5\\d{4})(\\d{4})","$1-$2",["5(?:29|38)","5(?:29|38)[89]"]],["([5]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:4[067]|5[03])"]],["(8[09])(\\d{7})","$1-$2",["8(?:0|9[013-9])"]]],"0",null,null,null,null,"528[89]"],ER:["291","[178]\\d{6}",[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3"]],"0","0$1"],ES:["34","[5-9]\\d{8}",[["([89]00)(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["([5-9]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[568]|[79][0-8]"]]]],ET:["251","[1-59]\\d{8}",[["([1-59]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[1-59]"]]],"0","0$1"],FI:["358","1\\d{4,11}|[2-9]\\d{4,10}",[["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[6-8])0"]],["(75\\d{3})","$1",["75[12]"]],["(116\\d{3})","$1",["116"],"$1"],["(\\d{2})(\\d{4,10})","$1 $2",["[14]|2[09]|50|7[135]"]],["(\\d)(\\d{4,11})","$1 $2",["[25689][1-8]|3"]]],"0","0$1",null,null,null,null,["1(?:[3569][1-8]\\d{3,9}|[47]\\d{5,10})|2[1-8]\\d{3,9}|3(?:[1-8]\\d{3,9}|9\\d{4,8})|[5689][1-8]\\d{3,9}","4(?:[0-8]\\d{4,9}|9\\d{3,8})|50\\d{4,8}","800\\d{4,7}","[67]00\\d{5,6}",null,null,"[13]0\\d{4,8}|2(?:0(?:[016-8]\\d{3,7}|[2-59]\\d{2,7})|9\\d{4,8})|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{3,7})"]],FJ:["679","[2-9]\\d{6}|0\\d{10}",[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]]],FK:["500","[2-7]\\d{4}"],FM:["691","[39]\\d{6}",[["(\\d{3})(\\d{4})","$1 $2"]]],FO:["298","[2-9]\\d{5}",[["(\\d{6})","$1"]],null,null,"(10(?:01|[12]0|88))"],FR:["33","[1-9]\\d{8}",[["([1-79])(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"]],["(8\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"]],"0","0$1"],GA:["241","0?\\d{7}",[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]]]],GB:["44","\\d{7,10}",[["(7\\d{3})(\\d{6})","$1 $2",["7(?:[1-57-9]|62)","7(?:[1-57-9]|624)"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2|5[56]|7[06]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:[02-9]1|1)|3|9[018]"]],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"]],["(1\\d{3})(\\d{5,6})","$1 $2",["1"]],["(800)(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"]],["(845)(46)(4\\d)","$1 $2 $3",["845","8454","84546","845464"]],["(8\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8(?:4[2-5]|7[0-3])"]],["(80\\d)(\\d{3})(\\d{4})","$1 $2 $3",["80"]],["(800)(\\d{6})","$1 $2",["800"]]],"0","0$1",null,null,null,null,["2(?:0[01378]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{7}|1(?:1(?:3[0-48]|[46][0-4]|5[0-26-9]|[78][0-49])|21[0-7]|31[0-8]|[4-69]1\\d)\\d{6}|1(?:2(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)|3(?:0\\d|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[28][02-57-9]|[37]\\d|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|2[024-9]|3[015689]|4[02-9]|5[03-9]|6\\d|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0124578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|8\\d|9[2-57]))\\d{6}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[345])))|3(?:638[2-5]|647[23]|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[123]))|5(?:24(?:3[2-79]|6\\d)|276\\d|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[567]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|955[0-4])|7(?:26(?:6[13-9]|7[0-7])|442\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|84(?:3[2-58]))|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}|176888[2-46-8]\\d{2}|16977[23]\\d{3}","7(?:[1-3]\\d{3}|4(?:[0-46-9]\\d{2}|5(?:[0-689]\\d|7[0-57-9]))|5(?:0[0-8]|[13-9]\\d|2[0-35-9])\\d|7(?:0(?:0[01]|[1-9]\\d)|[1-7]\\d{2}|8[02-9]\\d|9[0-689]\\d)|8(?:[014-9]\\d|[23][0-8])\\d|9(?:[024-9]\\d{2}|1(?:[02-9]\\d|1[028])|3[0-689]\\d))\\d{5}","80(?:0(?:1111|\\d{6,7})|8\\d{7})","(?:87[123]|9(?:[01]\\d|8[2349]))\\d{7}","70\\d{8}",null,"(?:3[0347]|55)\\d{8}","76(?:0[012]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}","56\\d{8}","8(?:4(?:5464\\d|[2-5]\\d{7})|70\\d{7})"]],GD:["1","[4589]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"473"],GE:["995","[34578]\\d{8}",[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5"]]],"0"],GF:["594","[56]\\d{8}",[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]],"0","0$1"],GG:["44","[135789]\\d{6,9}",[["(7\\d{3})(\\d{6})","$1 $2",["7(?:[1-57-9]|62)","7(?:[1-57-9]|624)"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2|5[56]|7[06]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:[02-9]1|1)|3|9[018]"]],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"]],["(1\\d{3})(\\d{5,6})","$1 $2",["1"]],["(800)(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"]],["(845)(46)(4\\d)","$1 $2 $3",["845","8454","84546","845464"]],["(8\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8(?:4[2-5]|7[0-3])"]],["(80\\d)(\\d{3})(\\d{4})","$1 $2 $3",["80"]],["(800)(\\d{6})","$1 $2",["800"]]],"0",null,null,null,null,null,["1481[25-9]\\d{5}","7(?:781\\d|839\\d|911[17])\\d{5}","80(?:0(?:1111|\\d{6,7})|8\\d{7})","(?:87[123]|9(?:[01]\\d|8[0-3]))\\d{7}","70\\d{8}",null,"(?:3[0347]|55)\\d{8}","76(?:0[012]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}","56\\d{8}","8(?:4(?:5464\\d|[2-5]\\d{7})|70\\d{7})"]],GH:["233","[235]\\d{8}|8\\d{7}",[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{5})","$1 $2",["8"]]],"0","0$1"],GI:["350","[256]\\d{7}",[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","[1-689]\\d{5}",[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3"]]],GM:["220","[2-9]\\d{6}",[["(\\d{3})(\\d{4})","$1 $2"]]],GN:["224","[367]\\d{7,8}",[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","[56]\\d{8}",[["([56]\\d{2})(\\d{2})(\\d{4})","$1 $2-$3",["590|69[01]"]]],"0","0$1",null,null,null,null,["590(?:0[1-68]|1[0-2]|2[0-68]|3[1289]|4[0-24-9]|5[3-579]|6[0189]|7[08]|8[0-689]|9\\d)\\d{4}","69(?:0\\d{2}|1(?:2[29]|3[0-5]))\\d{4}"]],GQ:["240","[23589]\\d{8}",[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","[26-9]\\d{9}",[["([27]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["2[2-9]1|[689]"]],["(2\\d{3})(\\d{6})","$1 $2",["2[2-9][02-9]"]]]],GT:["502","[2-7]\\d{7}|1[89]\\d{9}",[["(\\d{4})(\\d{4})","$1 $2",["[2-7]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","[5689]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"671"],GW:["245","(?:4(?:0\\d{5}|4\\d{7})|9\\d{8})",[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["44|9[5-7]"]],["(\\d{3})(\\d{4})","$1 $2",["40"]]]],GY:["592","[2-46-9]\\d{6}",[["(\\d{3})(\\d{4})","$1 $2"]]],HK:["852","[2-7]\\d{7}|8[0-3]\\d{6,7}|9\\d{4,10}",[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|[89](?:0[1-9]|[1-9])"]],["(800)(\\d{3})(\\d{3})","$1 $2 $3",["800"]],["(900)(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["900"]],["(900)(\\d{2,5})","$1 $2",["900"]]]],HN:["504","[237-9]\\d{7}",[["(\\d{4})(\\d{4})","$1-$2"]]],HR:["385","[1-7]\\d{5,8}|[89]\\d{6,8}",[["(1)(\\d{4})(\\d{3})","$1 $2 $3",["1"]],["([2-5]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-5]"]],["(9\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["9"]],["(6[01])(\\d{2})(\\d{2,3})","$1 $2 $3",["6[01]"]],["([67]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[67]"]],["(80[01])(\\d{2})(\\d{2,3})","$1 $2 $3",["80[01]"]],["(80[01])(\\d{3})(\\d{3})","$1 $2 $3",["80[01]"]]],"0","0$1"],HT:["509","[2-489]\\d{7}",[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3"]]],HU:["36","[1-9]\\d{7,8}",[["(1)(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"]]],"06","($1)"],ID:["62","(?:[1-79]\\d{6,10}|8\\d{7,11})",[["(\\d{2})(\\d{5,8})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,8})","$1 $2",["2[035-9]|[36][02-9]|[4579]"],"(0$1)"],["(8\\d{2})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"]],["(8\\d{2})(\\d{4})(\\d{4,5})","$1-$2-$3",["8[1-35-9]"]],["(1)(500)(\\d{3})","$1 $2 $3",["150","1500"],"$1"],["(177)(\\d{6,8})","$1 $2",["177"]],["(800)(\\d{5,7})","$1 $2",["800"]],["(804)(\\d{3})(\\d{4})","$1 $2 $3",["804"]],["(80\\d)(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80[79]"]]],"0","0$1"],IE:["353","[124-9]\\d{6,9}",[["(1)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"]],["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"]],["(\\d{3})(\\d{5})","$1 $2",["40[24]|50[45]"]],["(48)(\\d{4})(\\d{4})","$1 $2 $3",["48"]],["(818)(\\d{3})(\\d{3})","$1 $2 $3",["818"]],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[24-69]|7[14]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["76|8[35-9]"],"0$1"],["(8\\d)(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8[35-9]5"],"0$1"],["(700)(\\d{3})(\\d{3})","$1 $2 $3",["700"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:5|8[059])","1(?:5|8[059]0)"],"$1"]],"0","(0$1)"],IL:["972","1\\d{6,11}|[2-589]\\d{3}(?:\\d{3,6})?|6\\d{3}|7\\d{6,9}",[["([2-489])(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["([57]\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(153)(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["153"]],["(1)([7-9]\\d{2})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(1255)(\\d{3})","$1-$2",["125","1255"]],["(1200)(\\d{3})(\\d{3})","$1-$2-$3",["120","1200"]],["(1212)(\\d{2})(\\d{2})","$1-$2-$3",["121","1212"]],["(1599)(\\d{6})","$1-$2",["159","1599"]],["(151)(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["151"]],["(\\d{4})","*$1",["[2-689]"]]],"0"],IM:["44","[135789]\\d{6,9}",[["(7\\d{3})(\\d{6})","$1 $2",["7(?:[1-57-9]|62)","7(?:[1-57-9]|624)"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2|5[56]|7[06]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:[02-9]1|1)|3|9[018]"]],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"]],["(1\\d{3})(\\d{5,6})","$1 $2",["1"]],["(800)(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"]],["(845)(46)(4\\d)","$1 $2 $3",["845","8454","84546","845464"]],["(8\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8(?:4[2-5]|7[0-3])"]],["(80\\d)(\\d{3})(\\d{4})","$1 $2 $3",["80"]],["(800)(\\d{6})","$1 $2",["800"]]],"0",null,null,null,null,null,["1624[5-8]\\d{5}","7(?:4576|[59]24\\d|624[0-4689])\\d{5}","808162\\d{4}","(?:872299|90[0167]624)\\d{4}","70\\d{8}",null,"3(?:08162\\d|3\\d{5}|4(?:40[49]06|5624\\d)|7(?:0624\\d|2299\\d))\\d{3}|55\\d{8}",null,"56\\d{8}","8(?:4(?:40[49]06|5624\\d)|70624\\d)\\d{3}"]],IN:["91","008\\d{9}|1\\d{7,12}|[2-9]\\d{9,10}",[["(\\d{8})","$1",["561","5616","56161"],"$1"],["(\\d{5})(\\d{5})","$1 $2",["6(?:[09]0|2[03689]|3[05-9])|7(?:[02-8]|19|9[037-9])|8(?:0[015-9]|[1-9])|9","6(?:[09]0|2(?:0[01]|39|60|8[0-2]|9[04])|3(?:0[01]|5[0-2]|60|7[05]|81|9[03-5]))|7(?:[07]|19[0-5]|2(?:[0235-9]|[14][017-9])|3(?:[025-9]|[134][017-9])|4(?:[0-35689]|[47][017-9])|5(?:[02-46-9]|[15][017-9])|6(?:[02-9]|1[0-257-9])|8(?:[0-79]|8[0189])|9(?:[089]|31|7[02-9]))|8(?:0(?:[01589]|6[67]|7[02-9])|1(?:[0-57-9]|6[07-9])|2(?:[014][07-9]|[235-9])|3(?:[03-57-9]|[126][07-9])|[45]|6(?:[02457-9]|[136][07-9])|7(?:[078][07-9]|[1-69])|8(?:[0-25-9]|3[07-9]|4[047-9])|9(?:[02-9]|1[027-9]))|9","6(?:[09]0|2(?:0[01]|39|60|8[0-2]|9[04])|3(?:0[01]|5[0-2]|60|7[05]|81|9[03-5]))|7(?:0|19[0-5]|2(?:[0235-79]|[14][017-9]|8(?:[0-69]|[78][089]))|3(?:[05-8]|1(?:[0189]|7[5-9])|2(?:[0-49][089]|[5-8])|3[017-9]|4(?:[07-9]|11)|9(?:[01689]|[2-5][089]|7[0189]))|4(?:[056]|1(?:[0135-9]|[24][089])|[29](?:[0-7][089]|[89])|3(?:[0-8][089]|9)|[47](?:[089]|11|7[02-8])|8(?:[0-24-7][089]|[389]))|5(?:[0346-9]|[15][017-9]|2(?:[03-9]|[12][089]))|6(?:[0346-9]|1[0-257-9]|2(?:[0-4]|[5-9][089])|5(?:[0-367][089]|[4589]))|7(?:0(?:[02-9]|1[089])|[1-9])|8(?:[0-79]|8(?:0[0189]|11|8[013-9]|9))|9(?:[089]|313|7(?:[02-8]|9[07-9])))|8(?:0(?:[01589]|6[67]|7(?:[02-8]|9[05-9]))|1(?:[02-57-9]|1(?:[0-35-9]|4[0-46-9])|6(?:[089]|7[02-8]))|2(?:0(?:[089]|7[02])|[14](?:[089]|7[02-8])|[235-9])|3(?:[03-57-9]|1(?:[089]|7[02-6])|2(?:[09]|77|8[0-689])|6(?:[089]|7[02-7]))|[45]|6(?:[02457-9]|[136](?:[089]|7[02-8]))|7(?:0[07-9]|[1-69]|[78](?:[089]|7[02-8]))|8(?:[0-25-9]|3(?:[089]|7[02-8])|4(?:[0489]|7[02-68]))|9(?:[02-9]|1(?:[0289]|7[2-6])))|9"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-9]|80[2-46]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[59][14]|[68][1-9]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1|9[15])|6(?:12|[2-4]1|5[17]|6[13]|7[14]|80)|7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[23579]|[468][1-9])|[2-8]"]],["(\\d{2})(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3 $4",["008"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],"$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["160","1600"],"$1"],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],"$1"],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["180","1800"],"$1"],["(\\d{4})(\\d{3,4})(\\d{4})","$1 $2 $3",["186","1860"],"$1"],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18[06]"],"$1"]],"0","0$1",null,null,!0],IO:["246","3\\d{6}",[["(\\d{3})(\\d{4})","$1 $2"]]],IQ:["964","[1-7]\\d{7,9}",[["(1)(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["([2-6]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"]],["(7\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"]]],"0","0$1"],IR:["98","[1-8]\\d{5,9}|9(?:[0-4]\\d{8}|9\\d{8})",[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"]],["(\\d{2})(\\d{4,5})","$1 $2",["[1-8]"]],["(\\d{4,5})","$1",["96"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"]]],"0","0$1"],IS:["354","[4-9]\\d{6}|38\\d{7}",[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(3\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]]],IT:["39","[01589]\\d{5,10}|3(?:[12457-9]\\d{8}|[36]\\d{7,9})",[["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|55"]],["(0[26])(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(0[26])(\\d{4,6})","$1 $2",["0[26]"]],["(0\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[245])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|[45][0-4]))"]],["(0\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["0[13-57-9][2-46-8]"]],["(0\\d{3})(\\d{2,6})","$1 $2",["0[13-57-9][2-46-8]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13]|8(?:00|4[08]|9[59])","[13]|8(?:00|4[08]|9(?:5[5-9]|9))"]],["(\\d{4})(\\d{4})","$1 $2",["894","894[5-9]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3"]]],null,null,null,null,null,null,["0(?:[26]\\d{4,9}|(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2346]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[34578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7})","3(?:[12457-9]\\d{8}|6\\d{7,8}|3\\d{7,9})","80(?:0\\d{6}|3\\d{3})","0878\\d{5}|1(?:44|6[346])\\d{6}|89(?:2\\d{3}|4(?:[0-4]\\d{2}|[5-9]\\d{4})|5(?:[0-4]\\d{2}|[5-9]\\d{6})|9\\d{6})","1(?:78\\d|99)\\d{6}",null,null,null,"55\\d{8}","84(?:[08]\\d{6}|[17]\\d{3})"]],JE:["44","[135789]\\d{6,9}",[["(7\\d{3})(\\d{6})","$1 $2",["7(?:[1-57-9]|62)","7(?:[1-57-9]|624)"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2|5[56]|7[06]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:[02-9]1|1)|3|9[018]"]],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"]],["(1\\d{3})(\\d{5,6})","$1 $2",["1"]],["(800)(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"]],["(845)(46)(4\\d)","$1 $2 $3",["845","8454","84546","845464"]],["(8\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8(?:4[2-5]|7[0-3])"]],["(80\\d)(\\d{3})(\\d{4})","$1 $2 $3",["80"]],["(800)(\\d{6})","$1 $2",["800"]]],"0",null,null,null,null,null,["1534[0-24-8]\\d{5}","7(?:509\\d|7(?:00[378]|97[7-9])|829\\d|937\\d)\\d{5}","80(?:07(?:35|81)|8901)\\d{4}","(?:871206|90(?:066[59]|1810|71(?:07|55)))\\d{4}","701511\\d{4}",null,"3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))\\d{4}|55\\d{8}","76(?:0[012]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}","56\\d{8}","8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|70002)\\d{4}"]],JM:["1","[589]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"876"],JO:["962","[235-9]\\d{7,8}",[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(7)(\\d{4})(\\d{4})","$1 $2 $3",["7[457-9]"]],["(\\d{2})(\\d{7})","$1 $2",["70"]],["(\\d{3})(\\d{5,6})","$1 $2",["8[0158]|9"]]],"0","0$1"],JP:["81","[1-9]\\d{8,9}|00(?:[36]\\d{7,14}|7\\d{5,7}|8\\d{7})",[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"]],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[2579]0|80[1-9]"]],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51|63)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[78]|96)|477|51[24]|636)|9(?:496|802|9(?:1[23]|69))","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[78]|96[2457-9])|477|51[24]|636[2-57-9])|9(?:496|802|9(?:1[23]|69))"]],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["1(?:2[3-6]|3[3-9]|4[2-6]|5[2-8]|[68][2-7]|7[2-689]|9[1-578])|2(?:2[03-689]|3[3-58]|4[0-468]|5[04-8]|6[013-8]|7[06-9]|8[02-57-9]|9[13])|4(?:2[28]|3[689]|6[035-7]|7[05689]|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9[4-9])|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9[014-9])|8(?:2[49]|3[3-8]|4[5-8]|5[2-9]|6[35-9]|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9[3-7])","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:[0468][2-9]|5[78]|7[2-4])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[4-7]|[89][2-8]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9[2-8])|3(?:[3-6][2-9]|7[2-6]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5[4-7]|6[2-9]|8[2-8]|9[236-9])|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3[34]|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:[0468][2-9]|5[78]|7[2-4])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[4-7]|[89][2-8]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:20|[3578]|4[04-9]|6[56]))|3(?:[3-6][2-9]|7(?:[2-5]|6[0-59])|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:[0468][2-9]|5[78]|7[2-4])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[4-7]|[89][2-8]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:20|[3578]|4[04-9]|6(?:5[25]|60)))|3(?:[3-6][2-9]|7(?:[2-5]|6[0-59])|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))"]],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1|2(?:2[37]|5[5-9]|64|78|8[39]|91)|4(?:2[2689]|64|7[347])|5[2-589]|60|8(?:2[124589]|3[279]|[46-9])|9(?:[235-8]|93)","1|2(?:2[37]|5(?:[57]|[68]0|9[19])|64|78|8[39]|917)|4(?:2(?:20|[68]|9[178])|64|7[347])|5[2-589]|60|8(?:2[124589]|3[279]|[46-9])|9(?:[235-8]|93[34])","1|2(?:2[37]|5(?:[57]|[68]0|9(?:17|99))|64|78|8[39]|917)|4(?:2(?:20|[68]|9[178])|64|7[347])|5[2-589]|60|8(?:2[124589]|3[279]|[46-9])|9(?:[235-8]|93(?:31|4))"]],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["2(?:[34]7|[56]9|74|9[14-79])|82|993"]],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[2479][1-9]"]]],"0","0$1"],KE:["254","20\\d{6,7}|[4-9]\\d{6,9}",[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"]],["(\\d{3})(\\d{6})","$1 $2",["7"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"]]],"0","0$1","005|0"],KG:["996","[235-8]\\d{8,9}",[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[25-7]|31[25]"]],["(\\d{4})(\\d{5})","$1 $2",["3(?:1[36]|[2-9])"]],["(\\d{3})(\\d{3})(\\d)(\\d{3})","$1 $2 $3 $4",["8"]]],"0","0$1"],KH:["855","[1-9]\\d{7,9}",[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["1\\d[1-9]|[2-9]"],"0$1"],["(1[89]00)(\\d{3})(\\d{3})","$1 $2 $3",["1[89]0","1[89]00"]]],"0"],KI:["686","[2458]\\d{4}|3\\d{4,7}|[67]\\d{7}",[],null,null,"0"],KM:["269","[3478]\\d{6}",[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3"]]],KN:["1","[589]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"869"],KP:["850","1\\d{9}|[28]\\d{7}",[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]],"0","0$1"],KR:["82","00(?:3\\d{8,9}|7\\d{9,11})|[1-7]\\d{4,9}|8\\d{8}",[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"]],["(\\d{4})(\\d{4})","$1-$2",["1(?:5[246-9]|6[046-8]|8[03579])","1(?:5(?:22|44|66|77|88|99)|6(?:[07]0|44|6[16]|88)|8(?:00|33|55|77|99))"],"$1"],["(\\d{5})","$1",["1[016-9]1","1[016-9]11","1[016-9]114"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2[1-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60[2-9]|80"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["1[0-25-9]|(?:3[1-3]|[46][1-4]|5[1-5])[1-9]"]],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]0"]]],"0","0$1","0(8[1-46-8]|85\\d{2})?"],KW:["965","[12569]\\d{6,7}",[["(\\d{4})(\\d{3,4})","$1 $2",["[16]|2(?:[0-35-9]|4[0-35-9])|52[25]|9[024-9]"]],["(\\d{3})(\\d{5})","$1 $2",["244|5(?:[015]|6[56])"]]]],KY:["1","[3589]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"345"],KZ:["7","(?:33\\d|7\\d{2}|80[089])\\d{7}",[["([3489]\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[3489]"]],["(7\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"]]],"8",null,null,null,null,null,["33622\\d{5}|7(?:1(?:0(?:[23]\\d|4[0-3]|59|63)|1(?:[23]\\d|4[0-79]|59)|2(?:[23]\\d|59)|3(?:2\\d|3[0-79]|4[0-35-9]|59)|4(?:[24]\\d|3[013-9]|5[1-9])|5(?:2\\d|3[1-9]|4[0-7]|59)|6(?:[234]\\d|5[19]|61)|72\\d|8(?:[27]\\d|3[1-46-9]|4[0-5]))|2(?:1(?:[23]\\d|4[46-9]|5[3469])|2(?:2\\d|3[0679]|46|5[12679])|3(?:[234]\\d|5[139])|4(?:2\\d|3[1235-9]|59)|5(?:[23]\\d|4[01246-8]|59|61)|6(?:2\\d|3[1-9]|4[0-4]|59)|7(?:[2379]\\d|40|5[279])|8(?:[23]\\d|4[0-3]|59)|9(?:2\\d|3[124578]|59)))\\d{5}","7(?:0[012578]|47|6[02-4]|7[15-8]|85)\\d{7}","800\\d{7}","809\\d{7}","808\\d{7}",null,null,null,"751\\d{7}"]],LA:["856","[2-8]\\d{7,9}",[["(20)(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["20"]],["([2-8]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"]],["(30)(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30"]]],"0","0$1"],LB:["961","[13-9]\\d{6,7}",[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"],"0$1"],["([7-9]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["7(?:[01]|6[013-9]|8[89]|9[1-3])|[89][01]"]]],"0"],LC:["1","[5789]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"758"],LI:["423","6\\d{8}|[23789]\\d{6}",[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[237-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[56]"]],["(69)(7\\d{2})(\\d{4})","$1 $2 $3",["697"]]],"0",null,"0|10(?:01|20|66)"],LK:["94","[1-9]\\d{8}",[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"]]],"0","0$1"],LR:["231","2\\d{7,8}|[378]\\d{8}|4\\d{6}|5\\d{6,8}",[["(2\\d)(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["([4-5])(\\d{3})(\\d{3})","$1 $2 $3",["[45]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23578]"]]],"0","0$1"],LS:["266","[2568]\\d{7}",[["(\\d{4})(\\d{4})","$1 $2"]]],LT:["370","[3-9]\\d{7}",[["([34]\\d)(\\d{6})","$1 $2",["37|4(?:1|5[45]|6[2-4])"]],["([3-6]\\d{2})(\\d{5})","$1 $2",["3[148]|4(?:[24]|6[09])|528|6"]],["([7-9]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"8 $1"],["(5)(2\\d{2})(\\d{4})","$1 $2 $3",["52[0-79]"]]],"8","(8-$1)","[08]",null,!0],LU:["352","[24-9]\\d{3,10}|3(?:[0-46-9]\\d{2,9}|5[013-9]\\d{1,8})",[["(\\d{2})(\\d{3})","$1 $2",["[2-5]|7[1-9]|[89](?:0[2-9]|[1-9])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[2-5]|7[1-9]|[89](?:0[2-9]|[1-9])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,4})","$1 $2 $3 $4",["2(?:[12589]|4[12])|[3-5]|7[1-9]|8(?:0[2-9]|[1-9])|9(?:0[2-46-9]|[1-9])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["70|80[01]|90[015]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],null,null,"(15(?:0[06]|1[12]|35|4[04]|55|6[26]|77|88|99)\\d)"],LV:["371","[2689]\\d{7}",[["([2689]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2689]"]]]],LY:["218","[25679]\\d{8}",[["([25-79]\\d)(\\d{7})","$1-$2",["[25-79]"]]],"0","0$1"],MA:["212","[5-9]\\d{8}",[["([5-7]\\d{2})(\\d{6})","$1-$2",["5(?:2[015-7]|3[0-4])|[67]"]],["([58]\\d{3})(\\d{5})","$1-$2",["5(?:2[2-489]|3[5-9]|92)|892","5(?:2(?:[2-48]|9[0-7])|3(?:[5-79]|8[0-7])|924)|892"]],["(5\\d{4})(\\d{4})","$1-$2",["5(?:29|38)","5(?:29|38)[89]"]],["([5]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:4[067]|5[03])"]],["(8[09])(\\d{7})","$1-$2",["8(?:0|9[013-9])"]]],"0","0$1",null,null,null,null,["5(?:2(?:[015-79]\\d|2[02-9]|3[2-57]|4[2-8]|8[235-7])\\d|3(?:[0-48]\\d|[57][2-9]|6[2-8]|9[3-9])\\d|4[067]\\d{2}|5[03]\\d{2})\\d{4}","(?:6(?:[0-79]\\d|8[0-247-9])|7(?:0[067]|6[1267]|7[07]))\\d{6}","80\\d{7}","89\\d{7}",null,null,null,null,"5924[01]\\d{4}"]],MC:["377","[34689]\\d{7,8}",[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[39]"],"$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"]],["(6)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"]],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["8"],"$1"]],"0","0$1"],MD:["373","[235-9]\\d{7}",[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"]],["([25-7]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["2[13-9]|[5-7]"]],["([89]\\d{2})(\\d{5})","$1 $2",["[89]"]]],"0","0$1"],ME:["382","[2-9]\\d{7,8}",[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]|6[036-9]"]]],"0","0$1"],MF:["590","[56]\\d{8}",[["([56]\\d{2})(\\d{2})(\\d{4})","$1 $2-$3",["590|69[01]"]]],"0",null,null,null,null,null,["590(?:0[079]|13|2[79]|30|43|5[0-268]|7[79]|87)\\d{4}","69(?:0\\d{2}|1(?:2[29]|3[0-5]))\\d{4}"]],MG:["261","[23]\\d{8}",[["([23]\\d)(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"]]],"0","0$1"],MH:["692","[2-6]\\d{6}",[["(\\d{3})(\\d{4})","$1-$2"]],"1"],MK:["389","[2-578]\\d{7}",[["(2)(\\d{3})(\\d{4})","$1 $2 $3",["2"]],["([347]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[347]"]],["([58]\\d{2})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"]]],"0","0$1"],ML:["223","[246-9]\\d{7}",[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[246-9]"]]]],MM:["95","[178]\\d{5,7}|[24-6]\\d{5,8}|9(?:[279]\\d{0,2}|5|[34]\\d{1,2}|6(?:\\d{1,2})?|8(?:\\d{2})?)\\d{6}",[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["1|2[245]"]],["(2)(\\d{4})(\\d{4})","$1 $2 $3",["251"]],["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"]],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["432|67|81"]],["(\\d{2})(\\d{2})(\\d{3,4})","$1 $2 $3",["[4-8]"]],["(9)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"]],["(9)([34]\\d{4})(\\d{4})","$1 $2 $3",["9(?:3[0-36]|4[0-57-9])"]],["(9)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92[56]"]],["(9)(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["93"]]],"0","0$1"],MN:["976","[12]\\d{7,9}|[57-9]\\d{7}",[["([12]\\d)(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"]],["([12]2\\d)(\\d{5,6})","$1 $2",["[12]2[1-3]"]],["([12]\\d{3})(\\d{5})","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5]\\d)2"]],["(\\d{4})(\\d{4})","$1 $2",["[57-9]"],"$1"],["([12]\\d{4})(\\d{4,5})","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5]\\d)[4-9]"]]],"0","0$1"],MO:["853","[268]\\d{7}",[["([268]\\d{3})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","[5689]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"670"],MQ:["596","[56]\\d{8}",[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]],"0","0$1"],MR:["222","[2-48]\\d{7}",[["([2-48]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","[5689]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"664"],MT:["356","[2357-9]\\d{7}",[["(\\d{4})(\\d{4})","$1 $2"]]],MU:["230","[2-9]\\d{6,7}",[["([2-46-9]\\d{2})(\\d{4})","$1 $2",["[2-46-9]"]],["(5\\d{3})(\\d{4})","$1 $2",["5"]]]],MV:["960","[346-8]\\d{6,9}|9(?:00\\d{7}|\\d{6})",[["(\\d{3})(\\d{4})","$1-$2",["[3467]|9(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]00"]]]],MW:["265","(?:1(?:\\d{2})?|[2789]\\d{2})\\d{6}",[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(2\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[17-9]"]]],"0","0$1"],MX:["52","[1-9]\\d{9,10}",[["([358]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["33|55|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2467]|3[0-2457-9]|5[089]|8[02-9]|9[0-35-9]"]],["(1)([358]\\d)(\\d{4})(\\d{4})","044 $2 $3 $4",["1(?:33|55|81)"],"$1",null,"$1 $2 $3 $4"],["(1)(\\d{3})(\\d{3})(\\d{4})","044 $2 $3 $4",["1(?:[2467]|3[0-2457-9]|5[089]|8[2-9]|9[1-35-9])"],"$1",null,"$1 $2 $3 $4"]],"01","01 $1","0[12]|04[45](\\d{10})","1$1",!0],MY:["60","[13-9]\\d{7,9}",[["([4-79])(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(3)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["([18]\\d)(\\d{3})(\\d{3,4})","$1-$2 $3",["1[02-46-9][1-9]|8"],"0$1"],["(1)([36-8]00)(\\d{2})(\\d{4})","$1-$2-$3-$4",["1[36-8]0","1[36-8]00"]],["(11)(\\d{4})(\\d{4})","$1-$2 $3",["11"],"0$1"],["(15[49])(\\d{3})(\\d{4})","$1-$2 $3",["15[49]"],"0$1"]],"0"],MZ:["258","[28]\\d{7,8}",[["([28]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-7]"]],["(80\\d)(\\d{3})(\\d{3})","$1 $2 $3",["80"]]]],NA:["264","[68]\\d{7,8}",[["(8\\d)(\\d{3})(\\d{4})","$1 $2 $3",["8[1-35]"]],["(6\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["6"]],["(88)(\\d{3})(\\d{3})","$1 $2 $3",["88"]],["(870)(\\d{3})(\\d{3})","$1 $2 $3",["870"]]],"0","0$1"],NC:["687","[2-57-9]\\d{5}",[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[2-46-9]|5[0-4]"]]]],NE:["227","[0289]\\d{7}",[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["09|[289]"]],["(08)(\\d{3})(\\d{3})","$1 $2 $3",["08"]]]],NF:["672","[13]\\d{5}",[["(\\d{2})(\\d{4})","$1 $2",["1"]],["(\\d)(\\d{5})","$1 $2",["3"]]]],NG:["234","[1-6]\\d{5,8}|9\\d{5,9}|[78]\\d{5,13}",[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"]],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[3-6]|7(?:0[1-9]|[1-79])|8[2-9]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["70|8[01]|90[235-9]"]],["([78]00)(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]00"]],["([78]00)(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]00"]],["(78)(\\d{2})(\\d{3})","$1 $2 $3",["78"]]],"0","0$1"],NI:["505","[125-8]\\d{7}",[["(\\d{4})(\\d{4})","$1 $2"]]],NL:["31","1\\d{4,8}|[2-7]\\d{8}|[89]\\d{6,9}",[["([1-578]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1[035]|2[0346]|3[03568]|4[0356]|5[0358]|7|8[4578]"]],["([1-5]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"]],["(6)(\\d{8})","$1 $2",["6[0-57-9]"]],["(66)(\\d{7})","$1 $2",["66"]],["(14)(\\d{3,4})","$1 $2",["14"],"$1"],["([89]0\\d)(\\d{4,7})","$1 $2",["[89]0"]]],"0","0$1"],NO:["47","0\\d{4}|[2-9]\\d{7}",[["([489]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[489]"]],["([235-7]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-7]"]]],null,null,null,null,null,null,["(?:2[1-4]|3[1-3578]|5[1-35-7]|6[1-4679]|7[0-8])\\d{6}","(?:4[015-8]|5[89]|87|9\\d)\\d{6}","80[01]\\d{5}","82[09]\\d{5}","880\\d{5}",null,"0\\d{4}|81(?:0(?:0[7-9]|1\\d)|5\\d{2})\\d{3}",null,"85[0-5]\\d{5}","810(?:0[0-6]|[2-8]\\d)\\d{3}"]],NP:["977","[1-8]\\d{7}|9(?:[1-69]\\d{6,8}|7[2-6]\\d{5,7}|8\\d{8})",[["(1)(\\d{7})","$1-$2",["1[2-6]"]],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-69]|7[15-9])"]],["(9\\d{2})(\\d{7})","$1-$2",["9(?:6[013]|7[245]|8)"],"$1"]],"0","0$1"],NR:["674","[458]\\d{6}",[["(\\d{3})(\\d{4})","$1 $2"]]],NU:["683","[1-5]\\d{3}"],NZ:["64","6[235-9]\\d{6}|[2-57-9]\\d{7,9}",[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["240|[346]|7[2-57-9]|9[1-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["21"]],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:1[1-9]|[69]|7[0-35-9])|70|86"]],["(2\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["2[028]"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["90"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|5|[89]0"]]],"0","0$1"],OM:["968","(?:5|[279]\\d)\\d{6}|800\\d{5,6}",[["(2\\d)(\\d{6})","$1 $2",["2"]],["([79]\\d{3})(\\d{4})","$1 $2",["[79]"]],["([58]00)(\\d{4,6})","$1 $2",["[58]00"]]]],PA:["507","[1-9]\\d{6,7}",[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["6"]]]],PE:["51","[14-9]\\d{7,8}",[["(1)(\\d{7})","$1 $2",["1"]],["([4-8]\\d)(\\d{6})","$1 $2",["[4-7]|8[2-4]"]],["(\\d{3})(\\d{5})","$1 $2",["80"]],["(9\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"$1"]],"0","(0$1)"],PF:["689","4\\d{5,7}|8\\d{7}",[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4[09]|8[79]"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]]]],PG:["675","[1-9]\\d{6,7}",[["(\\d{3})(\\d{4})","$1 $2",["[13-689]|27"]],["(\\d{4})(\\d{4})","$1 $2",["20|7"]]]],PH:["63","1\\d{10,12}|2\\d{5,7}|[3-7]\\d{8}|8\\d{7,9}|9\\d{9}",[["(2)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(2)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|5(?:22|44)|642|8(?:62|8[245])","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["([3-8]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[3-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["81|9"],"0$1"],["(1800)(\\d{3})(\\d{4})","$1 $2 $3",["180","1800"]],["(1800)(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["180","1800"]]],"0"],PK:["92","1\\d{8}|[2-8]\\d{5,11}|9(?:[013-9]\\d{4,10}|2\\d(?:111\\d{6}|\\d{3,7}))",[["([89]00)(\\d{3})(\\d{2})","$1 $2 $3",["[89]00"],"0$1"],["(1\\d{3})(\\d{5})","$1 $2",["1"],"$1"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"]],["(\\d{3})(\\d{6,7})","$1 $2",["2[349]|45|54|60|72|8[2-5]|9[2-469]","(?:2[349]|45|54|60|72|8[2-5]|9[2-469])\\d[2-9]"]],["(58\\d{3})(\\d{5})","$1 $2",["58[126]"]],["(3\\d{2})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(111)(\\d{3})(\\d{3})","$1 $2 $3 $4",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)1","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)11","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)111"]],["(\\d{3})(111)(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[349]|45|54|60|72|8[2-5]|9[2-9]","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d1","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d11","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d111"]]],"0","(0$1)"],PL:["48","[1-57-9]\\d{6,8}|6\\d{5,8}",[["(\\d{3})(\\d{3})","$1 $2",["11[68]|64"]],["(\\d{5})","$1",["19"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["26|39|45|5[0137]|6[0469]|7[02389]|8[08]"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[14]|2[0-57-9]|3[2-4]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145]"]]]],PM:["508","[45]\\d{5}",[["([45]\\d)(\\d{2})(\\d{2})","$1 $2 $3",["[45]"]]],"0","0$1"],PR:["1","[5789]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"787|939"],PS:["970","1\\d{9}|[24589]\\d{7,8}",[["([2489])(2\\d{2})(\\d{4})","$1 $2 $3",["[2489]2"]],["(5[69]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["5[69]"]],["(1[78]00)(\\d{3})(\\d{3})","$1 $2 $3",["1[78]0","1[78]00"],"$1"]],"0","0$1"],PT:["351","[2-46-9]\\d{8}",[["(2\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["([2-46-9]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[3-9]|[346-9]"]]]],PW:["680","[2-8]\\d{6}",[["(\\d{3})(\\d{4})","$1 $2"]]],PY:["595","5[0-5]\\d{4,7}|[2-46-9]\\d{5,8}",[["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["9[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["870","8700"]],["(\\d{3})(\\d{4,5})","$1 $2",["[2-8][1-9]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8][1-9]"],"0$1"]],"0"],QA:["974","[2-8]\\d{6,7}",[["([28]\\d{2})(\\d{4})","$1 $2",["[28]"]],["([3-7]\\d{3})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","[268]\\d{8}",[["([268]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[268]"]]],"0","0$1",null,null,null,"262|69|8"],RO:["40","[23]\\d{5,8}|[7-9]\\d{8}",[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"]],["(\\d{2})(\\d{4})","$1 $2",["[23]1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[23][3-7]|[7-9]"]],["(2\\d{2})(\\d{3})","$1 $2",["2[3-6]"]]],"0","0$1"],RS:["381","[126-9]\\d{4,11}|3(?:[0-79]\\d{3,10}|8[2-9]\\d{2,9})",[["([23]\\d{2})(\\d{4,9})","$1 $2",["(?:2[389]|39)0"]],["([1-3]\\d)(\\d{5,10})","$1 $2",["1|2(?:[0-24-7]|[389][1-9])|3(?:[0-8]|9[1-9])"]],["(6\\d)(\\d{6,8})","$1 $2",["6"]],["([89]\\d{2})(\\d{3,9})","$1 $2",["[89]"]],["(7[26])(\\d{4,9})","$1 $2",["7[26]"]],["(7[08]\\d)(\\d{4,9})","$1 $2",["7[08]"]]],"0","0$1"],RU:["7","[347-9]\\d{9}",[["([3489]\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[3489]"]],["(7\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"]]],"8","8 ($1)",null,null,!0,null,["(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15]|6[1-35-79]|7[1-37-9]))\\d{7}","9\\d{9}","80[04]\\d{7}","80[39]\\d{7}","808\\d{7}"]],RW:["250","[027-9]\\d{7,8}",[["(2\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["([7-9]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"],["(0\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]]],"0"],SA:["966","1\\d{7,8}|(?:[2-467]|92)\\d{7}|5\\d{8}|8\\d{9}",[["([1-467])(\\d{3})(\\d{4})","$1 $2 $3",["[1-467]"]],["(1\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1[1-467]"]],["(5\\d)(\\d{3})(\\d{4})","$1 $2 $3",["5"]],["(92\\d{2})(\\d{5})","$1 $2",["92"],"$1"],["(800)(\\d{3})(\\d{4})","$1 $2 $3",["800"],"$1"],["(811)(\\d{3})(\\d{3,4})","$1 $2 $3",["811"]]],"0","0$1"],SB:["677","[1-9]\\d{4,6}",[["(\\d{2})(\\d{5})","$1 $2",["[7-9]"]]]],SC:["248","[24689]\\d{5,6}",[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]"]]]],SD:["249","[19]\\d{8}",[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3"]],"0","0$1"],SE:["46","[1-35-9]\\d{5,11}|4\\d{6,8}",[["(8)(\\d{2,3})(\\d{2,3})(\\d{2})","$1-$2 $3 $4",["8"],null,null,"$1 $2 $3 $4"],["([1-69]\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90"],null,null,"$1 $2 $3 $4"],["([1-469]\\d)(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90"],null,null,"$1 $2 $3"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[0-5]|4[0-3])"],null,null,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[0-5]|4[0-3])"],null,null,"$1 $2 $3"],["(7\\d)(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["7"],null,null,"$1 $2 $3 $4"],["(77)(\\d{2})(\\d{2})","$1-$2$3",["77"],null,null,"$1 $2 $3"],["(20)(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],null,null,"$1 $2 $3"],["(9[034]\\d)(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9[034]"],null,null,"$1 $2 $3 $4"],["(9[034]\\d)(\\d{4})","$1-$2",["9[034]"],null,null,"$1 $2"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["25[245]|67[3-6]"],null,null,"$1 $2 $3 $4 $5"]],"0","0$1"],SG:["65","[36]\\d{7}|[17-9]\\d{7,10}",[["([3689]\\d{3})(\\d{4})","$1 $2",["[369]|8[1-9]"]],["(1[89]00)(\\d{3})(\\d{4})","$1 $2 $3",["1[89]0","1[89]00"]],["(7000)(\\d{4})(\\d{3})","$1 $2 $3",["700","7000"]],["(800)(\\d{3})(\\d{4})","$1 $2 $3",["800"]]]],SH:["290","[256]\\d{4}|8\\d{3}",[],null,null,null,null,null,null,["2(?:[0-57-9]\\d|6[4-9])\\d{2}","[56]\\d{4}",null,null,null,null,null,null,"262\\d{2}"]],SI:["386","[1-7]\\d{6,7}|[89]\\d{4,7}",[["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[12]|[34][24-8]|5[2-8]|7[3-8]"],"(0$1)"],["([3-7]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"]],["([89][09])(\\d{3,6})","$1 $2",["[89][09]"]],["([58]\\d{2})(\\d{5})","$1 $2",["59|8[1-3]"]]],"0","0$1"],SJ:["47","0\\d{4}|[45789]\\d{7}",[["([489]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[489]"]],["([235-7]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-7]"]]],null,null,null,null,null,null,["79\\d{6}","(?:4[015-8]|5[89]|9\\d)\\d{6}","80[01]\\d{5}","82[09]\\d{5}","880\\d{5}",null,"0\\d{4}|81(?:0(?:0[7-9]|1\\d)|5\\d{2})\\d{3}",null,"85[0-5]\\d{5}","810(?:0[0-6]|[2-8]\\d)\\d{3}"]],SK:["421","(?:[2-68]\\d{5,8}|9\\d{6,8})",[["(2)(1[67])(\\d{3,4})","$1 $2 $3",["21[67]"]],["([3-5]\\d)(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5]"]],["(2)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"]],["([3-5]\\d)(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"]],["([689]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"]],["(9090)(\\d{3})","$1 $2",["909","9090"]]],"0","0$1"],SL:["232","[2-9]\\d{7}",[["(\\d{2})(\\d{6})","$1 $2"]],"0","(0$1)"],SM:["378","[05-7]\\d{7,9}",[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(0549)(\\d{6})","$1 $2",["054","0549"],null,null,"($1) $2"],["(\\d{6})","0549 $1",["[89]"],null,null,"(0549) $1"]],null,null,"([89]\\d{5})","0549$1"],SN:["221","[3789]\\d{8}",[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],SO:["252","[1-9]\\d{5,8}",[["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[13-5]|2[0-79]"]],["(\\d)(\\d{7})","$1 $2",["24|[67]"]],["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{2})(\\d{5,7})","$1 $2",["15|28|6[1-35-9]|799|9[2-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3[59]|4[89]|6[24-6]|79|8[08]|90"]]],"0"],SR:["597","[2-8]\\d{5,6}",[["(\\d{3})(\\d{3})","$1-$2",["[2-4]|5[2-58]"]],["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{4})","$1-$2",["[6-8]"]]]],SS:["211","[19]\\d{8}",[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",null,"0$1"]],"0"],ST:["239","[29]\\d{6}",[["(\\d{3})(\\d{4})","$1 $2"]]],SV:["503","[267]\\d{7}|[89]\\d{6}(?:\\d{4})?",[["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","[5789]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"721"],SY:["963","[1-59]\\d{7,8}",[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"]],["(9\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0","0$1",null,null,!0],SZ:["268","[027]\\d{7}",[["(\\d{4})(\\d{4})","$1 $2",["[027]"]]]],TA:["290","8\\d{3}",[],null,null,null,null,null,null,["8\\d{3}"]],TC:["1","[5689]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"649"],TD:["235","[2679]\\d{7}",[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4"]]],TG:["228","[279]\\d{7}",[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","1\\d{8,9}|[2-9]\\d{7,8}",[["(2)(\\d{3})(\\d{4})","$1 $2 $3",["2"]],["([13-9]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["14|[3-9]"]],["(1[89]00)(\\d{3})(\\d{3})","$1 $2 $3",["1[89]0","1[89]00"],"$1"]],"0","0$1"],TJ:["992","[3-57-9]\\d{8}",[["([349]\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[34]7|91[78]"]],["([457-9]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[148]|[578]|9(?:[0235-9]|1[59])"]],["(331700)(\\d)(\\d{2})","$1 $2 $3",["331","3317","33170","331700"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3[1-5]","3(?:[1245]|3(?:[02-9]|1[0-589]))"]]],"8",null,null,null,!0],TK:["690","[2-47]\\d{3,6}"],TL:["670","[2-489]\\d{6}|7\\d{6,7}",[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7[3-8]"]]]],TM:["993","[1-6]\\d{7}",[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"]],["(\\d{2})(\\d{6})","$1 $2",["6"],"8 $1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["13|[2-5]"]]],"8","(8 $1)"],TN:["216","[2-57-9]\\d{7}",[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3"]]],TO:["676","[02-8]\\d{4,6}",[["(\\d{2})(\\d{3})","$1-$2",["[1-6]|7[0-4]|8[05]"]],["(\\d{3})(\\d{4})","$1 $2",["7[5-9]|8[47-9]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]]]],TR:["90","[2-589]\\d{9}|444\\d{4}",[["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[23]|4(?:[0-35-9]|4[0-35-9])"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[02-69]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["51|[89]"],"0$1"],["(444)(\\d{1})(\\d{3})","$1 $2 $3",["444"]]],"0",null,null,null,!0],TT:["1","[589]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"868"],TV:["688","[279]\\d{4,6}"],TW:["886","2\\d{6,8}|[3-689]\\d{7,8}|7\\d{7,9}",[["(20)(\\d)(\\d{4})","$1 $2 $3",["202"]],["([258]0)(\\d{3})(\\d{4})","$1 $2 $3",["20[013-9]|50[0-46-9]|80[0-79]"]],["([2-8])(\\d{3,4})(\\d{4})","$1 $2 $3",["[25][2-8]|[346]|[78][1-9]"]],["(9\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"]],["(70)(\\d{4})(\\d{4})","$1 $2 $3",["70"]]],"0","0$1"],TZ:["255","\\d{9}",[["([24]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[24]"]],["([67]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"]],["([89]\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"]]],"0","0$1"],UA:["380","[3-9]\\d{8}",[["([3-9]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[38]9|4(?:[45][0-5]|87)|5(?:0|[67][37])|6[36-8]|7|9[1-9]","[38]9|4(?:[45][0-5]|87)|5(?:0|6(?:3[14-7]|7)|7[37])|6[36-8]|7|9[1-9]"]],["([3-689]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["(?:3[1-8]|4[136-8])2|5(?:[12457]2|6[24])|6(?:[12][29]|[49]2|5[24])|8[0-8]|90","3(?:[1-46-8]2[013-9]|52)|4(?:[1378]2|62[013-9])|5(?:[12457]2|6[24])|6(?:[12][29]|[49]2|5[24])|8[0-8]|90"]],["([3-6]\\d{3})(\\d{5})","$1 $2",["3(?:[1-46-8]|5[013-9])|4(?:[137][013-9]|[45][6-9]|6|8[4-6])|5(?:[1245][013-9]|3|6[0135689]|7[4-6])|6(?:[12][13-8]|[49][013-9]|5[0135-9])","3(?:[1-46-8](?:[013-9]|22)|5[013-9])|4(?:[137][013-9]|[45][6-9]|6(?:[013-9]|22)|8[4-6])|5(?:[1245][013-9]|3|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][13-8]|[49][013-9]|5[0135-9])"]]],"0","0$1"],UG:["256","\\d{9}",[["(\\d{3})(\\d{6})","$1 $2",["20[0-8]|4(?:6[45]|[7-9])|[7-9]","20(?:[013-8]|2[5-9])|4(?:6[45]|[7-9])|[7-9]"]],["(\\d{2})(\\d{7})","$1 $2",["3|4(?:[1-5]|6[0-36-9])"]],["(2024)(\\d{5})","$1 $2",["202","2024"]]],"0","0$1"],US:["1","[2-9]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,!0,null,["(?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[026]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[0-24679]|4[67]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|6[39]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[16]|5[017]|6[0-279]|78|8[012])|7(?:0[1-46-8]|1[02-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|28|3[0-258]|4[3578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[014678]|4[0179]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}",null,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}","900[2-9]\\d{6}","5(?:(?:00|22|33|44|66|77|88)[2-9]|21[23])\\d{6}"]],UY:["598","[2489]\\d{6,7}",[["(\\d{4})(\\d{4})","$1 $2",["[24]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9[1-9]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["[89]0"],"0$1"]],"0"],UZ:["998","[679]\\d{8}",[["([679]\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[679]"]]],"8","8 $1"],VA:["39","(?:0(?:878\\d{5}|6698\\d{5})|[1589]\\d{5,10}|3(?:[12457-9]\\d{8}|[36]\\d{7,9}))",[["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|55"]],["(0[26])(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(0[26])(\\d{4,6})","$1 $2",["0[26]"]],["(0\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[245])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|[45][0-4]))"]],["(0\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["0[13-57-9][2-46-8]"]],["(0\\d{3})(\\d{2,6})","$1 $2",["0[13-57-9][2-46-8]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13]|8(?:00|4[08]|9[59])","[13]|8(?:00|4[08]|9(?:5[5-9]|9))"]],["(\\d{4})(\\d{4})","$1 $2",["894","894[5-9]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3"]]],null,null,null,null,null,null,["06698\\d{5}","3(?:[12457-9]\\d{8}|6\\d{7,8}|3\\d{7,9})","80(?:0\\d{6}|3\\d{3})","0878\\d{5}|1(?:44|6[346])\\d{6}|89(?:2\\d{3}|4(?:[0-4]\\d{2}|[5-9]\\d{4})|5(?:[0-4]\\d{2}|[5-9]\\d{6})|9\\d{6})","1(?:78\\d|99)\\d{6}",null,null,null,"55\\d{8}","84(?:[08]\\d{6}|[17]\\d{3})"]],VC:["1","[5789]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"784"],VE:["58","[24589]\\d{9}",[["(\\d{3})(\\d{7})","$1-$2"]],"0","0$1"],VG:["1","[2589]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"284"],VI:["1","[3589]\\d{9}",[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",null,null,null,"$1-$2-$3"]],"1",null,null,null,null,"340"],VN:["84","1\\d{6,9}|2\\d{9}|6\\d{6,7}|7\\d{6}|8\\d{6,8}|9\\d{8}",[["([17]99)(\\d{4})","$1 $2",["[17]99"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"]],["(80)(\\d{5})","$1 $2",["80"]],["(69\\d)(\\d{4,5})","$1 $2",["69"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2[0-35-79]"]],["([89]\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8(?:8|9[89])|9"]],["(1[2689]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1(?:[26]|8[68]|99)"]],["(86[89])(\\d{3})(\\d{3})","$1 $2 $3",["86[89]"]],["(1[89]00)(\\d{4,6})","$1 $2",["1[89]0","1[89]00"],"$1"]],"0","0$1",null,null,!0],VU:["678","[2-57-9]\\d{4,6}",[["(\\d{3})(\\d{4})","$1 $2",["[579]"]]]],WF:["681","[4-8]\\d{5}",[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3"]]],WS:["685","[2-8]\\d{4,6}",[["(8\\d{2})(\\d{3,4})","$1 $2",["8"]],["(7\\d)(\\d{5})","$1 $2",["7"]],["(\\d{5})","$1",["[2-6]"]]]],YE:["967","[1-7]\\d{6,8}",[["([1-7])(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7[24-68]"]],["(7\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["7[0137]"]]],"0","0$1"],YT:["262","[268]\\d{8}",[["([268]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[268]"]]],"0",null,null,null,null,"269|63"],ZA:["27","[1-79]\\d{8}|8\\d{4,8}",[["(860)(\\d{3})(\\d{3})","$1 $2 $3",["860"]],["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"]],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-79]|8(?:[0-57]|6[1-9])"]]],"0","0$1"],ZM:["260","[289]\\d{8}",[["(\\d{2})(\\d{4})","$1 $2",null,"$1"],["([1-8])(\\d{2})(\\d{4})","$1 $2 $3",["[1-8]"],"$1"],["([29]\\d)(\\d{7})","$1 $2",["[29]"]],["(800)(\\d{3})(\\d{3})","$1 $2 $3",["800"]]],"0","0$1"],ZW:["263","2(?:[0-57-9]\\d{3,8}|6(?:[14]\\d{7}|\\d{4}))|[13-69]\\d{4,9}|7\\d{8}|8[06]\\d{5,8}",[["([49])(\\d{3})(\\d{2,4})","$1 $2 $3",["4|9[2-9]"]],["(7\\d)(\\d{3})(\\d{4})","$1 $2 $3",["7"]],["(86\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["86[24]"]],["([2356]\\d{2})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8|[78])|3(?:[09]8|17|3[78]|7[1569]|8[37])|5[15][78]|6(?:[29]8|37|[68][78]|75)"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|31|[56][14]|7[35]|84)|329"]],["([1-356]\\d)(\\d{3,5})","$1 $2",["1[3-9]|2[02569]|3[0-69]|5[05689]|6"]],["([235]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[23]9|54"]],["([25]\\d{3})(\\d{3,5})","$1 $2",["(?:25|54)8","258[23]|5483"]],["(8\\d{3})(\\d{6})","$1 $2",["86"]],["(80\\d)(\\d{4})","$1 $2",["80"]]],"0","0$1"],"001":["979","\\d{9}",[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3"]]]}}},YqAc:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},ZYjt:function(t,e,n){"use strict";n.d(e,"p",function(){return gt}),n.d(e,"q",function(){return I}),n.d(e,"a",function(){return mt}),n.d(e,"h",function(){return yt}),n.d(e,"c",function(){return O}),n.d(e,"d",function(){return D}),n.d(e,"e",function(){return tt}),n.d(e,"f",function(){return et}),n.d(e,"g",function(){return nt}),n.d(e,"b",function(){return st}),n.d(e,"r",function(){return s}),n.d(e,"j",function(){return j}),n.d(e,"i",function(){return Z}),n.d(e,"m",function(){return rt}),n.d(e,"n",function(){return at}),n.d(e,"l",function(){return R}),n.d(e,"o",function(){return A}),n.d(e,"k",function(){return ut});var r=n("mrSG"),o=n("Ip0R"),i=n("CcnG"),a=null;function s(){return a}var u,c={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},l={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},h={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};i["\u0275global"].Node&&(u=i["\u0275global"].Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var d,f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,a||(a=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var o;(o=t)[e].apply(o,Object(r.d)(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return c},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return u.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var o=n.item(r);e.set(o.name,o.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&h.hasOwnProperty(e)&&(e=h[e]))}return l[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=p||(p=document.querySelector("base"))?p.getAttribute("href"):null;return null==n?null:(e=n,d||(d=document.createElement("a")),d.setAttribute("href",e),"/"===d.pathname.charAt(0)?d.pathname:"/"+d.pathname)},e.prototype.resetBaseElement=function(){p=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(o.z)(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],o=0;o<r.length;o++)if(null!=e.getStyle(n,r[o]+"AnimationName")){e._animationPrefix="-"+r[o].toLowerCase()+"-";break}var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(i).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=i[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(r.b)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),p=null,v=o.e;function y(){return!!window.history.pushState}var g=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(r.b)(e,t),e.prototype._init=function(){this.location=s().getLocation(),this._history=s().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return s().getBaseHref(this._doc)},e.prototype.onPopState=function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){y()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){y()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[v]}]}]},e}(o.r),m=new i.InjectionToken("TRANSITION_ID"),b=[{provide:i.APP_INITIALIZER,useFactory:function(t,e,n){return function(){n.get(i.ApplicationInitStatus).donePromise.then(function(){var n=s();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[m,v,i.Injector],multi:!0}],_=function(){function t(){}return t.init=function(){Object(i.setTestabilityGetter)(new t)},t.prototype.addToWindow=function(t){i["\u0275global"].getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i["\u0275global"].getAllAngularTestabilities=function(){return t.getAllTestabilities()},i["\u0275global"].getAllAngularRootElements=function(){return t.getAllRootElements()},i["\u0275global"].frameworkStabilizers||(i["\u0275global"].frameworkStabilizers=[]),i["\u0275global"].frameworkStabilizers.push(function(t){var e=i["\u0275global"].getAllAngularTestabilities(),n=e.length,r=!1,o=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(o)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,s().getHost(e),!0):this.findTestabilityInTree(t,s().parentElement(e),!0):null},t}();function w(t,e){"undefined"!=typeof COMPILED&&COMPILED||((i["\u0275global"].ng=i["\u0275global"].ng||{})[t]=e)}var E={ApplicationRef:i.ApplicationRef,NgZone:i.NgZone},C="probe",S="coreTokens";function T(t){return Object(i.getDebugNode)(t)}function I(t){return w(C,T),w(S,Object(r.a)({},E,(t||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return T}}var O=new i.InjectionToken("EventManagerPlugins"),D=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var o=n[r];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error("No event manager plugin found for event "+t)},t}(),N=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),A=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),R=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(r.b)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return s().remove(t)})},e}(A),k={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},P=/%COMP%/g,x="_nghost-%COMP%",M="_ngcontent-%COMP%";function $(t,e,n){for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?$(t,o,n):(o=o.replace(P,t),n.push(o))}return n}function L(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var j=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new F(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.ViewEncapsulation.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new q(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case i.ViewEncapsulation.Native:case i.ViewEncapsulation.ShadowDom:return new H(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=$(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),F=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(k[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var o=k[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=k[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&i.RendererStyleFlags2.DashCase?t.style.setProperty(e,n,r&i.RendererStyleFlags2.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&i.RendererStyleFlags2.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){U(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return U(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,L(n)):this.eventManager.addEventListener(t,e,L(n))},t}(),V="@".charCodeAt(0);function U(t,e){if(t.charCodeAt(0)===V)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var B,q=function(t){function e(e,n,r){var o=t.call(this,e)||this;o.component=r;var i=$(r.id,r.styles,[]);return n.addStyles(i),o.contentAttr=M.replace(P,r.id),o.hostAttr=x.replace(P,r.id),o}return Object(r.b)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(F),H=function(t){function e(e,n,r,o){var a=t.call(this,e)||this;a.sharedStylesHost=n,a.hostEl=r,a.component=o,a.shadowRoot=o.encapsulation===i.ViewEncapsulation.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=$(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return Object(r.b)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(F),W="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},G=W("addEventListener"),K=W("removeEventListener"),Q={},z="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[W("BLACK_LISTED_EVENTS")]&&(B={});var Y=function(t){return!!B&&B.hasOwnProperty(t)},X=function(t){var e=Q[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var o=n.slice(),i=0;i<o.length&&!0!==t[z];i++){var a;(a=o[i]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},Z=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.ngZone=n,r&&Object(o.w)(r)||i.patchEvent(),i}return Object(r.b)(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[z]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,o=n;if(!t[G]||i.NgZone.isInAngularZone()&&!Y(e))t.addEventListener(e,o,!1);else{var a=Q[e];a||(a=Q[e]=W("ANGULAR"+e+"FALSE"));var s=t[a],u=s&&s.length>0;s||(s=t[a]=[]);var c=Y(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:c,handler:o});else{for(var l=!1,h=0;h<s.length;h++)if(s[h].handler===o){l=!0;break}l||s.push({zone:c,handler:o})}u||t[G](e,X,!1)}return function(){return r.removeEventListener(t,e,o)}},e.prototype.removeEventListener=function(t,e,n){var r=t[K];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var o=Q[e],i=o&&t[o];if(!i)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<i.length;s++)if(i[s].handler===n){a=!0,i.splice(s,1);break}a?0===i.length&&r.apply(t,[e,X,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(N),J={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},tt=new i.InjectionToken("HammerGestureConfig"),et=new i.InjectionToken("HammerLoader"),nt=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),rt=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i._config=n,i.console=r,i.loader=o,i}return Object(r.b)(e,t),e.prototype.supports=function(t){return!(!J.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,n){var r=this,o=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var i=!1,a=function(){i=!0};return this.loader().then(function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});i||(a=r.addEventListener(t,e,n))}).catch(function(){r.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),a=function(){}}),function(){a()}}return o.runOutsideAngular(function(){var i=r._config.buildHammer(t),a=function(t){o.runGuarded(function(){n(t)})};return i.on(e,a),function(){return i.off(e,a)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(N),ot=["alt","control","meta","shift"],it={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},at=function(t){function e(e){return t.call(this,e)||this}return Object(r.b)(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,r){var o=e.parseEventName(n),i=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return s().onAndCancel(t,o.domEventName,i)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var o=e._normalizeKey(n.pop()),i="";if(ot.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),i+=t+".")}),i+=o,0!=n.length||0===o.length)return null;var a={};return a.domEventName=r,a.fullKey=i,a},e.getEventFullKey=function(t){var e="",n=s().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),ot.forEach(function(r){r!=n&&(0,it[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,n,r){return function(o){e.getEventFullKey(o)===t&&r.runGuarded(function(){return n(o)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(N),st=function(){},ut=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(r.b)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case i.SecurityContext.NONE:return e;case i.SecurityContext.HTML:return e instanceof lt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(i["\u0275_sanitizeHtml"])(this._doc,String(e)));case i.SecurityContext.STYLE:return e instanceof ht?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(i["\u0275_sanitizeStyle"])(e));case i.SecurityContext.SCRIPT:if(e instanceof dt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case i.SecurityContext.URL:return e instanceof pt||e instanceof ft?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(i["\u0275_sanitizeUrl"])(String(e)));case i.SecurityContext.RESOURCE_URL:if(e instanceof pt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof ct)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new lt(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new ht(t)},e.prototype.bypassSecurityTrustScript=function(t){return new dt(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new ft(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new pt(t)},e}(st),ct=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(ct),ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(ct),dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(ct),ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(ct),pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(ct),vt=[{provide:i.PLATFORM_ID,useValue:o.x},{provide:i.PLATFORM_INITIALIZER,useValue:function(){f.makeCurrent(),_.init()},multi:!0},{provide:o.r,useClass:g,deps:[v]},{provide:v,useFactory:function(){return document},deps:[]}],yt=Object(i.createPlatformFactory)(i.platformCore,"browser",vt);function gt(){return new i.ErrorHandler}var mt=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:i.APP_ID,useValue:e.appId},{provide:m,useExisting:i.APP_ID},b]}},t}();"undefined"!=typeof window&&window},Zn8D:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("psW0"),o=n("mChF");function i(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r.a)(o.a,t)}},a0xu:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},awvh:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),o=function(t){function e(n){var r=t.call(this,n?n.length+" errors occurred during unsubscription:\n  "+n.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"")||this;return r.errors=n,r.name="UnsubscriptionError",Object.setPrototypeOf(r,e.prototype),r}return r.b(e,t),e}(Error)},bBy9:function(t,e,n){n("w2d+");for(var r=n("5T2Y"),o=n("NegM"),i=n("SBuE"),a=n("UWiX")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],h=l&&l.prototype;h&&!h[a]&&o(h,a,c),i[c]=i.Array}},bZMm:function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},o=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};l.prototype.append=function(t,e){t=s(t),e=u(e);var n=this.map[t];this.map[t]=n?n+","+e:e},l.prototype.delete=function(t){delete this.map[s(t)]},l.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},l.prototype.set=function(t,e){this.map[s(t)]=u(e)},l.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},l.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),c(t)},l.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),c(t)},l.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),c(t)},e.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},v.call(y.prototype),v.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},m.error=function(){var t=new m(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];m.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new m(null,{status:e,headers:{location:t}})},t.Headers=l,t.Request=y,t.Response=m,t.fetch=function(t,n){return new Promise(function(r,o){var i=new y(t,n),a=new XMLHttpRequest;a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new l,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}}),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL"),r(new m("response"in a?a.response:a.responseText,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&e.blob&&(a.responseType="blob"),i.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function c(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(t){this.map={},t instanceof l?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function f(t){var e=new FileReader,n=d(e);return e.readAsArrayBuffer(t),n}function p(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!o(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=p(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var t,e,n,r=h(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=d(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(t,e){var n,r,o=(e=e||{}).body;if(t instanceof y){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),i.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function g(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}}),e}function m(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},c34Q:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("IvtZ"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.ngOnInit=function(){this.validator=i.rangeLength(this.rangeLength)},t.prototype.ngOnChanges=function(t){for(var e in t)"rangeLength"===e&&(this.validator=i.rangeLength(t[e].currentValue),this.onChange&&this.onChange())},t.prototype.validate=function(t){return this.validator(t)},t.prototype.registerOnValidatorChange=function(t){this.onChange=t},t.decorators=[{type:r.Directive,args:[{selector:"[rangeLength][formControlName],[rangeLength][formControl],[rangeLength][ngModel]",providers:[a]}]}],t.propDecorators={rangeLength:[{type:r.Input}]},t}();e.RangeLengthValidator=s},cI4K:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("WcuY")),r(n("kqoJ"))},ccE7:function(t,e,n){var r=n("Ojgd"),o=n("Jes0");t.exports=function(t){return function(e,n){var i,a,s=String(o(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}}},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},dEwP:function(t,e,n){"use strict";n.r(e),n.d(e,"concat",function(){return s});var r=n("nkY7"),o=n(null),i=n("0/uQ"),a=n(null);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length||2===t.length&&Object(r.a)(t[1])?Object(i.a)(t[0]):Object(a.a)()(o.a.apply(void 0,t))}},dYSy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("NCDA"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.ngOnInit=function(){this.validator=i.lte(this.lte)},t.prototype.ngOnChanges=function(t){for(var e in t)"lte"===e&&(this.validator=i.lte(t[e].currentValue),this.onChange&&this.onChange())},t.prototype.validate=function(t){return this.validator(t)},t.prototype.registerOnValidatorChange=function(t){this.onChange=t},t.decorators=[{type:r.Directive,args:[{selector:"[lte][formControlName],[lte][formControl],[lte][ngModel]",providers:[a]}]}],t.propDecorators={lte:[{type:r.Input}]},t}();e.LessThanEqualValidator=s},dzgT:function(t,e,n){"use strict";n.r(e),n.d(e,"combineLatest",function(){return l}),n.d(e,"CombineLatestOperator",function(){return h}),n.d(e,"CombineLatestSubscriber",function(){return d});var r=n("mrSG"),o=n("nkY7"),i=n("isby"),a=n("MGBS"),s=n("zotm"),u=n("IUTb"),c={};function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return Object(o.a)(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(i.a)(t[0])&&(t=t[0]),Object(u.a)(t,r).lift(new h(n))}var h=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new d(t,this.resultSelector))},t}(),d=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.b(e,t),e.prototype._next=function(t){this.values.push(c),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(s.a)(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){var i=this.values,a=this.toRespond?i[n]===c?--this.toRespond:this.toRespond:0;i[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(a.a)},eUtF:function(t,e,n){t.exports=!n("jmDH")&&!n("KUxP")(function(){return 7!=Object.defineProperty(n("Hsns")("div"),"a",{get:function(){return 7}}).a})},eaoh:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},eihs:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={e:{}}},emHa:function(t,e,n){"use strict";n.r(e),n.d(e,"bindNodeCallback",function(){return u});var r=n("6blF"),o=n("svcd"),i=n("67Y/"),a=n("nkY7"),s=n("isby");function u(t,e,n){if(e){if(!Object(a.a)(e))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return u(t,n).apply(void 0,r).pipe(Object(i.a)(function(t){return Object(s.a)(t)?e.apply(void 0,t):e(t)}))};n=e}return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var a={subject:void 0,args:e,callbackFunc:t,scheduler:n,context:this};return new r.a(function(r){var i=a.context,s=a.subject;if(n)return n.schedule(c,0,{params:a,subscriber:r,context:i});if(!s){s=a.subject=new o.AsyncSubject;try{t.apply(i,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.shift();n?s.error(n):(s.next(t.length<=1?t[0]:t),s.complete())}]))}catch(t){s.error(t)}}return s.subscribe(r)})}}function c(t){var e=this,n=t.params,r=t.subscriber,i=t.context,a=n.callbackFunc,s=n.args,u=n.scheduler,c=n.subject;if(!c){c=n.subject=new o.AsyncSubject;try{a.apply(i,s.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.shift();e.add(r?u.schedule(h,0,{err:r,subject:c}):u.schedule(l,0,{value:t.length<=1?t[0]:t,subject:c}))}]))}catch(t){this.add(u.schedule(h,0,{err:t,subject:c}))}}this.add(c.subscribe(r))}function l(t){var e=t.subject;e.next(t.value),e.complete()}function h(t){t.subject.error(t.err)}},fNZA:function(t,e,n){var r=n("QMMT"),o=n("UWiX")("iterator"),i=n("SBuE");t.exports=n("WEpk").getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},fXsU:function(t,e,n){var r=n("5K7Z"),o=n("fNZA");t.exports=n("WEpk").getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},fpC5:function(t,e,n){var r=n("2faE"),o=n("5K7Z"),i=n("w6GO");t.exports=n("jmDH")?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},gHGA:function(t,e,n){"use strict";n.r(e);var r=n("zVF4"),o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function s(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var c=n("wj3C"),l=n.n(c);n.d(e,"registerMessaging",function(){return P}),n.d(e,"isSupported",function(){return x});var h,d,f,p={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",TOKEN_UNSUBSCRIBE_FAILED:"token-unsubscribe-failed",TOKEN_UPDATE_FAILED:"token-update-failed",TOKEN_UPDATE_NO_TOKEN:"token-update-no-token",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key",INVALID_PUBLIC_VAPID_KEY:"invalid-public-vapid-key",USE_PUBLIC_KEY_BEFORE_GET_TOKEN:"use-public-key-before-get-token",PUBLIC_KEY_DECRYPTION_FAILED:"public-vapid-key-decryption-failed"},v=((h={})[p.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",h[p.AVAILABLE_IN_SW]="This method is available in a service worker context.",h[p.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",h[p.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",h[p.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",h[p.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",h[p.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",h[p.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",h[p.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",h[p.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",h[p.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",h[p.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",h[p.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",h[p.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",h[p.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",h[p.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",h[p.TOKEN_UNSUBSCRIBE_FAILED]="A problem occured while unsubscribing the user from FCM: {$message}",h[p.TOKEN_UPDATE_FAILED]="A problem occured while updating the user from FCM: {$message}",h[p.TOKEN_UPDATE_NO_TOKEN]="FCM returned no token when updating the user to push.",h[p.USE_SW_BEFORE_GET_TOKEN]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",h[p.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",h[p.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",h[p.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",h[p.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",h[p.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",h[p.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",h[p.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",h[p.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",h[p.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",h[p.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",h[p.BAD_SCOPE]="The service worker scope must be a string with at least one character.",h[p.BAD_VAPID_KEY]="The public VAPID key is not a Uint8Array with 65 bytes.",h[p.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",h[p.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",h[p.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",h[p.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",h[p.INVALID_PUBLIC_VAPID_KEY]="The public VAPID key must be a string.",h[p.PUBLIC_KEY_DECRYPTION_FAILED]="The public VAPID key did not equal 65 bytes when decrypted.",h),y=new r.ErrorFactory("messaging","Messaging",v),g=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),m="https://fcm.googleapis.com";function b(t,e){if(null==t||null==e)return!1;if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(var n=new DataView(t),r=new DataView(e),o=0;o<t.byteLength;o++)if(n.getUint8(o)!==r.getUint8(o))return!1;return!0}function _(t){return function(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(null,e))}(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}!function(t){t.TYPE_OF_MSG="firebase-messaging-msg-type",t.DATA="firebase-messaging-msg-data"}(d||(d={})),function(t){t.PUSH_MSG_RECEIVED="push-msg-received",t.NOTIFICATION_CLICKED="notification-clicked"}(f||(f={}));var w=function(){function t(){}return t.prototype.getToken=function(t,e,n){return s(this,void 0,void 0,function(){var r,o,i,a,s,c,l;return u(this,function(u){switch(u.label){case 0:r=_(e.getKey("p256dh")),o=_(e.getKey("auth")),i="authorized_entity="+t+"&endpoint="+e.endpoint+"&encryption_key="+r+"&encryption_auth="+o,b(n.buffer,g.buffer)||(a=_(n),i+="&application_pub_key="+a),(s=new Headers).append("Content-Type","application/x-www-form-urlencoded"),c={method:"POST",headers:s,body:i},u.label=1;case 1:return u.trys.push([1,4,,5]),[4,fetch(m+"/fcm/connect/subscribe",c)];case 2:return[4,u.sent().json()];case 3:return l=u.sent(),[3,5];case 4:throw u.sent(),y.create(p.TOKEN_SUBSCRIBE_FAILED);case 5:if(l.error)throw y.create(p.TOKEN_SUBSCRIBE_FAILED,{message:l.error.message});if(!l.token)throw y.create(p.TOKEN_SUBSCRIBE_NO_TOKEN);if(!l.pushSet)throw y.create(p.TOKEN_SUBSCRIBE_NO_PUSH_SET);return[2,{token:l.token,pushSet:l.pushSet}]}})})},t.prototype.updateToken=function(t,e,n,r,o){return s(this,void 0,void 0,function(){var i,a,s,c,l,h,d;return u(this,function(u){switch(u.label){case 0:i=_(r.getKey("p256dh")),a=_(r.getKey("auth")),s="push_set="+n+"&token="+e+"&authorized_entity="+t+"&endpoint="+r.endpoint+"&encryption_key="+i+"&encryption_auth="+a,b(o.buffer,g.buffer)||(c=_(o),s+="&application_pub_key="+c),(l=new Headers).append("Content-Type","application/x-www-form-urlencoded"),h={method:"POST",headers:l,body:s},u.label=1;case 1:return u.trys.push([1,4,,5]),[4,fetch(m+"/fcm/connect/subscribe",h)];case 2:return[4,u.sent().json()];case 3:return d=u.sent(),[3,5];case 4:throw u.sent(),y.create(p.TOKEN_UPDATE_FAILED);case 5:if(d.error)throw y.create(p.TOKEN_UPDATE_FAILED,{message:d.error.message});if(!d.token)throw y.create(p.TOKEN_UPDATE_NO_TOKEN);return[2,d.token]}})})},t.prototype.deleteToken=function(t,e,n){return s(this,void 0,void 0,function(){var r,o,i,a;return u(this,function(s){switch(s.label){case 0:r="authorized_entity="+t+"&token="+e+"&pushSet="+n,(o=new Headers).append("Content-Type","application/x-www-form-urlencoded"),i={method:"POST",headers:o,body:r},s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch(m+"/fcm/connect/unsubscribe",i)];case 2:return[4,s.sent().json()];case 3:if((a=s.sent()).error)throw y.create(p.TOKEN_UNSUBSCRIBE_FAILED,{message:a.error.message});return[3,5];case 4:throw s.sent(),y.create(p.TOKEN_UNSUBSCRIBE_FAILED);case 5:return[2]}})})},t}();function E(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r}var C=function(){function t(){this.dbPromise=null}return t.prototype.get=function(t){return this.createTransaction(function(e){return e.get(t)})},t.prototype.getIndex=function(t,e){return this.createTransaction(function(n){return n.index(t).get(e)})},t.prototype.put=function(t){return this.createTransaction(function(e){return e.put(t)},"readwrite")},t.prototype.delete=function(t){return this.createTransaction(function(e){return e.delete(t)},"readwrite")},t.prototype.closeDatabase=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:t.sent().close(),this.dbPromise=null,t.label=2;case 2:return[2]}})})},t.prototype.createTransaction=function(t,e){return void 0===e&&(e="readonly"),s(this,void 0,void 0,function(){var n,r,o,i;return u(this,function(a){switch(a.label){case 0:return[4,this.getDb()];case 1:return n=a.sent(),r=n.transaction(this.objectStoreName,e),o=r.objectStore(this.objectStoreName),[4,function(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}(t(o))];case 2:return i=a.sent(),[2,new Promise(function(t,e){r.oncomplete=function(){t(i)},r.onerror=function(){e(r.error)}})]}})})},t.prototype.getDb=function(){var t=this;return this.dbPromise||(this.dbPromise=new Promise(function(e,n){var r=indexedDB.open(t.dbName,t.dbVersion);r.onsuccess=function(){e(r.result)},r.onerror=function(){t.dbPromise=null,n(r.error)},r.onupgradeneeded=function(e){return t.onDbUpgrade(r,e)}})),this.dbPromise},t}(),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbName="fcm_token_details_db",e.dbVersion=3,e.objectStoreName="fcm_token_object_Store",e}return i(e,t),e.prototype.onDbUpgrade=function(t,e){var n=t.result;switch(e.oldVersion){case 0:(r=n.createObjectStore(this.objectStoreName,{keyPath:"swScope"})).createIndex("fcmSenderId","fcmSenderId",{unique:!1}),r.createIndex("fcmToken","fcmToken",{unique:!0});case 1:!function(){var t=indexedDB.open("undefined");t.onerror=function(t){},t.onsuccess=function(e){!function(t){if(t.objectStoreNames.contains("fcm_token_object_Store")){var e=t.transaction("fcm_token_object_Store").objectStore("fcm_token_object_Store"),n=new w,r=e.openCursor();r.onerror=function(t){console.warn("Unable to cleanup old IDB.",t)},r.onsuccess=function(){var e=r.result;if(e){var o=e.value;n.deleteToken(o.fcmSenderId,o.fcmToken,o.fcmPushSet),e.continue()}else t.close(),indexedDB.deleteDatabase("undefined")}}}(t.result)}}();case 2:var r,o=(r=t.transaction.objectStore(this.objectStoreName)).openCursor();o.onsuccess=function(){var t=o.result;if(t){var e=t.value,n=a({},e);e.createTime||(n.createTime=Date.now()),"string"==typeof e.vapidKey&&(n.vapidKey=E(e.vapidKey)),"string"==typeof e.auth&&(n.auth=E(e.auth).buffer),"string"==typeof e.auth&&(n.p256dh=E(e.p256dh).buffer),t.update(n),t.continue()}}}},e.prototype.getTokenDetailsFromToken=function(t){return s(this,void 0,void 0,function(){return u(this,function(e){if(!t)throw y.create(p.BAD_TOKEN);return T({fcmToken:t}),[2,this.getIndex("fcmToken",t)]})})},e.prototype.getTokenDetailsFromSWScope=function(t){return s(this,void 0,void 0,function(){return u(this,function(e){if(!t)throw y.create(p.BAD_SCOPE);return T({swScope:t}),[2,this.get(t)]})})},e.prototype.saveTokenDetails=function(t){return s(this,void 0,void 0,function(){return u(this,function(e){if(!t.swScope)throw y.create(p.BAD_SCOPE);if(!t.vapidKey)throw y.create(p.BAD_VAPID_KEY);if(!t.endpoint||!t.auth||!t.p256dh)throw y.create(p.BAD_SUBSCRIPTION);if(!t.fcmSenderId)throw y.create(p.BAD_SENDER_ID);if(!t.fcmToken)throw y.create(p.BAD_TOKEN);if(!t.fcmPushSet)throw y.create(p.BAD_PUSH_SET);return T(t),[2,this.put(t)]})})},e.prototype.deleteToken=function(t){return s(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return"string"!=typeof t||0===t.length?[2,Promise.reject(y.create(p.INVALID_DELETE_TOKEN))]:[4,this.getTokenDetailsFromToken(t)];case 1:if(!(e=n.sent()))throw y.create(p.DELETE_TOKEN_NOT_FOUND);return[4,this.delete(e.swScope)];case 2:return n.sent(),[2,e]}})})},e}(C);function T(t){if(t.fcmToken&&("string"!=typeof t.fcmToken||0===t.fcmToken.length))throw y.create(p.BAD_TOKEN);if(t.swScope&&("string"!=typeof t.swScope||0===t.swScope.length))throw y.create(p.BAD_SCOPE);if(t.vapidKey&&(!(t.vapidKey instanceof Uint8Array)||65!==t.vapidKey.length))throw y.create(p.BAD_VAPID_KEY);if(t.endpoint&&("string"!=typeof t.endpoint||0===t.endpoint.length))throw y.create(p.BAD_SUBSCRIPTION);if(t.auth&&!(t.auth instanceof ArrayBuffer))throw y.create(p.BAD_SUBSCRIPTION);if(t.p256dh&&!(t.p256dh instanceof ArrayBuffer))throw y.create(p.BAD_SUBSCRIPTION);if(t.fcmSenderId&&("string"!=typeof t.fcmSenderId||0===t.fcmSenderId.length))throw y.create(p.BAD_SENDER_ID);if(t.fcmPushSet&&("string"!=typeof t.fcmPushSet||0===t.fcmPushSet.length))throw y.create(p.BAD_PUSH_SET)}var I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbName="fcm_vapid_details_db",e.dbVersion=1,e.objectStoreName="fcm_vapid_object_Store",e}return i(e,t),e.prototype.onDbUpgrade=function(t){t.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},e.prototype.getVapidFromSWScope=function(t){return s(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:if("string"!=typeof t||0===t.length)throw y.create(p.BAD_SCOPE);return[4,this.get(t)];case 1:return[2,(e=n.sent())?e.vapidKey:void 0]}})})},e.prototype.saveVapidDetails=function(t,e){return s(this,void 0,void 0,function(){return u(this,function(n){if("string"!=typeof t||0===t.length)throw y.create(p.BAD_SCOPE);if(null===e||65!==e.length)throw y.create(p.BAD_VAPID_KEY);return[2,this.put({swScope:t,vapidKey:e})]})})},e.prototype.deleteVapidDetails=function(t){return s(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return[4,this.getVapidFromSWScope(t)];case 1:if(!(e=n.sent()))throw y.create(p.DELETE_SCOPE_NOT_FOUND);return[4,this.delete(t)];case 2:return n.sent(),[2,e]}})})},e}(C),O="messagingSenderId",D=function(){function t(t){var e=this;if(!t.options[O]||"string"!=typeof t.options[O])throw y.create(p.BAD_SENDER_ID);this.messagingSenderId=t.options[O],this.tokenDetailsModel=new S,this.vapidDetailsModel=new I,this.iidModel=new w,this.app=t,this.INTERNAL={delete:function(){return e.delete()}}}return t.prototype.getToken=function(){return s(this,void 0,void 0,function(){var t,e,n,r,o;return u(this,function(i){switch(i.label){case 0:if("denied"===(t=this.getNotificationPermission_()))throw y.create(p.NOTIFICATIONS_BLOCKED);return"granted"!==t?[2,null]:[4,this.getSWRegistration_()];case 1:return e=i.sent(),[4,this.getPublicVapidKey_()];case 2:return n=i.sent(),[4,this.getPushSubscription(e,n)];case 3:return r=i.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(e.scope)];case 4:return(o=i.sent())?[2,this.manageExistingToken(e,r,n,o)]:[2,this.getNewToken(e,r,n)]}})})},t.prototype.manageExistingToken=function(t,e,n,r){return s(this,void 0,void 0,function(){return u(this,function(o){switch(o.label){case 0:return function(t,e,n){if(!n.vapidKey||!b(e.buffer,n.vapidKey.buffer))return!1;var r=t.endpoint===n.endpoint,o=b(t.getKey("auth"),n.auth),i=b(t.getKey("p256dh"),n.p256dh);return r&&o&&i}(e,n,r)?Date.now()<r.createTime+6048e5?[2,r.fcmToken]:[2,this.updateToken(t,e,n,r)]:[4,this.deleteTokenFromDB(r.fcmToken)];case 1:return o.sent(),[2,this.getNewToken(t,e,n)]}})})},t.prototype.updateToken=function(t,e,n,r){return s(this,void 0,void 0,function(){var o,i,a;return u(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,6]),[4,this.iidModel.updateToken(this.messagingSenderId,r.fcmToken,r.fcmPushSet,e,n)];case 1:return o=s.sent(),i={swScope:t.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:o,fcmPushSet:r.fcmPushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(i)];case 2:return s.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,n)];case 3:return s.sent(),[2,o];case 4:return a=s.sent(),[4,this.deleteToken(r.fcmToken)];case 5:throw s.sent(),a;case 6:return[2]}})})},t.prototype.getNewToken=function(t,e,n){return s(this,void 0,void 0,function(){var r,o;return u(this,function(i){switch(i.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,e,n)];case 1:return r=i.sent(),o={swScope:t.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:r.token,fcmPushSet:r.pushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(o)];case 2:return i.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,n)];case 3:return i.sent(),[2,r.token]}})})},t.prototype.deleteToken=function(t){return s(this,void 0,void 0,function(){var e,n;return u(this,function(r){switch(r.label){case 0:return[4,this.deleteTokenFromDB(t)];case 1:return r.sent(),[4,this.getSWRegistration_()];case 2:return(e=r.sent())?[4,e.pushManager.getSubscription()]:[3,4];case 3:if(n=r.sent())return[2,n.unsubscribe()];r.label=4;case 4:return[2,!0]}})})},t.prototype.deleteTokenFromDB=function(t){return s(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return[4,this.tokenDetailsModel.deleteToken(t)];case 1:return e=n.sent(),[4,this.iidModel.deleteToken(e.fcmSenderId,e.fcmToken,e.fcmPushSet)];case 2:return n.sent(),[2]}})})},t.prototype.getPushSubscription=function(t,e){return t.pushManager.getSubscription().then(function(n){return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})})},t.prototype.requestPermission=function(){throw y.create(p.AVAILABLE_IN_WINDOW)},t.prototype.useServiceWorker=function(t){throw y.create(p.AVAILABLE_IN_WINDOW)},t.prototype.usePublicVapidKey=function(t){throw y.create(p.AVAILABLE_IN_WINDOW)},t.prototype.onMessage=function(t,e,n){throw y.create(p.AVAILABLE_IN_WINDOW)},t.prototype.onTokenRefresh=function(t,e,n){throw y.create(p.AVAILABLE_IN_WINDOW)},t.prototype.setBackgroundMessageHandler=function(t){throw y.create(p.AVAILABLE_IN_SW)},t.prototype.delete=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return t.sent(),[2]}})})},t.prototype.getNotificationPermission_=function(){return Notification.permission},t.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},t.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},t.prototype.getIidModel=function(){return this.iidModel},t}(),N=function(t){function e(e){var n=t.call(this,e)||this;return n.bgMessageHandler=null,self.addEventListener("push",function(t){n.onPush(t)}),self.addEventListener("pushsubscriptionchange",function(t){n.onSubChange(t)}),self.addEventListener("notificationclick",function(t){n.onNotificationClick(t)}),n}return i(e,t),e.prototype.onPush=function(t){t.waitUntil(this.onPush_(t))},e.prototype.onSubChange=function(t){t.waitUntil(this.onSubChange_(t))},e.prototype.onNotificationClick=function(t){t.waitUntil(this.onNotificationClick_(t))},e.prototype.onPush_=function(t){return s(this,void 0,void 0,function(){var e,n,r,o,i,a;return u(this,function(s){switch(s.label){case 0:if(!t.data)return[2];try{e=t.data.json()}catch(t){return[2]}return[4,this.hasVisibleClients_()];case 1:return s.sent()?[2,this.sendMessageToWindowClients_(e)]:(n=this.getNotificationData_(e))?(r=n.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return o=s.sent(),i=n.actions,a=Notification.maxActions,i&&a&&i.length>a&&console.warn("This browser only supports "+a+" actions.The remaining actions will not be displayed."),[2,o.showNotification(r,n)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:[3,5];case 4:return s.sent(),[2];case 5:return[2]}})})},e.prototype.onSubChange_=function(t){return s(this,void 0,void 0,function(){var t,e,n,r;return u(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return t=o.sent(),[3,3];case 2:throw e=o.sent(),y.create(p.UNABLE_TO_RESUBSCRIBE,{message:e});case 3:return o.trys.push([3,5,,8]),[4,t.pushManager.getSubscription()];case 4:return o.sent(),[3,8];case 5:return n=o.sent(),[4,this.getTokenDetailsModel().getTokenDetailsFromSWScope(t.scope)];case 6:if(!(r=o.sent()))throw n;return[4,this.deleteToken(r.fcmToken)];case 7:throw o.sent(),n;case 8:return[2]}})})},e.prototype.onNotificationClick_=function(t){return s(this,void 0,void 0,function(){var e,n,r,o;return u(this,function(i){switch(i.label){case 0:return t.notification&&t.notification.data&&t.notification.data.FCM_MSG?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(e=t.notification.data.FCM_MSG).notification&&(n=e.fcmOptions&&e.fcmOptions.link||e.notification.click_action)?[4,this.getWindowClient_(n)]:[2]):[2];case 1:return(r=i.sent())?[3,3]:[4,self.clients.openWindow(n)];case 2:return r=i.sent(),[3,5];case 3:return[4,r.focus()];case 4:r=i.sent(),i.label=5;case 5:return r?(delete e.notification,delete e.fcmOptions,o=R(f.NOTIFICATION_CLICKED,e),[2,this.attemptToMessageClient_(r,o)]):[2]}})})},e.prototype.getNotificationData_=function(t){if(t&&"object"==typeof t.notification){var e,n=a({},t.notification);return n.data=a({},t.notification.data,((e={}).FCM_MSG=t,e)),n}},e.prototype.setBackgroundMessageHandler=function(t){if(!t||"function"!=typeof t)throw y.create(p.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler=t},e.prototype.getWindowClient_=function(t){return s(this,void 0,void 0,function(){var e,n,r,o;return u(this,function(i){switch(i.label){case 0:return e=new URL(t,self.location.href).href,[4,A()];case 1:for(n=i.sent(),r=null,o=0;o<n.length;o++)if(new URL(n[o].url,self.location.href).href===e){r=n[o];break}return[2,r]}})})},e.prototype.attemptToMessageClient_=function(t,e){return s(this,void 0,void 0,function(){return u(this,function(n){if(!t)throw y.create(p.NO_WINDOW_CLIENT_TO_MSG);return t.postMessage(e),[2]})})},e.prototype.hasVisibleClients_=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,A()];case 1:return[2,t.sent().some(function(t){return"visible"===t.visibilityState})]}})})},e.prototype.sendMessageToWindowClients_=function(t){return s(this,void 0,void 0,function(){var e,n,r=this;return u(this,function(o){switch(o.label){case 0:return[4,A()];case 1:return e=o.sent(),n=R(f.PUSH_MSG_RECEIVED,t),[4,Promise.all(e.map(function(t){return r.attemptToMessageClient_(t,n)}))];case 2:return o.sent(),[2]}})})},e.prototype.getSWRegistration_=function(){return s(this,void 0,void 0,function(){return u(this,function(t){return[2,self.registration]})})},e.prototype.getPublicVapidKey_=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return[4,this.getSWRegistration_()];case 1:if(!(t=n.sent()))throw y.create(p.SW_REGISTRATION_EXPECTED);return[4,this.getVapidDetailsModel().getVapidFromSWScope(t.scope)];case 2:return null==(e=n.sent())?[2,g]:[2,e]}})})},e}(D);function A(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function R(t,e){return(n={})[d.TYPE_OF_MSG]=t,n[d.DATA]=e,n;var n}var k=function(t){function e(e){var n=t.call(this,e)||this;return n.registrationToUse=null,n.publicVapidKeyToUse=null,n.manifestCheckPromise=null,n.messageObserver=null,n.tokenRefreshObserver=null,n.onMessageInternal=Object(r.createSubscribe)(function(t){n.messageObserver=t}),n.onTokenRefreshInternal=Object(r.createSubscribe)(function(t){n.tokenRefreshObserver=t}),n.setupSWMessageListener_(),n}return i(e,t),e.prototype.getToken=function(){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return this.manifestCheckPromise||(this.manifestCheckPromise=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:if(!(t=document.querySelector('link[rel="manifest"]')))return[2];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(t.href)];case 2:return[4,n.sent().json()];case 3:return e=n.sent(),[3,5];case 4:return n.sent(),[2];case 5:if(!e||!e.gcm_sender_id)return[2];if("103953800507"!==e.gcm_sender_id)throw y.create(p.INCORRECT_GCM_SENDER_ID);return[2]}})})}()),[4,this.manifestCheckPromise];case 1:return e.sent(),[2,t.prototype.getToken.call(this)]}})})},e.prototype.requestPermission=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return"granted"===this.getNotificationPermission_()?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw y.create("denied"===t?p.PERMISSION_BLOCKED:p.PERMISSION_DEFAULT)}})})},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw y.create(p.SW_REGISTRATION_EXPECTED);if(null!=this.registrationToUse)throw y.create(p.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse=t},e.prototype.usePublicVapidKey=function(t){if("string"!=typeof t)throw y.create(p.INVALID_PUBLIC_VAPID_KEY);if(null!=this.publicVapidKeyToUse)throw y.create(p.USE_PUBLIC_KEY_BEFORE_GET_TOKEN);var e=E(t);if(65!==e.length)throw y.create(p.PUBLIC_KEY_DECRYPTION_FAILED);this.publicVapidKeyToUse=e},e.prototype.onMessage=function(t,e,n){return"function"==typeof t?this.onMessageInternal(t,e,n):this.onMessageInternal(t)},e.prototype.onTokenRefresh=function(t,e,n){return"function"==typeof t?this.onTokenRefreshInternal(t,e,n):this.onTokenRefreshInternal(t)},e.prototype.waitForRegistrationToActivate_=function(t){var e=t.installing||t.waiting||t.active;return new Promise(function(n,r){if(e)if("activated"!==e.state)if("redundant"!==e.state){var o=function(){if("activated"===e.state)n(t);else{if("redundant"!==e.state)return;r(y.create(p.SW_REG_REDUNDANT))}e.removeEventListener("statechange",o)};e.addEventListener("statechange",o)}else r(y.create(p.SW_REG_REDUNDANT));else n(t);else r(y.create(p.NO_SW_IN_REG))})},e.prototype.getSWRegistration_=function(){var t=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(t){throw y.create(p.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:t.message})}).then(function(e){return t.waitForRegistrationToActivate_(e).then(function(){return t.registrationToUse=e,e.update(),e})}))},e.prototype.getPublicVapidKey_=function(){return s(this,void 0,void 0,function(){return u(this,function(t){return this.publicVapidKeyToUse?[2,this.publicVapidKeyToUse]:[2,g]})})},e.prototype.setupSWMessageListener_=function(){var t=this;navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data[d.TYPE_OF_MSG]){var n=e.data;switch(n[d.TYPE_OF_MSG]){case f.PUSH_MSG_RECEIVED:case f.NOTIFICATION_CLICKED:t.messageObserver&&t.messageObserver.next(n[d.DATA])}}},!1)},e}(D);function P(t){t.INTERNAL.registerService("messaging",function(t){if(!x())throw y.create(p.UNSUPPORTED_BROWSER);return self&&"ServiceWorkerGlobalScope"in self?new N(t):new k(t)},{isSupported:x})}function x(){return self&&"ServiceWorkerGlobalScope"in self?"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}P(l.a)},gI3B:function(t,e,n){"use strict";var r=n("6blF"),o=n(null),i=n("isby");function a(t){return!Object(i.a)(t)&&t-parseFloat(t)+1>=0}var s=n("nkY7");function u(t,e,n){void 0===t&&(t=0);var i=-1;return a(e)?i=Number(e)<1?1:Number(e):Object(s.a)(e)&&(n=e),Object(s.a)(n)||(n=o.a),new r.a(function(e){var r=a(t)?t:+t-n.now();return n.schedule(c,r,{index:0,period:i,subscriber:e})})}function c(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}n.d(e,"timer",function(){return u})},gIcY:function(t,e,n){"use strict";n.r(e),n.d(e,"\u0275angular_packages_forms_forms_bb",function(){return ie}),n.d(e,"\u0275angular_packages_forms_forms_ba",function(){return oe}),n.d(e,"\u0275angular_packages_forms_forms_y",function(){return ne}),n.d(e,"\u0275angular_packages_forms_forms_z",function(){return re}),n.d(e,"\u0275angular_packages_forms_forms_a",function(){return _}),n.d(e,"\u0275angular_packages_forms_forms_b",function(){return E}),n.d(e,"\u0275angular_packages_forms_forms_c",function(){return ct}),n.d(e,"\u0275angular_packages_forms_forms_d",function(){return lt}),n.d(e,"\u0275angular_packages_forms_forms_e",function(){return _t}),n.d(e,"\u0275angular_packages_forms_forms_f",function(){return It}),n.d(e,"\u0275angular_packages_forms_forms_g",function(){return St}),n.d(e,"\u0275angular_packages_forms_forms_bg",function(){return ee}),n.d(e,"\u0275angular_packages_forms_forms_bc",function(){return O}),n.d(e,"\u0275angular_packages_forms_forms_bd",function(){return D}),n.d(e,"\u0275angular_packages_forms_forms_h",function(){return R}),n.d(e,"\u0275angular_packages_forms_forms_i",function(){return k}),n.d(e,"\u0275angular_packages_forms_forms_be",function(){return x}),n.d(e,"\u0275angular_packages_forms_forms_bf",function(){return M}),n.d(e,"\u0275angular_packages_forms_forms_j",function(){return Nt}),n.d(e,"\u0275angular_packages_forms_forms_k",function(){return At}),n.d(e,"\u0275angular_packages_forms_forms_l",function(){return Ft}),n.d(e,"\u0275angular_packages_forms_forms_m",function(){return kt}),n.d(e,"\u0275angular_packages_forms_forms_o",function(){return $t}),n.d(e,"\u0275angular_packages_forms_forms_n",function(){return xt}),n.d(e,"\u0275angular_packages_forms_forms_p",function(){return V}),n.d(e,"\u0275angular_packages_forms_forms_r",function(){return K}),n.d(e,"\u0275angular_packages_forms_forms_q",function(){return H}),n.d(e,"\u0275angular_packages_forms_forms_t",function(){return Bt}),n.d(e,"\u0275angular_packages_forms_forms_u",function(){return Wt}),n.d(e,"\u0275angular_packages_forms_forms_w",function(){return zt}),n.d(e,"\u0275angular_packages_forms_forms_v",function(){return Kt}),n.d(e,"\u0275angular_packages_forms_forms_x",function(){return Xt}),n.d(e,"\u0275angular_packages_forms_forms_s",function(){return Ut}),n.d(e,"AbstractControlDirective",function(){return c}),n.d(e,"AbstractFormGroupDirective",function(){return ut}),n.d(e,"CheckboxControlValueAccessor",function(){return w}),n.d(e,"ControlContainer",function(){return l}),n.d(e,"NG_VALUE_ACCESSOR",function(){return b}),n.d(e,"COMPOSITION_BUFFER_MODE",function(){return C}),n.d(e,"DefaultValueAccessor",function(){return S}),n.d(e,"NgControl",function(){return A}),n.d(e,"NgControlStatus",function(){return ht}),n.d(e,"NgControlStatusGroup",function(){return dt}),n.d(e,"NgForm",function(){return Et}),n.d(e,"NgModel",function(){return Dt}),n.d(e,"NgModelGroup",function(){return Tt}),n.d(e,"RadioControlValueAccessor",function(){return P}),n.d(e,"FormControlDirective",function(){return Rt}),n.d(e,"FormControlName",function(){return Vt}),n.d(e,"FormGroupDirective",function(){return Pt}),n.d(e,"FormArrayName",function(){return Lt}),n.d(e,"FormGroupName",function(){return Mt}),n.d(e,"NgSelectOption",function(){return q}),n.d(e,"SelectControlValueAccessor",function(){return B}),n.d(e,"SelectMultipleControlValueAccessor",function(){return G}),n.d(e,"CheckboxRequiredValidator",function(){return Ht}),n.d(e,"EmailValidator",function(){return Gt}),n.d(e,"MaxLengthValidator",function(){return Yt}),n.d(e,"MinLengthValidator",function(){return Qt}),n.d(e,"PatternValidator",function(){return Zt}),n.d(e,"RequiredValidator",function(){return qt}),n.d(e,"FormBuilder",function(){return Jt}),n.d(e,"AbstractControl",function(){return yt}),n.d(e,"FormArray",function(){return bt}),n.d(e,"FormControl",function(){return gt}),n.d(e,"FormGroup",function(){return mt}),n.d(e,"NG_ASYNC_VALIDATORS",function(){return f}),n.d(e,"NG_VALIDATORS",function(){return d}),n.d(e,"Validators",function(){return v}),n.d(e,"VERSION",function(){return te}),n.d(e,"FormsModule",function(){return ae}),n.d(e,"ReactiveFormsModule",function(){return se});var r=n("mrSG"),o=n("CcnG"),i=n("VNr4"),a=n("0/uQ"),s=n("67Y/"),u=n("ZYjt"),c=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(c);function h(t){return null==t||0===t.length}var d=new o.InjectionToken("NgValidators"),f=new o.InjectionToken("NgAsyncValidators"),p=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,v=function(){function t(){}return t.min=function(t){return function(e){if(h(e.value)||h(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(h(e.value)||h(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return h(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return h(t.value)?null:p.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(h(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(h(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(y);return 0==e.length?null:function(t){return m(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(y);return 0==e.length?null:function(t){var n=function(t,n){return e.map(function(e){return e(t)})}(t).map(g);return Object(i.a)(n).pipe(Object(s.a)(m))}},t}();function y(t){return null!=t}function g(t){var e=Object(o["\u0275isPromise"])(t)?Object(a.a)(t):t;if(!Object(o["\u0275isObservable"])(e))throw new Error("Expected validator to return Promise or Observable.");return e}function m(t){var e=t.reduce(function(t,e){return null!=e?Object(r.a)({},t,e):t},{});return 0===Object.keys(e).length?null:e}var b=new o.InjectionToken("NgValueAccessor"),_={provide:b,useExisting:Object(o.forwardRef)(function(){return w}),multi:!0},w=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),E={provide:b,useExisting:Object(o.forwardRef)(function(){return S}),multi:!0},C=new o.InjectionToken("CompositionEventMode"),S=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Object(u.r)()?Object(u.r)().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();function T(t){return t.validate?function(e){return t.validate(e)}:t}function I(t){return t.validate?function(e){return t.validate(e)}:t}var O={provide:b,useExisting:Object(o.forwardRef)(function(){return D}),multi:!0},D=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();function N(){throw new Error("unimplemented")}var A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(r.b)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return N()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return N()},enumerable:!0,configurable:!0}),e}(c),R={provide:b,useExisting:Object(o.forwardRef)(function(){return P}),multi:!0},k=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),P=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(A),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),x={provide:b,useExisting:Object(o.forwardRef)(function(){return M}),multi:!0},M=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),$='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',L='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',j='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',F=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+$)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+L+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+j)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+$)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+L)},t.arrayParentException=function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t.ngModelWarning=function(t){console.warn("\n    It looks like you're using ngModel on the same form field as "+t+". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/"+("formControl"===t?"FormControlDirective":"FormControlName")+"#use-with-ngmodel\n    ")},t}(),V={provide:b,useExisting:Object(o.forwardRef)(function(){return B}),multi:!0};function U(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var B=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=o["\u0275looseIdentical"]}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=U(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){var e,n;try{for(var o=Object(r.e)(Array.from(this._optionMap.keys())),i=o.next();!i.done;i=o.next()){var a=i.value;if(this._compareWith(this._optionMap.get(a),t))return a}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),q=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(U(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}(),H={provide:b,useExisting:Object(o.forwardRef)(function(){return G}),multi:!0};function W(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var G=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=o["\u0275looseIdentical"]}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var o=n.selectedOptions,i=0;i<o.length;i++){var a=o.item(i),s=e._getOptionValue(a.value);r.push(s)}else for(o=n.options,i=0;i<o.length;i++)(a=o.item(i)).selected&&(s=e._getOptionValue(a.value),r.push(s));e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){var e,n;try{for(var o=Object(r.e)(Array.from(this._optionMap.keys())),i=o.next();!i.done;i=o.next()){var a=i.value;if(this._compareWith(this._optionMap.get(a)._value,t))return a}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),K=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(W(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(W(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();function Q(t,e){return Object(r.d)(e.path,[t])}function z(t,e){t||J(e,"Cannot find control with"),e.valueAccessor||J(e,"No value accessor for form control with"),t.validator=v.compose([t.validator,e.validator]),t.asyncValidator=v.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Y(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Y(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function Y(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function X(t,e){null==t&&J(e,"Cannot find control with"),t.validator=v.compose([t.validator,e.validator]),t.asyncValidator=v.composeAsync([t.asyncValidator,e.asyncValidator])}function Z(t){return J(t,"There is no FormControl instance attached to form control element with")}function J(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function tt(t){return null!=t?v.compose(t.map(T)):null}function et(t){return null!=t?v.composeAsync(t.map(I)):null}function nt(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(o["\u0275looseIdentical"])(e,n.currentValue)}var rt=[w,M,D,B,G,P];function ot(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function it(t,e){if(!e)return null;Array.isArray(e)||J(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,o=void 0;return e.forEach(function(e){var i;e.constructor===S?n=e:(i=e,rt.some(function(t){return i.constructor===t})?(r&&J(t,"More than one built-in value accessor matches form control with"),r=e):(o&&J(t,"More than one custom value accessor matches form control with"),o=e))}),o||r||n||(J(t,"No valid value accessor for form control with"),null)}function at(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function st(t,e,n,r){Object(o.isDevMode)()&&"never"!==r&&((null!==r&&"once"!==r||e._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(F.ngModelWarning(t),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}var ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return Q(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return tt(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return et(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(l),ct=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),lt={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"},ht=function(t){function e(e){return t.call(this,e)||this}return Object(r.b)(e,t),e}(ct),dt=function(t){function e(e){return t.call(this,e)||this}return Object(r.b)(e,t),e}(ct);function ft(t){var e=vt(t)?t.validators:t;return Array.isArray(e)?tt(e):e||null}function pt(t,e){var n=vt(e)?e.asyncValidators:t;return Array.isArray(n)?et(n):n||null}function vt(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var yt=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=ft(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=pt(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object(r.a)({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status="VALID",this._forEachChild(function(e){e.enable(Object(r.a)({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=g(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof mt?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof bt&&t.at(e)||null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new o.EventEmitter,this.statusChanges=new o.EventEmitter},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){vt(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),gt=function(t){function e(e,n,r){void 0===e&&(e=null);var o=t.call(this,ft(n),pt(r,n))||this;return o._onChange=[],o._applyFormState(e),o._setUpdateStrategy(n),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o._initObservables(),o}return Object(r.b)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(yt),mt=function(t){function e(e,n,r){var o=t.call(this,ft(n),pt(r,n))||this;return o.controls=e,o._initObservables(),o._setUpdateStrategy(n),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return Object(r.b)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof gt?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,o){n=n||e.contains(o)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(r.e)(Object.keys(this.controls)),o=n.next();!o.done;o=n.next())if(this.controls[o.value].enabled)return!1}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(yt),bt=function(t){function e(e,n,r){var o=t.call(this,ft(n),pt(r,n))||this;return o.controls=e,o._initObservables(),o._setUpdateStrategy(n),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return Object(r.b)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof gt?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(r.e)(this.controls),o=n.next();!o.done;o=n.next())if(o.value.enabled)return!1}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(yt),_t={provide:l,useExisting:Object(o.forwardRef)(function(){return Et})},wt=Promise.resolve(null),Et=function(t){function e(e,n){var r=t.call(this)||this;return r.submitted=!1,r._directives=[],r.ngSubmit=new o.EventEmitter,r.form=new mt({},tt(e),et(n)),r}return Object(r.b)(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;wt.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),z(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;wt.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),at(e._directives,t)})},e.prototype.addFormGroup=function(t){var e=this;wt.then(function(){var n=e._findContainer(t.path),r=new mt({});X(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;wt.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;wt.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,ot(this.form,this._directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(l),Ct=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+$+'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+L+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+j)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+L+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+j)},t}(),St={provide:l,useExisting:Object(o.forwardRef)(function(){return Tt})},Tt=function(t){function e(e,n,r){var o=t.call(this)||this;return o._parent=e,o._validators=n,o._asyncValidators=r,o}return Object(r.b)(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof Et||Ct.modelGroupParentException()},e}(ut),It={provide:A,useExisting:Object(o.forwardRef)(function(){return Dt})},Ot=Promise.resolve(null),Dt=function(t){function e(e,n,r,i){var a=t.call(this)||this;return a.control=new gt,a._registered=!1,a.update=new o.EventEmitter,a._parent=e,a._rawValidators=n||[],a._rawAsyncValidators=r||[],a.valueAccessor=it(a,i),a}return Object(r.b)(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),nt(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?Q(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return tt(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return et(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){z(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof Tt)&&this._parent instanceof ut?Ct.formGroupNameException():this._parent instanceof Tt||this._parent instanceof Et||Ct.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Ct.missingNameException()},e.prototype._updateValue=function(t){var e=this;Ot.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Ot.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}(A),Nt=new o.InjectionToken("NgModelWithFormControlWarning"),At={provide:A,useExisting:Object(o.forwardRef)(function(){return Rt})},Rt=function(t){function e(e,n,r,i){var a=t.call(this)||this;return a._ngModelWarningConfig=i,a.update=new o.EventEmitter,a._ngModelWarningSent=!1,a._rawValidators=e||[],a._rawAsyncValidators=n||[],a.valueAccessor=it(a,r),a}return Object(r.b)(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){F.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._isControlChanged(t)&&(z(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),nt(t,this.viewModel)&&(st("formControl",e,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return tt(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return et(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._isControlChanged=function(t){return t.hasOwnProperty("form")},e._ngModelWarningSentOnce=!1,e}(A),kt={provide:l,useExisting:Object(o.forwardRef)(function(){return Pt})},Pt=function(t){function e(e,n){var r=t.call(this)||this;return r._validators=e,r._asyncValidators=n,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new o.EventEmitter,r}return Object(r.b)(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.get(t.path);return z(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){at(this.directives,t)},e.prototype.addFormGroup=function(t){var e=this.form.get(t.path);X(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var e=this.form.get(t.path);X(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){this.form.get(t.path).setValue(e)},e.prototype.onSubmit=function(t){return this.submitted=!0,ot(this.form,this.directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange(function(){return Z(e)}),e.valueAccessor.registerOnTouched(function(){return Z(e)}),e._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(e.control,e),n&&z(n,e),e.control=n)}),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},e.prototype._updateValidators=function(){var t=tt(this._validators);this.form.validator=v.compose([this.form.validator,t]);var e=et(this._asyncValidators);this.form.asyncValidator=v.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||F.missingFormException()},e}(l),xt={provide:l,useExisting:Object(o.forwardRef)(function(){return Mt})},Mt=function(t){function e(e,n,r){var o=t.call(this)||this;return o._parent=e,o._validators=n,o._asyncValidators=r,o}return Object(r.b)(e,t),e.prototype._checkParentType=function(){jt(this._parent)&&F.groupParentException()},e}(ut),$t={provide:l,useExisting:Object(o.forwardRef)(function(){return Lt})},Lt=function(t){function e(e,n,r){var o=t.call(this)||this;return o._parent=e,o._validators=n,o._asyncValidators=r,o}return Object(r.b)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return Q(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return tt(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return et(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){jt(this._parent)&&F.arrayParentException()},e}(l);function jt(t){return!(t instanceof Mt||t instanceof Pt||t instanceof Lt)}var Ft={provide:A,useExisting:Object(o.forwardRef)(function(){return Vt})},Vt=function(t){function e(e,n,r,i,a){var s=t.call(this)||this;return s._ngModelWarningConfig=a,s._added=!1,s.update=new o.EventEmitter,s._ngModelWarningSent=!1,s._parent=e,s._rawValidators=n||[],s._rawAsyncValidators=r||[],s.valueAccessor=it(s,i),s}return Object(r.b)(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){F.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._added||this._setUpControl(),nt(t,this.viewModel)&&(st("formControlName",e,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},Object.defineProperty(e.prototype,"path",{get:function(){return Q(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return tt(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return et(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){!(this._parent instanceof Mt)&&this._parent instanceof ut?F.ngModelGroupException():this._parent instanceof Mt||this._parent instanceof Pt||this._parent instanceof Lt||F.controlParentException()},e.prototype._setUpControl=function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},e._ngModelWarningSentOnce=!1,e}(A),Ut={provide:d,useExisting:Object(o.forwardRef)(function(){return qt}),multi:!0},Bt={provide:d,useExisting:Object(o.forwardRef)(function(){return Ht}),multi:!0},qt=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?v.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}(),Ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.validate=function(t){return this.required?v.requiredTrue(t):null},e}(qt),Wt={provide:d,useExisting:Object(o.forwardRef)(function(){return Gt}),multi:!0},Gt=function(){function t(){}return Object.defineProperty(t.prototype,"email",{set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this._enabled?v.email(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}(),Kt={provide:d,useExisting:Object(o.forwardRef)(function(){return Qt}),multi:!0},Qt=function(){function t(){}return t.prototype.ngOnChanges=function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null==this.minlength?null:this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=v.minLength(parseInt(this.minlength,10))},t}(),zt={provide:d,useExisting:Object(o.forwardRef)(function(){return Yt}),multi:!0},Yt=function(){function t(){}return t.prototype.ngOnChanges=function(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null!=this.maxlength?this._validator(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=v.maxLength(parseInt(this.maxlength,10))},t}(),Xt={provide:d,useExisting:Object(o.forwardRef)(function(){return Zt}),multi:!0},Zt=function(){function t(){}return t.prototype.ngOnChanges=function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=v.pattern(this.pattern)},t}(),Jt=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t);return new mt(n,null!=e?e.validator:null,null!=e?e.asyncValidator:null)},t.prototype.control=function(t,e,n){return new gt(t,e,n)},t.prototype.array=function(t,e,n){var r=this,o=t.map(function(t){return r._createControl(t)});return new bt(o,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n},t.prototype._createControl=function(t){return t instanceof gt||t instanceof mt||t instanceof bt?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)},t}(),te=new o.Version("6.1.1"),ee=function(){},ne=[ee,q,K,S,D,M,w,B,G,P,ht,dt,qt,Qt,Yt,Zt,Ht,Gt],re=[Dt,Tt,Et],oe=[Rt,Pt,Vt,Mt,Lt],ie=function(){},ae=function(){},se=function(){function t(){}return t.withConfig=function(e){return{ngModule:t,providers:[{provide:Nt,useValue:e.warnOnNgModelWithFormControl}]}},t}()},gK5f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("F2og"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.ngOnInit=function(){this.validator=i.phone(this.phone)},t.prototype.ngOnChanges=function(t){for(var e in t)"phone"===e&&(this.validator=i.phone(t[e].currentValue),this.onChange&&this.onChange())},t.prototype.validate=function(t){return this.validator(t)},t.prototype.registerOnValidatorChange=function(t){this.onChange=t},t.decorators=[{type:r.Directive,args:[{selector:"[phone][formControlName],[phone][formControl],[phone][ngModel]",providers:[a]}]}],t.propDecorators={phone:[{type:r.Input}]},t}();e.PhoneValidator=s},ghU1:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("0UZX")),r(n("9eTs"))},h9za:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.rangeLength=function(t){return function(e){if(!o.isPresent(t))return null;if(o.isPresent(r.Validators.required(e)))return null;var n=e.value;return n.length>=t[0]&&n.length<=t[1]?null:{rangeLength:!0}}}},hDam:function(t,e){t.exports=function(){}},iCc5:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},iLxQ:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},inIq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.equal=function(t){return function(e){return o.isPresent(r.Validators.required(e))?null:t===e.value?null:{equal:!0}}}},iqUP:function(t,e,n){"use strict";n("lcbw");var r,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;n("t6oF"),n("NSPt"),n("6Joi"),n("ABqa"),n("gHGA"),n("LmZi"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),t.exports=o},isby:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},j2DC:function(t,e,n){"use strict";var r=n("oVml"),o=n("rr1i"),i=n("RfKB"),a={};n("NegM")(a,n("UWiX")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},jl4B:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("mJH7")),r(n("177e"))},jmDH:function(t,e,n){t.exports=!n("KUxP")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"k/8l":function(t,e,n){t.exports={default:n("VKFn"),__esModule:!0}},kERW:function(t,e,n){"use strict";n.r(e),n.d(e,"fromEventPattern",function(){return s});var r=n("6blF"),o=n("isby"),i=n("2Bdj"),a=n("67Y/");function s(t,e,n){return n?s(t,e).pipe(Object(a.a)(function(t){return Object(o.a)(t)?n.apply(void 0,t):n(t)})):new r.a(function(n){var r,o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1===t.length?t[0]:t)};try{r=t(o)}catch(t){return void n.error(t)}if(Object(i.a)(e))return function(){return e(o,r)}})}},kTiW:function(t,e,n){t.exports=n("NegM")},kVrb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("15yF"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.ngOnInit=function(){this.validator=i.notEqual(this.notEqual)},t.prototype.ngOnChanges=function(t){for(var e in t)"notEqual"===e&&(this.validator=i.notEqual(t[e].currentValue),this.onChange&&this.onChange())},t.prototype.validate=function(t){return this.validator(t)},t.prototype.registerOnValidatorChange=function(t){this.onChange=t},t.decorators=[{type:r.Directive,args:[{selector:"[notEqual][formControlName],[notEqual][formControl],[notEqual][ngModel]",providers:[a]}]}],t.propDecorators={notEqual:[{type:r.Input}]},t}();e.NotEqualValidator=s},kqoJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.min=function(t){return function(e){if(!o.isPresent(t))return null;if(o.isPresent(r.Validators.required(e)))return null;var n=+e.value;return n>=+t?null:{actualValue:n,requiredValue:+t,min:!0}}}},kwZ1:function(t,e,n){"use strict";var r=n("w6GO"),o=n("mqlF"),i=n("NV0k"),a=n("JB68"),s=n("M1xp"),u=Object.assign;t.exports=!u||n("KUxP")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=o.f,h=i.f;u>c;)for(var d,f=s(arguments[c++]),p=l?r(f).concat(l(f)):r(f),v=p.length,y=0;v>y;)h.call(f,d=p[y++])&&(n[d]=f[d]);return n}:u},lRys:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.notEqual=function(t){return function(e){return o.isPresent(r.Validators.required(e))?null:t!==e.value?null:{notEqual:!0}}}},lYZG:function(t,e,n){"use strict";n.r(e),n.d(e,"defer",function(){return a});var r=n("6blF"),o=n("0/uQ"),i=n("G5J1");function a(t){return new r.a(function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?Object(o.a)(n):Object(i.b)()).subscribe(e)})}},lcbw:function(t,e,n){"use strict";n.r(e),n("bZMm");var r=setTimeout;function o(){}function i(t){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void u(e.promise,t)}s(e.promise,r)}else(1===t._state?s:u)(e.promise,t._value)})):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void l((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,c(t)}catch(e){u(t,e)}var r,o}function u(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&i._immediateFn(function(){t._handled||i._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(o);return a(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},i.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},i.all=function(t){return new i(function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function i(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){i(t,e)},n)}r[t]=a,0==--o&&e(r)}catch(t){n(t)}}for(var a=0;a<r.length;a++)i(a,r[a])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)})},i._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){r(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var h=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();function d(t,e){return t(e={exports:{}},e.exports),e.exports}h.Promise||(h.Promise=i);var f=d(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),p=d(function(t){var e=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=e)}),v=function(t){return"object"==typeof t?null!==t:"function"==typeof t},y=function(t){if(!v(t))throw TypeError(t+" is not an object!");return t},g=function(t){try{return!!t()}catch(t){return!0}},m=!g(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),b=f.document,_=v(b)&&v(b.createElement),w=function(t){return _?b.createElement(t):{}},E=!m&&!g(function(){return 7!=Object.defineProperty(w("div"),"a",{get:function(){return 7}}).a}),C=function(t,e){if(!v(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!v(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!v(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!v(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},S=Object.defineProperty,T={f:m?Object.defineProperty:function(t,e,n){if(y(t),e=C(e,!0),y(n),E)try{return S(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},I=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},O=m?function(t,e,n){return T.f(t,e,I(1,n))}:function(t,e,n){return t[e]=n,t},D={}.hasOwnProperty,N=function(t,e){return D.call(t,e)},A=0,R=Math.random(),k=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++A+R).toString(36))},P=d(function(t){var e=k("src"),n=Function.toString,r=(""+n).split("toString");p.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,o,i){var a="function"==typeof o;a&&(N(o,"name")||O(o,"name",n)),t[n]!==o&&(a&&(N(o,e)||O(o,e,t[n]?""+t[n]:r.join(String(n)))),t===f?t[n]=o:i?t[n]?t[n]=o:O(t,n,o):(delete t[n],O(t,n,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),x=function(t,e,n){if(function(e){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},M=function(t,e,n){var r,o,i,a,s=t&M.F,u=t&M.G,c=t&M.P,l=t&M.B,h=u?f:t&M.S?f[e]||(f[e]={}):(f[e]||{}).prototype,d=u?p:p[e]||(p[e]={}),v=d.prototype||(d.prototype={});for(r in u&&(n=e),n)i=((o=!s&&h&&void 0!==h[r])?h:n)[r],a=l&&o?x(i,f):c&&"function"==typeof i?x(Function.call,i):i,h&&P(h,r,i,t&M.U),d[r]!=i&&O(d,r,a),c&&v[r]!=i&&(v[r]=i)};f.core=p,M.F=1,M.G=2,M.S=4,M.P=8,M.B=16,M.W=32,M.U=64,M.R=128;var $=M,L={}.toString,j=function(t){return L.call(t).slice(8,-1)},F=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==j(t)?t.split(""):Object(t)},V=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},U=function(t){return Object(V(t))},B=Math.ceil,q=Math.floor,H=function(t){return isNaN(t=+t)?0:(t>0?q:B)(t)},W=Math.min,G=function(t){return t>0?W(H(t),9007199254740991):0},K=Array.isArray||function(t){return"Array"==j(t)},Q=f["__core-js_shared__"]||(f["__core-js_shared__"]={}),z=function(t){return Q[t]||(Q[t]={})},Y=d(function(t){var e=z("wks"),n=f.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:k)("Symbol."+t))}).store=e}),X=Y("species"),Z=function(t,e){return new(function(t){var e;return K(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!K(e.prototype)||(e=void 0),v(e)&&null===(e=e[X])&&(e=void 0)),void 0===e?Array:e}(t))(e)},J=function(t,e){var n=1==t,r=2==t,o=3==t,i=4==t,a=6==t,s=5==t||a,u=e||Z;return function(e,c,l){for(var h,d,f=U(e),p=F(f),v=x(c,l,3),y=G(p.length),g=0,m=n?u(e,y):r?u(e,0):void 0;y>g;g++)if((s||g in p)&&(d=v(h=p[g],g,f),t))if(n)m[g]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return g;case 2:m.push(h)}else if(i)return!1;return a?-1:o||i?i:m}},tt=Y("unscopables"),et=Array.prototype;void 0==et[tt]&&O(et,tt,{});var nt=function(t){et[tt][t]=!0},rt=J(5),ot=!0;"find"in[]&&Array(1).find(function(){ot=!1}),$($.P+$.F*ot,"Array",{find:function(t){return rt(this,t,arguments.length>1?arguments[1]:void 0)}}),nt("find");var it=J(6),at=!0;"findIndex"in[]&&Array(1).findIndex(function(){at=!1}),$($.P+$.F*at,"Array",{findIndex:function(t){return it(this,t,arguments.length>1?arguments[1]:void 0)}}),nt("findIndex");var st=function(t){return F(V(t))},ut=Math.max,ct=Math.min,lt=z("keys"),ht=function(t){return lt[t]||(lt[t]=k(t))},dt=function(t,e,n){for(var r=st(t),o=G(r.length),i=function(t,e){return(t=H(t))<0?ut(t+e,0):ct(t,e)}(n,o);o>i;i++)if(i in r&&r[i]===e)return i||0;return-1},ft=ht("IE_PROTO"),pt=function(t,e){var n,r=st(t),o=0,i=[];for(n in r)n!=ft&&N(r,n)&&i.push(n);for(;e.length>o;)N(r,n=e[o++])&&(~dt(i,n)||i.push(n));return i},vt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),yt=Object.keys||function(t){return pt(t,vt)},gt={f:Object.getOwnPropertySymbols},mt={f:{}.propertyIsEnumerable},bt=Object.assign,_t=!bt||g(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=bt({},t)[n]||Object.keys(bt({},e)).join("")!=r})?function(t,e){for(var n=U(t),r=arguments.length,o=1,i=gt.f,a=mt.f;r>o;)for(var s,u=F(arguments[o++]),c=i?yt(u).concat(i(u)):yt(u),l=c.length,h=0;l>h;)a.call(u,s=c[h++])&&(n[s]=u[s]);return n}:bt;$($.S+$.F,"Object",{assign:_t});var wt=Y("match"),Et=Y("match"),Ct="".startsWith;$($.P+$.F*function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Et]=!1,!"/./"[t](e)}catch(t){}}return!0}("startsWith"),"String",{startsWith:function(t){var e=function(t,e,n){if(v(r=e)&&(void 0!==(o=r[wt])?o:"RegExp"==j(r)))throw TypeError("String#startsWith doesn't accept regex!");var r,o;return String(V(t))}(this,t),n=G(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return Ct?Ct.call(e,r,n):e.slice(n,n+r.length)===r}}),$($.P,"String",{repeat:function(t){var e=String(V(this)),n="",r=H(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}});var St=d(function(t){var e=k("meta"),n=T.f,r=0,o=Object.isExtensible||function(){return!0},i=!g(function(){return o(Object.preventExtensions({}))}),a=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},s=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!v(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!N(t,e)){if(!o(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!N(t,e)){if(!o(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return i&&s.NEED&&o(t)&&!N(t,e)&&a(t),t}}}),Tt=T.f,It=Y("toStringTag"),Ot=function(t,e,n){t&&!N(t=n?t:t.prototype,It)&&Tt(t,It,{configurable:!0,value:e})},Dt={f:Y},Nt=T.f,At=function(t){var e=p.Symbol||(p.Symbol=f.Symbol||{});"_"==t.charAt(0)||t in e||Nt(e,t,{value:Dt.f(t)})},Rt=m?Object.defineProperties:function(t,e){y(t);for(var n,r=yt(e),o=r.length,i=0;o>i;)T.f(t,n=r[i++],e[n]);return t},kt=f.document,Pt=kt&&kt.documentElement,xt=ht("IE_PROTO"),Mt=function(){},$t=function(){var t,e=w("iframe"),n=vt.length;for(e.style.display="none",Pt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),$t=t.F;n--;)delete $t.prototype[vt[n]];return $t()},Lt=Object.create||function(t,e){var n;return null!==t?(Mt.prototype=y(t),n=new Mt,Mt.prototype=null,n[xt]=t):n=$t(),void 0===e?n:Rt(n,e)},jt=vt.concat("length","prototype"),Ft={f:Object.getOwnPropertyNames||function(t){return pt(t,jt)}},Vt=Ft.f,Ut={}.toString,Bt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],qt={f:function(t){return Bt&&"[object Window]"==Ut.call(t)?function(t){try{return Vt(t)}catch(t){return Bt.slice()}}(t):Vt(st(t))}},Ht=Object.getOwnPropertyDescriptor,Wt={f:m?Ht:function(t,e){if(t=st(t),e=C(e,!0),E)try{return Ht(t,e)}catch(t){}if(N(t,e))return I(!mt.f.call(t,e),t[e])}},Gt=St.KEY,Kt=Wt.f,Qt=T.f,zt=qt.f,Yt=f.Symbol,Xt=f.JSON,Zt=Xt&&Xt.stringify,Jt=Y("_hidden"),te=Y("toPrimitive"),ee={}.propertyIsEnumerable,ne=z("symbol-registry"),re=z("symbols"),oe=z("op-symbols"),ie=Object.prototype,ae="function"==typeof Yt,se=f.QObject,ue=!se||!se.prototype||!se.prototype.findChild,ce=m&&g(function(){return 7!=Lt(Qt({},"a",{get:function(){return Qt(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=Kt(ie,e);r&&delete ie[e],Qt(t,e,n),r&&t!==ie&&Qt(ie,e,r)}:Qt,le=function(t){var e=re[t]=Lt(Yt.prototype);return e._k=t,e},he=ae&&"symbol"==typeof Yt.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Yt},de=function(t,e,n){return t===ie&&de(oe,e,n),y(t),e=C(e,!0),y(n),N(re,e)?(n.enumerable?(N(t,Jt)&&t[Jt][e]&&(t[Jt][e]=!1),n=Lt(n,{enumerable:I(0,!1)})):(N(t,Jt)||Qt(t,Jt,I(1,{})),t[Jt][e]=!0),ce(t,e,n)):Qt(t,e,n)},fe=function(t,e){y(t);for(var n,r=function(t){var e=yt(t),n=gt.f;if(n)for(var r,o=n(t),i=mt.f,a=0;o.length>a;)i.call(t,r=o[a++])&&e.push(r);return e}(e=st(e)),o=0,i=r.length;i>o;)de(t,n=r[o++],e[n]);return t},pe=function(t){var e=ee.call(this,t=C(t,!0));return!(this===ie&&N(re,t)&&!N(oe,t))&&(!(e||!N(this,t)||!N(re,t)||N(this,Jt)&&this[Jt][t])||e)},ve=function(t,e){if(t=st(t),e=C(e,!0),t!==ie||!N(re,e)||N(oe,e)){var n=Kt(t,e);return!n||!N(re,e)||N(t,Jt)&&t[Jt][e]||(n.enumerable=!0),n}},ye=function(t){for(var e,n=zt(st(t)),r=[],o=0;n.length>o;)N(re,e=n[o++])||e==Jt||e==Gt||r.push(e);return r},ge=function(t){for(var e,n=t===ie,r=zt(n?oe:st(t)),o=[],i=0;r.length>i;)!N(re,e=r[i++])||n&&!N(ie,e)||o.push(re[e]);return o};ae||(P((Yt=function(){if(this instanceof Yt)throw TypeError("Symbol is not a constructor!");var t=k(arguments.length>0?arguments[0]:void 0),e=function(n){this===ie&&e.call(oe,n),N(this,Jt)&&N(this[Jt],t)&&(this[Jt][t]=!1),ce(this,t,I(1,n))};return m&&ue&&ce(ie,t,{configurable:!0,set:e}),le(t)}).prototype,"toString",function(){return this._k}),Wt.f=ve,T.f=de,Ft.f=qt.f=ye,mt.f=pe,gt.f=ge,m&&P(ie,"propertyIsEnumerable",pe,!0),Dt.f=function(t){return le(Y(t))}),$($.G+$.W+$.F*!ae,{Symbol:Yt});for(var me="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),be=0;me.length>be;)Y(me[be++]);for(var _e=yt(Y.store),we=0;_e.length>we;)At(_e[we++]);$($.S+$.F*!ae,"Symbol",{for:function(t){return N(ne,t+="")?ne[t]:ne[t]=Yt(t)},keyFor:function(t){if(!he(t))throw TypeError(t+" is not a symbol!");for(var e in ne)if(ne[e]===t)return e},useSetter:function(){ue=!0},useSimple:function(){ue=!1}}),$($.S+$.F*!ae,"Object",{create:function(t,e){return void 0===e?Lt(t):fe(Lt(t),e)},defineProperty:de,defineProperties:fe,getOwnPropertyDescriptor:ve,getOwnPropertyNames:ye,getOwnPropertySymbols:ge}),Xt&&$($.S+$.F*(!ae||g(function(){var t=Yt();return"[null]"!=Zt([t])||"{}"!=Zt({a:t})||"{}"!=Zt(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(v(e)||void 0!==t)&&!he(t))return K(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!he(e))return e}),r[1]=e,Zt.apply(Xt,r)}}),Yt.prototype[te]||O(Yt.prototype,te,Yt.prototype.valueOf),Ot(Yt,"Symbol"),Ot(Math,"Math",!0),Ot(f.JSON,"JSON",!0);var Ee=Y("toStringTag"),Ce="Arguments"==j(function(){return arguments}()),Se={};Se[Y("toStringTag")]="z",Se+""!="[object z]"&&P(Object.prototype,"toString",function(){return"[object "+(void 0===this?"Undefined":null===this?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Object(this),Ee))?e:Ce?j(t):"Object"==(n=j(t))&&"function"==typeof t.callee?"Arguments":n)+"]";var t,e,n},!0),At("asyncIterator"),At("observable");var Te={},Ie={};O(Ie,Y("iterator"),function(){return this});var Oe=function(t,e,n){t.prototype=Lt(Ie,{next:I(1,n)}),Ot(t,e+" Iterator")},De=ht("IE_PROTO"),Ne=Object.prototype,Ae=Object.getPrototypeOf||function(t){return t=U(t),N(t,De)?t[De]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Ne:null},Re=Y("iterator"),ke=!([].keys&&"next"in[].keys()),Pe=function(){return this},xe=function(t,e,n,r,o,i,a){Oe(n,e,r);var s,u,c,l=function(t){if(!ke&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",d="values"==o,f=!1,p=t.prototype,v=p[Re]||p["@@iterator"]||o&&p[o],y=v||l(o),g=o?d?l("entries"):y:void 0,m="Array"==e&&p.entries||v;if(m&&(c=Ae(m.call(new t)))!==Object.prototype&&c.next&&(Ot(c,h,!0),"function"!=typeof c[Re]&&O(c,Re,Pe)),d&&v&&"values"!==v.name&&(f=!0,y=function(){return v.call(this)}),(ke||f||!p[Re])&&O(p,Re,y),Te[e]=y,Te[h]=Pe,o)if(s={values:d?y:l("values"),keys:i?y:l("keys"),entries:g},a)for(u in s)u in p||P(p,u,s[u]);else $($.P+$.F*(ke||f),e,s);return s},Me=function(t,e){var n,r,o=String(V(t)),i=H(e),a=o.length;return i<0||i>=a?"":(n=o.charCodeAt(i))<55296||n>56319||i+1===a||(r=o.charCodeAt(i+1))<56320||r>57343?o.charAt(i):o.slice(i,i+2)};xe(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=Me(e,n),this._i+=t.length,{value:t,done:!1})});var $e=function(t,e){return{value:e,done:!!t}},Le=xe(Array,"Array",function(t,e){this._t=st(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,$e(1)):$e(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");Te.Arguments=Te.Array,nt("keys"),nt("values"),nt("entries");for(var je=Y("iterator"),Fe=Y("toStringTag"),Ve=Te.Array,Ue={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Be=yt(Ue),qe=0;qe<Be.length;qe++){var He,We=Be[qe],Ge=Ue[We],Ke=f[We],Qe=Ke&&Ke.prototype;if(Qe&&(Qe[je]||O(Qe,je,Ve),Qe[Fe]||O(Qe,Fe,We),Te[We]=Ve,Ge))for(He in Le)Qe[He]||P(Qe,He,Le[He],!0)}Dt.f("iterator")},ldVq:function(t,e,n){var r=n("QMMT"),o=n("UWiX")("iterator"),i=n("SBuE");t.exports=n("WEpk").isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||i.hasOwnProperty(r(e))}},"m/yT":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.email=function(t){return o.isPresent(r.Validators.required(t))?null:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.value)?null:{email:!0}}},m9Vx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPresent=function(t){return void 0!==t&&null!==t},e.isDate=function(t){return!/Invalid|NaN/.test(new Date(t).toString())}},mAIw:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return o}),n.d(e,"__assign",function(){return i}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return f}),n.d(e,"__read",function(){return p}),n.d(e,"__spread",function(){return v}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return g}),n.d(e,"__asyncDelegator",function(){return m}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return E});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n}function s(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise(function(n,r){i.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=o[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(t){l(i[0][3],t)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),i.shift(),i.length&&s(i[0][0],i[0][1])}}function m(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){t[r]&&(e[r]=function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:o?o(e):e})}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):f(t)}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},mChF:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},mEZQ:function(t,e,n){"use strict";n.r(e),n.d(e,"iif",function(){return i});var r=n("lYZG"),o=n("G5J1");function i(t,e,n){return void 0===e&&(e=o.a),void 0===n&&(n=o.a),Object(r.defer)(function(){return t()?e:n})}},mJH7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("jl4B"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.validate=function(t){return i.json(t)},t.decorators=[{type:r.Directive,args:[{selector:"[json][formControlName],[json][formControl],[json][ngModel]",providers:[a]}]}],t}();e.JSONValidator=s},mqlF:function(t,e){e.f=Object.getOwnPropertySymbols},mrSG:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return i}),n.d(e,"e",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return u});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}},nPu3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.notEqualTo=function(t){var e=!1;return function(n){return e||(e=!0,t.valueChanges.subscribe(function(){n.updateValueAndValidity()})),t.value!==n.value?null:{notEqualTo:!0}}}},nkY7:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},o8NH:function(t,e,n){var r=n("Y7ZC");r(r.S+r.F,"Object",{assign:n("kwZ1")})},oVml:function(t,e,n){var r=n("5K7Z"),o=n("fpC5"),i=n("FpHa"),a=n("VVlx")("IE_PROTO"),s=function(){},u=function(){var t,e=n("Hsns")("iframe"),r=i.length;for(e.style.display="none",n("MvwC").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[i[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:o(n,e)}},os0x:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return o}),n.d(e,"__assign",function(){return i}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return f}),n.d(e,"__read",function(){return p}),n.d(e,"__spread",function(){return v}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return g}),n.d(e,"__asyncDelegator",function(){return m}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return E});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n}function s(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise(function(n,r){i.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=o[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(t){l(i[0][3],t)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),i.shift(),i.length&&s(i[0][0],i[0][1])}}function m(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){t[r]&&(e[r]=function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:o?o(e):e})}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):f(t)}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},p0ib:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("6blF"),o=n("nkY7"),i=n("Zn8D"),a=n("IUTb");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,s=null,u=t[t.length-1];return Object(o.a)(u)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===s&&1===t.length&&t[0]instanceof r.a?t[0]:Object(i.a)(n)(Object(a.a)(t,s))}},pXYb:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("ug6e")),r(n("0DCV"))},pbg4:function(t,e,n){"use strict";n.r(e),n.d(e,"bindCallback",function(){return u});var r=n("6blF"),o=n("svcd"),i=n("67Y/"),a=n("isby"),s=n("nkY7");function u(t,e,n){if(e){if(!Object(s.a)(e))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return u(t,n).apply(void 0,r).pipe(Object(i.a)(function(t){return Object(a.a)(t)?e.apply(void 0,t):e(t)}))};n=e}return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var a,s=this,u={context:s,subject:a,callbackFunc:t,scheduler:n};return new r.a(function(r){if(n)return n.schedule(c,0,{args:e,subscriber:r,params:u});if(!a){a=new o.AsyncSubject;try{t.apply(s,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.next(t.length<=1?t[0]:t),a.complete()}]))}catch(t){a.error(t)}}return a.subscribe(r)})}}function c(t){var e=this,n=t.args,r=t.subscriber,i=t.params,a=i.callbackFunc,s=i.context,u=i.scheduler,c=i.subject;if(!c){c=i.subject=new o.AsyncSubject;try{a.apply(s,n.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.add(u.schedule(l,0,{value:t.length<=1?t[0]:t,subject:c}))}]))}catch(t){c.error(t)}}this.add(c.subscribe(r))}function l(t){var e=t.subject;e.next(t.value),e.complete()}},psW0:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("mrSG"),o=n("zotm"),i=n("MGBS"),a=n("67Y/"),s=n("0/uQ");function u(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(u(function(n,r){return Object(s.a)(t(n,r)).pipe(Object(a.a)(function(t,o){return e(n,t,r,o)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}var c=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))},t}(),l=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.b(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(Object(o.a)(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(i.a)},pugT:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("isby"),o=n("McSo"),i=n("2Bdj"),a=n("Ehmk"),s=n("eihs"),u=n("awvh"),c=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,c=this._parents,h=this._unsubscribe,d=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var f=-1,p=c?c.length:0;n;)n.remove(this),n=++f<p&&c[f]||null;if(Object(i.a)(h)&&Object(a.a)(h).call(this)===s.a&&(e=!0,t=t||(s.a.e instanceof u.a?l(s.a.e.errors):[s.a.e])),Object(r.a)(d))for(f=-1,p=d.length;++f<p;){var v=d[f];if(Object(o.a)(v)&&Object(a.a)(v.unsubscribe).call(v)===s.a){e=!0,t=t||[];var y=s.a.e;y instanceof u.a?t=t.concat(l(y.errors)):t.push(y)}}if(e)throw new u.a(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function l(t){return t.reduce(function(t,e){return t.concat(e instanceof u.a?e.errors:e)},[])}},pvmI:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("/g4C")),r(n("Pdpc"))},"q/0M":function(t,e,n){"use strict";n.r(e),n.d(e,"setLogLevel",function(){return u}),n.d(e,"Logger",function(){return s}),n.d(e,"LogLevel",function(){return o});var r=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),i=o.INFO,a=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString();switch(e){case o.DEBUG:case o.VERBOSE:console.log.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;case o.INFO:console.info.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;case o.WARN:console.warn.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;case o.ERROR:console.error.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},s=function(){function t(t){this.name=t,this._logLevel=i,this._logHandler=a,r.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,o.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,o.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,o.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,o.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,o.ERROR].concat(t))},t}();function u(t){r.forEach(function(e){e.logLevel=t})}},q5o6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.base64=function(t){return o.isPresent(r.Validators.required(t))?null:/^(?:[A-Z0-9+\/]{4})*(?:[A-Z0-9+\/]{2}==|[A-Z0-9+\/]{3}=|[A-Z0-9+\/]{4})$/i.test(t.value)?null:{base64:!0}}},r0XH:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("HT6E")),r(n("KNBz"))},rKjJ:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("+h4i")),r(n("wp3W"))},rr1i:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},sk9p:function(t,e,n){"use strict";e.__esModule=!0;var r=i(n("k/8l")),o=i(n("FyfS"));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var s,u=(0,o.default)(t);!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},svcd:function(t,e,n){"use strict";n.r(e),n.d(e,"AsyncSubject",function(){return a});var r=n("mrSG"),o=n("K9Ia"),i=n("pugT"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return r.b(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),i.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),i.a.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(o.a)},t1MI:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("8r50")),r(n("yazQ"))},t6oF:function(t,e,n){"use strict";n.r(e);var r=n("wj3C"),o=n.n(r);(function(){var t,e=e||{},n=this;function r(t){return"string"==typeof t}function i(t){return"boolean"==typeof t}function a(){}function s(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function u(t){return null===t}function c(t){return"array"==s(t)}function l(t){var e=s(t);return"array"==e||"object"==e&&"number"==typeof t.length}function h(t){return"function"==s(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var f="closure_uid_"+(1e9*Math.random()>>>0),p=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function m(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var b=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.nb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ed=function(t,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return e.prototype[n].apply(t,o)}}function w(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function E(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function C(t){if(Error.captureStackTrace)Error.captureStackTrace(this,C);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function S(t,e){for(var n="",r=(t=t.split("%s")).length-1,o=0;o<r;o++)n+=t[o]+(o<e.length?e[o]:"%s");C.call(this,n+t[r])}function T(t,e){throw new S("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function I(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function O(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function D(){this.b=this.a=null}_(C,Error),C.prototype.name="CustomError",_(S,C),S.prototype.name="AssertionError",I.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var N=new I(function(){return new R},function(t){t.reset()});function A(){var t=ft,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function R(){this.next=this.b=this.a=null}D.prototype.add=function(t,e){var n=N.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},R.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},R.prototype.reset=function(){this.next=this.b=this.a=null};var k=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(r(t))return r(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},P=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var o=t.length,i=r(t)?t.split(""):t,a=0;a<o;a++)a in i&&e.call(n,i[a],a,t)},x=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,o=Array(n),i=r(t)?t.split(""):t,a=0;a<n;a++)a in i&&(o[a]=e.call(void 0,i[a],a,t));return o},M=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,o=r(t)?t.split(""):t,i=0;i<n;i++)if(i in o&&e.call(void 0,o[i],i,t))return!0;return!1};function $(t,e){return 0<=k(t,e)}function L(t,e){var n;return(n=0<=(e=k(t,e)))&&Array.prototype.splice.call(t,e,1),n}function j(t,e){!function(t,e){var n=t.length,o=r(t)?t.split(""):t;for(--n;0<=n;--n)n in o&&e.call(void 0,o[n],n,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function F(t){return Array.prototype.concat.apply([],arguments)}function V(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function U(t,e){for(var n=t.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)r+=n.shift()+o.shift();return r+n.join("%s")}var B=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function q(t){return X.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(W,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(G,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(K,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(Q,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(z,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(Y,"&#0;")),t):t}var H,W=/&/g,G=/</g,K=/>/g,Q=/"/g,z=/'/g,Y=/\x00/g,X=/[\x00&<>"']/;function Z(t,e){return-1!=t.indexOf(e)}function J(t,e){return t<e?-1:t>e?1:0}t:{var tt=n.navigator;if(tt){var et=tt.userAgent;if(et){H=et;break t}}H=""}function nt(t){return Z(H,t)}function rt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ot(t){for(var e in t)return!1;return!0}function it(t){var e,n={};for(e in t)n[e]=t[e];return n}var at,st,ut="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(t,e){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])t[n]=r[n];for(var i=0;i<ut.length;i++)n=ut[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function lt(t){n.setTimeout(function(){throw t},0)}function ht(t,e){st||function(){if(n.Promise&&n.Promise.resolve){var t=n.Promise.resolve(void 0);st=function(){t.then(pt)}}else st=function(){var t=pt;!h(n.setImmediate)||n.Window&&n.Window.prototype&&!nt("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(at||(at=function(){var t=n.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!nt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=g(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!nt("Trident")&&!nt("MSIE")){var e=new t,r={},o=r;return e.port1.onmessage=function(){if(void 0!==r.next){var t=(r=r.next).vb;r.vb=null,t()}},function(t){o.next={vb:t},o=o.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}}()),at(t)):n.setImmediate(t)}}(),dt||(st(),dt=!0),ft.add(t,e)}var dt=!1,ft=new D;function pt(){for(var t;t=A();){try{t.a.call(t.b)}catch(t){lt(t)}O(N,t)}dt=!1}function vt(t,e){if(this.a=yt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=a)try{var n=this;t.call(e,function(t){Dt(n,gt,t)},function(t){if(!(t instanceof Mt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Dt(n,mt,t)})}catch(t){Dt(this,mt,t)}}var yt=0,gt=2,mt=3;function bt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}bt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var _t=new I(function(){return new bt},function(t){t.reset()});function wt(t,e,n){var r=_t.get();return r.g=t,r.b=e,r.f=n,r}function Et(t){if(t instanceof vt)return t;var e=new vt(a);return Dt(e,gt,t),e}function Ct(t){return new vt(function(e,n){n(t)})}function St(t,e,n){Nt(t,e,n,null)||ht(m(e,t))}function Tt(t){return new vt(function(e){var n=t.length,r=[];if(n)for(var o=function(t,o,i){n--,r[t]=o?{Cb:!0,value:i}:{Cb:!1,reason:i},0==n&&e(r)},i=0;i<t.length;i++)St(t[i],m(o,i,!0),m(o,i,!1));else e(r)})}function It(t,e){t.b||t.a!=gt&&t.a!=mt||At(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ot(t,e,n,r){var o=wt(null,null,null);return o.a=new vt(function(t,i){o.g=e?function(n){try{var o=e.call(r,n);t(o)}catch(t){i(t)}}:t,o.b=n?function(e){try{var o=n.call(r,e);void 0===o&&e instanceof Mt?i(e):t(o)}catch(t){i(t)}}:i}),o.a.c=t,It(t,o),o.a}function Dt(t,e,n){t.a==yt&&(t===n&&(e=mt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Nt(n,t.Nc,t.Oc,t)||(t.i=n,t.a=e,t.c=null,At(t),e!=mt||n instanceof Mt||function(t,e){t.g=!0,ht(function(){t.g&&xt.call(null,e)})}(t,n)))}function Nt(t,e,n,r){if(t instanceof vt)return It(t,wt(e||a,n||null,r)),!0;if(E(t))return t.then(e,n,r),!0;if(d(t))try{var o=t.then;if(h(o))return function(t,e,n,r,o){function i(t){a||(a=!0,r.call(o,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(o,t))},i)}catch(t){i(t)}}(t,o,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function At(t){t.h||(t.h=!0,ht(t.Yb,t))}function Rt(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function kt(t,e,n,r){if(n==mt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Pt(e,n,r);else try{e.c?e.g.call(e.f):Pt(e,n,r)}catch(t){xt.call(null,t)}O(_t,e)}function Pt(t,e,n){e==gt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}vt.prototype.then=function(t,e,n){return Ot(this,h(t)?t:null,h(e)?e:null,n)},w(vt),(t=vt.prototype).ia=function(t,e){return(t=wt(t,t,e)).c=!0,It(this,t),this},t.s=function(t,e){return Ot(this,null,t,e)},t.cancel=function(t){this.a==yt&&ht(function(){!function t(e,n){if(e.a==yt)if(e.c){var r=e.c;if(r.b){for(var o=0,i=null,a=null,s=r.b;s&&(s.c||(o++,s.a==e&&(i=s),!(i&&1<o)));s=s.next)i||(a=s);i&&(r.a==yt&&1==o?t(r,n):(a?((o=a).next==r.f&&(r.f=o),o.next=o.next.next):Rt(r),kt(r,i,mt,n)))}e.c=null}else Dt(e,mt,n)}(this,new Mt(t))},this)},t.Nc=function(t){this.a=yt,Dt(this,gt,t)},t.Oc=function(t){this.a=yt,Dt(this,mt,t)},t.Yb=function(){for(var t;t=Rt(this);)kt(this,t,this.a,this.i);this.h=!1};var xt=lt;function Mt(t){C.call(this,t)}function $t(){0!=Lt&&(jt[this[f]||(this[f]=++p)]=this),this.pa=this.pa,this.ja=this.ja}_(Mt,C),Mt.prototype.name="cancel";var Lt=0,jt={};function Ft(t){if(!t.pa&&(t.pa=!0,t.ua(),0!=Lt)){var e=t[f]||(t[f]=++p);if(0!=Lt&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete jt[e]}}function Vt(t){return Vt[" "](t),t}$t.prototype.pa=!1,$t.prototype.ua=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},Vt[" "]=a;var Ut,Bt,qt=nt("Opera"),Ht=nt("Trident")||nt("MSIE"),Wt=nt("Edge"),Gt=Wt||Ht,Kt=nt("Gecko")&&!(Z(H.toLowerCase(),"webkit")&&!nt("Edge"))&&!(nt("Trident")||nt("MSIE"))&&!nt("Edge"),Qt=Z(H.toLowerCase(),"webkit")&&!nt("Edge");function zt(){var t=n.document;return t?t.documentMode:void 0}t:{var Yt="",Xt=(Bt=H,Kt?/rv:([^\);]+)(\)|;)/.exec(Bt):Wt?/Edge\/([\d\.]+)/.exec(Bt):Ht?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Bt):Qt?/WebKit\/(\S+)/.exec(Bt):qt?/(?:Version)[ \/]?(\S+)/.exec(Bt):void 0);if(Xt&&(Yt=Xt?Xt[1]:""),Ht){var Zt=zt();if(null!=Zt&&Zt>parseFloat(Yt)){Ut=String(Zt);break t}}Ut=Yt}var Jt,te={};function ee(t){return function(t,e){var n=te;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=B(String(Ut)).split("."),r=B(String(t)).split("."),o=Math.max(n.length,r.length),i=0;0==e&&i<o;i++){var a=n[i]||"",s=r[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=J(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||J(0==a[2].length,0==s[2].length)||J(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var ne=n.document;Jt=ne&&Ht?zt()||("CSS1Compat"==ne.compatMode?parseInt(Ut,10):5):void 0;var re=Object.freeze||function(t){return t},oe=!Ht||9<=Number(Jt),ie=Ht&&!ee("9"),ae=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return n.addEventListener("test",a,e),n.removeEventListener("test",a,e),t}();function se(t,e){this.type=t,this.b=this.target=e,this.Jb=!0}function ue(t,e){if(se.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,o=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Kt){t:{try{Vt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===o?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=r(t.pointerType)?t.pointerType:ce[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}se.prototype.preventDefault=function(){this.Jb=!1},_(ue,se);var ce=re({2:"touch",3:"pen",4:"mouse"});ue.prototype.preventDefault=function(){ue.nb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ie)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},ue.prototype.f=function(){return this.a};var le="closure_listenable_"+(1e6*Math.random()|0),he=0;function de(t){t.na=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function fe(t){this.src=t,this.a={},this.b=0}function pe(t,e){var n=e.type;n in t.a&&L(t.a[n],e)&&(de(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function ve(t,e,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(!i.na&&i.listener==e&&i.capture==!!n&&i.La==r)return o}return-1}fe.prototype.add=function(t,e,n,r,o){var i=t.toString();(t=this.a[i])||(t=this.a[i]=[],this.b++);var a=ve(t,e,r,o);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new function(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.La=o,this.key=++he,this.na=this.Ia=!1}(e,this.src,i,!!r,o)).Ia=n,t.push(e)),e};var ye="closure_lm_"+(1e6*Math.random()|0),ge={};function me(t,e,n,r,o){if(r&&r.once)_e(t,e,n,r,o);else if(c(e))for(var i=0;i<e.length;i++)me(t,e[i],n,r,o);else n=Ne(n),t&&t[le]?Re(t,e,n,d(r)?!!r.capture:!!r,o):be(t,e,n,!1,r,o)}function be(t,e,n,r,o,i){if(!e)throw Error("Invalid event type");var a=d(o)?!!o.capture:!!o,s=Oe(t);if(s||(t[ye]=s=new fe(t)),!(n=s.add(e,n,r,a,i)).proxy)if(r=function(){var t=Ie,e=oe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ae||(o=a),void 0===o&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(Ce(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function _e(t,e,n,r,o){if(c(e))for(var i=0;i<e.length;i++)_e(t,e[i],n,r,o);else n=Ne(n),t&&t[le]?ke(t,e,n,d(r)?!!r.capture:!!r,o):be(t,e,n,!0,r,o)}function we(t,e,n,r,o){if(c(e))for(var i=0;i<e.length;i++)we(t,e[i],n,r,o);else r=d(r)?!!r.capture:!!r,n=Ne(n),t&&t[le]?(t=t.m,(e=String(e).toString())in t.a&&-1<(n=ve(i=t.a[e],n,r,o))&&(de(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete t.a[e],t.b--))):t&&(t=Oe(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ve(e,n,r,o)),(n=-1<t?e[t]:null)&&Ee(n))}function Ee(t){if("number"!=typeof t&&t&&!t.na){var e=t.src;if(e&&e[le])pe(e.m,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ce(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Oe(e))?(pe(n,t),0==n.b&&(n.src=null,e[ye]=null)):de(t)}}}function Ce(t){return t in ge?ge[t]:ge[t]="on"+t}function Se(t,e,n,r){var o=!0;if((t=Oe(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var i=e[t];i&&i.capture==n&&!i.na&&(i=Te(i,r),o=o&&!1!==i)}return o}function Te(t,e){var n=t.listener,r=t.La||t.src;return t.Ia&&Ee(t),n.call(r,e)}function Ie(t,e){if(t.na)return!0;if(!oe){if(!e)t:{e=["window","event"];for(var r=n,o=0;o<e.length;o++)if(null==(r=r[e[o]])){e=null;break t}e=r}if(e=new ue(o=e,this),r=!0,!(0>o.keyCode||void 0!=o.returnValue)){t:{var i=!1;if(0==o.keyCode)try{o.keyCode=-1;break t}catch(t){i=!0}(i||void 0==o.returnValue)&&(o.returnValue=!0)}for(o=[],i=e.b;i;i=i.parentNode)o.push(i);for(t=t.type,i=o.length-1;0<=i;i--){e.b=o[i];var a=Se(o[i],t,!0,e);r=r&&a}for(i=0;i<o.length;i++)e.b=o[i],a=Se(o[i],t,!1,e),r=r&&a}return r}return Te(t,new ue(e,this))}function Oe(t){return(t=t[ye])instanceof fe?t:null}var De="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ne(t){return h(t)?t:(t[De]||(t[De]=function(e){return t.handleEvent(e)}),t[De])}function Ae(){$t.call(this),this.m=new fe(this),this.Rb=this,this.Ua=null}function Re(t,e,n,r,o){t.m.add(String(e),n,!1,r,o)}function ke(t,e,n,r,o){t.m.add(String(e),n,!0,r,o)}function Pe(t,e,n,r){if(!(e=t.m.a[String(e)]))return!0;e=e.concat();for(var o=!0,i=0;i<e.length;++i){var a=e[i];if(a&&!a.na&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ia&&pe(t.m,a),o=!1!==s.call(u,r)&&o}}return o&&0!=r.Jb}function xe(t,e,r){if(h(t))r&&(t=g(t,r));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:n.setTimeout(t,e||0)}function Me(t){var e=null;return new vt(function(n,r){-1==(e=xe(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw n.clearTimeout(e),t})}function $e(t){if(t.S&&"function"==typeof t.S)return t.S();if(r(t))return t.split("");if(l(t)){for(var e=[],n=t.length,o=0;o<n;o++)e.push(t[o]);return e}for(o in e=[],n=0,t)e[n++]=t[o];return e}function Le(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(l(t)||r(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var o in e=[],n=0,t)e[n++]=o;return e}}function je(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof je)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Fe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ve(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var o={};for(n=e=0;e<t.a.length;)Ve(o,r=t.a[e])||(t.a[n++]=r,o[r]=1),e++;t.a.length=n}}function Ve(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(Ae,$t),Ae.prototype[le]=!0,Ae.prototype.addEventListener=function(t,e,n,r){me(this,t,e,n,r)},Ae.prototype.removeEventListener=function(t,e,n,r){we(this,t,e,n,r)},Ae.prototype.dispatchEvent=function(t){var e,n=this.Ua;if(n)for(e=[];n;n=n.Ua)e.push(n);n=this.Rb;var o=t.type||t;if(r(t))t=new se(t,n);else if(t instanceof se)t.target=t.target||n;else{var i=t;ct(t=new se(o,n),i)}if(i=!0,e)for(var a=e.length-1;0<=a;a--){var s=t.b=e[a];i=Pe(s,o,!0,t)&&i}if(i=Pe(s=t.b=n,o,!0,t)&&i,i=Pe(s,o,!1,t)&&i,e)for(a=0;a<e.length;a++)i=Pe(s=t.b=e[a],o,!1,t)&&i;return i},Ae.prototype.ua=function(){if(Ae.nb.ua.call(this),this.m){var t,e=this.m;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)de(n[r]);delete e.a[t],e.b--}}this.Ua=null},(t=je.prototype).S=function(){Fe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.U=function(){return Fe(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Ve(this.b,t)?this.b[t]:e},t.set=function(t,e){Ve(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);t.call(e,i,o,this)}};var Ue=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Be(t,e){if(this.b=this.m=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof Be){this.f=void 0!==e?e:t.f,qe(this,t.c),this.m=t.m,this.b=t.b,He(this,t.i),this.g=t.g,e=t.a;var n=new on;n.c=e.c,e.a&&(n.a=new je(e.a),n.b=e.b),We(this,n),this.h=t.h}else t&&(n=String(t).match(Ue))?(this.f=!!e,qe(this,n[1]||"",!0),this.m=Ye(n[2]||""),this.b=Ye(n[3]||"",!0),He(this,n[4]),this.g=Ye(n[5]||"",!0),We(this,n[6]||"",!0),this.h=Ye(n[7]||"")):(this.f=!!e,this.a=new on(null,this.f))}function qe(t,e,n){t.c=n?Ye(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function He(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function We(t,e,n){e instanceof on?(t.a=e,function(t,e){e&&!t.f&&(an(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(un(this,e),ln(this,n,t))},t)),t.f=e}(t.a,t.f)):(n||(e=Xe(e,nn)),t.a=new on(e,t.f))}function Ge(t,e,n){t.a.set(e,n)}function Ke(t,e){return t.a.get(e)}function Qe(t){return t instanceof Be?new Be(t):new Be(t,void 0)}function ze(t,e){var n=new Be(null,void 0);return qe(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function Ye(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xe(t,e,n){return r(t)?(t=encodeURI(t).replace(e,Ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Be.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Xe(e,Je,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.m)&&t.push(Xe(e,Je,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Xe(n,"/"==n.charAt(0)?en:tn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Xe(n,rn)),t.join("")};var Je=/[#\/\?@]/g,tn=/[#\?:]/g,en=/[#\?]/g,nn=/[#\?@]/g,rn=/#/g;function on(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function an(t){t.a||(t.a=new je,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var i=t[n].substring(0,r);o=t[n].substring(r+1)}else i=t[n];e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function sn(t){var e=Le(t);if(void 0===e)throw Error("Keys are undefined");var n=new on(null,void 0);t=$e(t);for(var r=0;r<e.length;r++){var o=e[r],i=t[r];c(i)?ln(n,o,i):n.add(o,i)}return n}function un(t,e){an(t),e=hn(t,e),Ve(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ve((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Fe(t)))}function cn(t,e){return an(t),e=hn(t,e),Ve(t.a.b,e)}function ln(t,e,n){un(t,e),0<n.length&&(t.c=null,t.a.set(hn(t,e),V(n)),t.b+=n.length)}function hn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=on.prototype).add=function(t,e){an(this),this.c=null,t=hn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){an(this),this.a.forEach(function(n,r){P(n,function(n){t.call(e,n,r,this)},this)},this)},t.U=function(){an(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var o=t[r],i=0;i<o.length;i++)n.push(e[r]);return n},t.S=function(t){an(this);var e=[];if(r(t))cn(this,t)&&(e=F(e,this.a.get(hn(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=F(e,t[n])}return e},t.set=function(t,e){return an(this),this.c=null,cn(this,t=hn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return 0<(t=t?this.S(t):[]).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],o=encodeURIComponent(String(r));r=this.S(r);for(var i=0;i<r.length;i++){var a=o;""!==r[i]&&(a+="="+encodeURIComponent(String(r[i]))),t.push(a)}}return this.c=t.join("&")};var dn=!Ht||9<=Number(Jt);function fn(){this.a="",this.b=vn}function pn(t){return t instanceof fn&&t.constructor===fn&&t.b===vn?t.a:(T("expected object of type Const, got '"+t+"'"),"type_error:Const")}fn.prototype.ma=!0,fn.prototype.la=function(){return this.a},fn.prototype.toString=function(){return"Const{"+this.a+"}"};var vn={};function yn(t){var e=new fn;return e.a=t,e}function gn(){this.a="",this.b=En}function mn(t){return t instanceof gn&&t.constructor===gn&&t.b===En?t.a:(T("expected object of type TrustedResourceUrl, got '"+t+"' of type "+s(t)),"type_error:TrustedResourceUrl")}function bn(t,e){var n=pn(t);if(!wn.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=new gn;return e.a=t,e}(t=n.replace(_n,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof fn?pn(t):encodeURIComponent(String(t))}))}yn(""),gn.prototype.ma=!0,gn.prototype.la=function(){return this.a},gn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var _n=/%{(\w+)}/g,wn=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,En={};function Cn(){this.a="",this.b=On}function Sn(t){return t instanceof Cn&&t.constructor===Cn&&t.b===On?t.a:(T("expected object of type SafeUrl, got '"+t+"' of type "+s(t)),"type_error:SafeUrl")}Cn.prototype.ma=!0,Cn.prototype.la=function(){return this.a},Cn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Tn=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function In(t){return t instanceof Cn?t:(t=t.ma?t.la():String(t),Tn.test(t)||(t="about:invalid#zClosurez"),Dn(t))}var On={};function Dn(t){var e=new Cn;return e.a=t,e}function Nn(){this.a="",this.b=An}Dn("about:blank"),Nn.prototype.ma=!0,Nn.prototype.la=function(){return this.a},Nn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var An={};function Rn(t){var e=new Nn;return e.a=t,e}function kn(t){var e=document;return r(t)?e.getElementById(t):t}function Pn(t,e){rt(e,function(e,n){e&&e.ma&&(e=e.la()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:xn.hasOwnProperty(n)?t.setAttribute(xn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}Rn("<!DOCTYPE html>"),Rn(""),Rn("<br>");var xn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Mn(t){if(t&&"number"==typeof t.length){if(d(t))return"function"==typeof t.item||"string"==typeof t.item;if(h(t))return"function"==typeof t.item}return!1}function $n(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(c(n)){var o=n;n=o.length,r.push("[");for(var i="",a=0;a<n;a++)r.push(i),t(e,o[a],r),i=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(o in r.push("{"),i="",n)Object.prototype.hasOwnProperty.call(n,o)&&"function"!=typeof(a=n[o])&&(r.push(i),Fn(o,r),r.push(":"),t(e,a,r),i=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Fn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new function(){},t,e),e.join("")}var Ln={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},jn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Fn(t,e){e.push('"',t.replace(jn,function(t){var e=Ln[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Ln[t]=e),e}),'"')}function Vn(){var t=or();return Ht&&!!Jt&&11==Jt||/Edge\/\d+/.test(t)}function Un(){return n.window&&n.window.location.href||self&&self.location&&self.location.href||""}function Bn(t,e){e=e||n.window;var r="about:blank";t&&(r=Sn(In(t))),e.location.href=r}function qn(t){return!!((t=(t||or()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Hn(t){t=t||n.window;try{t.close()}catch(t){}}function Wn(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var o=(window.screen.availHeight-n)/2,i=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<o?o:0,left:0<i?i:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=or().toLowerCase(),r&&(e.target=r,Z(n,"crios/")&&(e.target="_blank")),er(or())==Jn&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Cn?n:In(void 0!==n.href?n.href:String(n)),n=t.target||n.target,o=[],t)switch(a){case"width":case"height":case"top":case"left":o.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:o.push(a+"="+(t[a]?1:0))}var a=o.join(",");if((nt("iPhone")&&!nt("iPod")&&!nt("iPad")||nt("iPad")||nt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),e instanceof Cn||e instanceof Cn||(e=e.ma?e.la():String(e),Tn.test(e)||(e="about:invalid#zClosurez"),e=Dn(e)),a.href=Sn(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=Sn(e),a&&(Gt&&Z(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,yn("b/12014412, meta tag with sanitized URL"),t=Rn(t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+q(t)+'">'),a.document.write(function(t){return t instanceof Nn&&t.constructor===Nn&&t.b===An?t.a:(T("expected object of type SafeHtml, got '"+t+"' of type "+s(t)),"type_error:SafeHtml")}(t)),a.document.close())):(a=r.open(Sn(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var Gn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;function Kn(){var t=null;return new vt(function(e){"complete"==n.document.readyState?e():(t=function(){e()},_e(window,"load",t))}).s(function(e){throw we(window,"load",t),e})}function Qn(t){return t=t||or(),!("file:"!==cr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function zn(){var t=n.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Yn(){return"object"!=typeof n.window&&"function"==typeof n.importScripts}function Xn(){return o.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":o.a.INTERNAL.hasOwnProperty("node")?"Node":Yn()?"Worker":"Browser"}function Zn(){var t=Xn();return"ReactNative"===t||"Node"===t}var Jn="Firefox",tr="Chrome";function er(t){var e=t.toLowerCase();return Z(e,"opera/")||Z(e,"opr/")||Z(e,"opios/")?"Opera":Z(e,"iemobile")?"IEMobile":Z(e,"msie")||Z(e,"trident/")?"IE":Z(e,"edge/")?"Edge":Z(e,"firefox/")?Jn:Z(e,"silk/")?"Silk":Z(e,"blackberry")?"Blackberry":Z(e,"webos")?"Webos":!Z(e,"safari/")||Z(e,"chrome/")||Z(e,"crios/")||Z(e,"android")?!Z(e,"chrome/")&&!Z(e,"crios/")||Z(e,"edge/")?Z(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":tr:"Safari"}var nr={Uc:"FirebaseCore-web",Wc:"FirebaseUI-web"};function rr(t,e){e=e||[];var n,r=[],o={};for(n in nr)o[nr[n]]=!0;for(n=0;n<e.length;n++)void 0!==o[e[n]]&&(delete o[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Xn())?r=er(o=or()):"Worker"===r&&(r=er(o=or())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function or(){return n.navigator&&n.navigator.userAgent||""}function ir(t,e){t=t.split("."),e=e||n;for(var r=0;r<t.length&&"object"==typeof e&&null!=e;r++)e=e[t[r]];return r!=t.length&&(e=void 0),e}function ar(){try{var t=n.localStorage,e=pr();if(t)return t.setItem(e,"1"),t.removeItem(e),!Vn()||!!n.indexedDB}catch(t){return Yn()&&!!n.indexedDB}return!1}function sr(){return(ur()||"chrome-extension:"===cr()||Qn())&&!Zn()&&ar()&&!Yn()}function ur(){return"http:"===cr()||"https:"===cr()}function cr(){return n.location&&n.location.protocol||null}function lr(t){return!qn(t=t||or())&&er(t)!=Jn}function hr(t){return void 0===t?null:$n(t)}function dr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function fr(t){if(null!==t)return JSON.parse(t)}function pr(t){return t||Math.floor(1e9*Math.random()).toString()}function vr(t){return"Safari"!=er(t=t||or())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function yr(){var t=n.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var r=0;r<t.CP.length;r++)t.CP[r]=null}function gr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=or(),e=Xn(),this.b=qn(t)||"ReactNative"===e}function mr(){var t=n.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function _r(){return!(!ir("fireauth.oauthhelper",n)&&!ir("fireauth.iframe",n))}gr.prototype.get=function(){var t=n.navigator;return!t||"boolean"!=typeof t.onLine||!ur()&&"chrome-extension:"!==cr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var wr,Er={};function Cr(t){Er[t]||(Er[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Sr={};Object.defineProperty(Sr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Sr,"abcd",{configurable:!0,enumerable:!0,value:2}),wr=2==Sr.abcd}catch(Bt){wr=!1}function Tr(t,e,n){wr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Ir(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Tr(t,n,e[n])}function Or(t){var e={};return Ir(e,t),e}function Dr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Tr(e,n,Dr(t[n]));return e}function Nr(t,e){this.code=Rr+t,this.message=e||kr[t]||""}function Ar(t){var e=t&&t.code;return e?new Nr(e.substring(Rr.length),t.message):null}_(Nr,Error),Nr.prototype.D=function(){return{code:this.code,message:this.message}},Nr.prototype.toJSON=function(){return this.D()};var Rr="auth/",kr={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Pr(t){var e=t[Lr];if(void 0===e)throw new Nr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Nr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[xr];if(n&&"object"==typeof n){e=n[Vr];var r=n[jr];if(n=n[Fr],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Nr("argument-error",jr+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Nr("argument-error",Fr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Nr("argument-error",Vr+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Nr("missing-android-pkg-name")}}else if(void 0!==n)throw new Nr("argument-error",xr+" property must be a non null object when specified.");if(this.f=null,(e=t[$r])&&"object"==typeof e){if("string"==typeof(e=e[Ur])&&e.length)this.f=e;else if(void 0!==e)throw new Nr("argument-error",Ur+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Nr("argument-error",$r+" property must be a non null object when specified.");if(void 0!==(t=t[Mr])&&"boolean"!=typeof t)throw new Nr("argument-error",Mr+" property must be a boolean when specified.");this.c=!!t}var xr="android",Mr="handleCodeInApp",$r="iOS",Lr="url",jr="installApp",Fr="minimumVersion",Vr="packageName",Ur="bundleId";function Br(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e)null===e[n]&&delete e[n];return e}var qr=null,Hr=null;function Wr(t){this.c=t.sub,b(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Gr(t){return(t=Kr(t))&&t.sub&&t.iss&&t.aud&&t.exp?new Wr(t):null}function Kr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),o=Hr[n];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!qr){qr={},Hr={};for(var t=0;65>t;t++)qr[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Hr[qr[t]]=t,62<=t&&(Hr["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var o=n(-1),i=n(0),a=n(64),s=n(64);if(64===s&&-1===o)break;e(o<<2|i>>4),64!=a&&(e(i<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(t){}return null}Wr.prototype.f=function(){return this.b};var Qr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),zr=["client_id","response_type","scope","redirect_uri","state"],Yr={Vc:{Ma:"locale",Ba:500,Aa:600,Na:"facebook.com",gb:zr},Xc:{Ma:null,Ba:500,Aa:620,Na:"github.com",gb:zr},Yc:{Ma:"hl",Ba:515,Aa:680,Na:"google.com",gb:zr},dd:{Ma:"lang",Ba:485,Aa:705,Na:"twitter.com",gb:Qr}};function Xr(t){for(var e in Yr)if(Yr[e].Na==t)return Yr[e];return null}function Zr(t){var e={};e["facebook.com"]=ro,e["google.com"]=io,e["github.com"]=oo,e["twitter.com"]=ao;var n=t&&t[to];try{if(n)return e[n]?new e[n](t):new no(t);if(void 0!==t[Jr])return new eo(t)}catch(t){}return null}var Jr="idToken",to="providerId";function eo(t){var e=t[to];if(!e&&t[Jr]){var n=Gr(t[Jr]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Tr(this,"providerId",e),Tr(this,"isNewUser",n)}function no(t){eo.call(this,t),Tr(this,"profile",Dr((t=fr(t.rawUserInfo||"{}"))||{}))}function ro(t){if(no.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function oo(t){if(no.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Tr(this,"username",this.profile&&this.profile.login||null)}function io(t){if(no.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ao(t){if(no.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Tr(this,"username",t.screenName||null)}function so(t){var e=Qe(t),n=Ke(e,"link"),r=Ke(Qe(n),"link");return Ke(Qe(e=Ke(e,"deep_link_id")),"link")||e||r||n||t}function uo(t,e){return t.then(function(t){if(t[Vi]){var n=Gr(t[Vi]);if(!n||e!=n.c)throw new Nr("user-mismatch");return t}throw new Nr("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==Rr+"user-not-found"?new Nr("user-mismatch"):t})}function co(t,e,n){if(e.idToken||e.accessToken)e.idToken&&Tr(this,"idToken",e.idToken),e.accessToken&&Tr(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Nr("internal-error","failed to construct a credential");Tr(this,"accessToken",e.oauthToken),Tr(this,"secret",e.oauthTokenSecret)}Tr(this,"providerId",t),Tr(this,"signInMethod",n)}function lo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:sn(e).toString(),requestUri:"http://localhost"}}function ho(t,e){this.Dc=e||[],Ir(this,{providerId:t,isOAuthProvider:!0}),this.xb={},this.bb=(Xr(t)||{}).Ma||null,this.Za=null}function fo(t){ho.call(this,t,zr),this.a=[]}function po(){fo.call(this,"facebook.com")}function vo(t){if(!t)throw new Nr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new po).credential(null,e)}function yo(){fo.call(this,"github.com")}function go(t){if(!t)throw new Nr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new yo).credential(null,e)}function mo(){fo.call(this,"google.com"),this.ta("profile")}function bo(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new mo).credential(n,e)}function _o(){ho.call(this,"twitter.com",Qr)}function wo(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Nr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new co("twitter.com",n,"twitter.com")}function Eo(t,e,n){this.a=t,this.b=e,Tr(this,"providerId","password"),Tr(this,"signInMethod",n===Co.EMAIL_LINK_SIGN_IN_METHOD?Co.EMAIL_LINK_SIGN_IN_METHOD:Co.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Co(){Ir(this,{providerId:"password",isOAuthProvider:!1})}function So(t,e){if(!(e=To(e)))throw new Nr("argument-error","Invalid email link!");return new Eo(t,e,Co.EMAIL_LINK_SIGN_IN_METHOD)}function To(t){var e=Ke((t=new function(t){this.a=Qe(t)}(t=so(t))).a,"oobCode")||null;return"signIn"===(Ke(t.a,"mode")||null)&&e?e:null}function Io(t){if(!(t.Sa&&t.Ra||t.Fa&&t.$))throw new Nr("internal-error");this.a=t,Tr(this,"providerId","phone"),Tr(this,"signInMethod","phone")}function Oo(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Sa,code:t.a.Ra}}function Do(t){try{this.a=t||o.a.auth()}catch(t){throw new Nr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ir(this,{providerId:"phone",isOAuthProvider:!1})}function No(t,e){if(!t)throw new Nr("missing-verification-id");if(!e)throw new Nr("missing-verification-code");return new Io({Sa:t,Ra:e})}function Ao(t){if(t.temporaryProof&&t.phoneNumber)return new Io({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return bo(t,n);case"facebook.com":return vo(n);case"github.com":return go(n);case"twitter.com":return wo(n,r);default:return new fo(e).credential(t,n)}}catch(t){return null}}function Ro(t){if(!t.isOAuthProvider)throw new Nr("invalid-oauth-provider")}function ko(t,e,n,r,o){if(this.b=t,this.c=e||null,this.f=n||null,this.g=r||null,this.a=o||null,!this.f&&!this.a)throw new Nr("invalid-auth-event");if(this.f&&this.a)throw new Nr("invalid-auth-event");if(this.f&&!this.g)throw new Nr("invalid-auth-event")}function Po(t){return(t=t||{}).type?new ko(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Ar(t.error)):null}function xo(){this.b=null,this.a=[]}_(no,eo),_(ro,no),_(oo,no),_(io,no),_(ao,no),co.prototype.ya=function(t){return ra(t,lo(this))},co.prototype.c=function(t,e){var n=lo(this);return n.idToken=e,oa(t,n)},co.prototype.f=function(t,e){return uo(ia(t,lo(this)),e)},co.prototype.D=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t},ho.prototype.Da=function(t){return this.xb=it(t),this},_(fo,ho),fo.prototype.ta=function(t){return $(this.a,t)||this.a.push(t),this},fo.prototype.Db=function(){return V(this.a)},fo.prototype.credential=function(t,e){if(!t&&!e)throw new Nr("argument-error","credential failed: must provide the ID token and/or the access token.");return new co(this.providerId,{idToken:t||null,accessToken:e||null},this.providerId)},_(po,fo),Tr(po,"PROVIDER_ID","facebook.com"),Tr(po,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(yo,fo),Tr(yo,"PROVIDER_ID","github.com"),Tr(yo,"GITHUB_SIGN_IN_METHOD","github.com"),_(mo,fo),Tr(mo,"PROVIDER_ID","google.com"),Tr(mo,"GOOGLE_SIGN_IN_METHOD","google.com"),_(_o,ho),Tr(_o,"PROVIDER_ID","twitter.com"),Tr(_o,"TWITTER_SIGN_IN_METHOD","twitter.com"),Eo.prototype.ya=function(t){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?xa(t,fa,{email:this.a,oobCode:this.b}):xa(t,Aa,{email:this.a,password:this.b})},Eo.prototype.c=function(t,e){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?xa(t,pa,{idToken:e,email:this.a,oobCode:this.b}):xa(t,Sa,{idToken:e,email:this.a,password:this.b})},Eo.prototype.f=function(t,e){return uo(this.ya(t),e)},Eo.prototype.D=function(){return{email:this.a,password:this.b,signInMethod:this.signInMethod}},Ir(Co,{PROVIDER_ID:"password"}),Ir(Co,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ir(Co,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Io.prototype.ya=function(t){return t.Ta(Oo(this))},Io.prototype.c=function(t,e){var n=Oo(this);return n.idToken=e,xa(t,ka,n)},Io.prototype.f=function(t,e){var n=Oo(this);return n.operation="REAUTH",uo(t=xa(t,Pa,n),e)},Io.prototype.D=function(){var t={providerId:"phone"};return this.a.Sa&&(t.verificationId=this.a.Sa),this.a.Ra&&(t.verificationCode=this.a.Ra),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},Do.prototype.Ta=function(t,e){var n=this.a.b;return Et(e.verify()).then(function(o){if(!r(o))throw new Nr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return xa(n,Ea,e)}(0,{phoneNumber:t,recaptchaToken:o}).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new Nr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Ir(Do,{PROVIDER_ID:"phone"}),Ir(Do,{PHONE_SIGN_IN_METHOD:"phone"}),ko.prototype.D=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.D()}};var Mo=null;function $o(t){var e="unauthorized-domain",n=void 0,r=Qe(t);t=r.b,"chrome-extension"==(r=r.c)?n=U("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=U("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Nr.call(this,e,n)}function Lo(t,e,n){Nr.call(this,t,n),(t=e||{}).yb&&Tr(this,"email",t.yb),t.$&&Tr(this,"phoneNumber",t.$),t.credential&&Tr(this,"credential",t.credential)}function jo(t){if(t.code){var e=t.code||"";0==e.indexOf(Rr)&&(e=e.substring(Rr.length));var n={credential:Ao(t)};if(t.email)n.yb=t.email;else{if(!t.phoneNumber)return new Nr(e,t.message||void 0);n.$=t.phoneNumber}return new Lo(e,n,t.message)}return null}xo.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=ir("universalLinks.subscribe",n))&&t(null,this.b))},xo.prototype.unsubscribe=function(t){j(this.a,function(e){return e==t})},_($o,Nr),_(Lo,Nr),Lo.prototype.D=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.D();return e&&ct(t,e),t},Lo.prototype.toJSON=function(){return this.D()};var Fo,Vo=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Uo(){}function Bo(){}function qo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ho(){}function Wo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=g(this.ec,this),this.a.onerror=g(this.Eb,this),this.a.onprogress=g(this.fc,this),this.a.ontimeout=g(this.ic,this)}function Go(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Ko(t,e,n){this.reset(t,e,n,void 0,void 0)}function Qo(t){this.f=t,this.b=this.c=this.a=null}function zo(t,e){this.name=t,this.value=e}Uo.prototype.c=null,_(Bo,Uo),Bo.prototype.a=function(){var t=qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Bo.prototype.b=function(){var t={};return qo(this)&&(t[0]=!0,t[1]=!0),t},Fo=new Bo,_(Ho,Uo),Ho.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Wo;throw Error("Unsupported browser")},Ho.prototype.b=function(){return{}},(t=Wo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.ec=function(){this.status=200,this.responseText=this.a.responseText,Go(this,4)},t.Eb=function(){this.status=500,this.responseText="",Go(this,4)},t.ic=function(){this.Eb()},t.fc=function(){this.status=200,Go(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ko.prototype.a=null,Ko.prototype.reset=function(t,e,n,r,o){r||b(),delete this.a},zo.prototype.toString=function(){return this.name};var Yo=new zo("SEVERE",1e3),Xo=new zo("WARNING",900),Zo=new zo("CONFIG",700),Jo=new zo("FINE",500);Qo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(T("Root logger has no level set."),null)}(this).value)for(h(e)&&(e=e()),t=new Ko(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ti={},ei=null;function ni(t){var e;if(ei||(ei=new Qo(""),ti[""]=ei,ei.c=Zo),!(e=ti[t])){e=new Qo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ni(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ti[t]=e}return e}function ri(t,e){t&&t.log(Jo,e,void 0)}function oi(t){this.f=t}function ii(t){Ae.call(this),this.i=t,this.readyState=ai,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=ni("goog.net.FetchXmlHttp")}_(oi,Uo),oi.prototype.a=function(){return new ii(this.f)},oi.prototype.b=function(t){return function(){return t}}({}),_(ii,Ae);var ai=0;function si(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ui(t){Ae.call(this),this.headers=new je,this.C=t||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=ci,this.v=this.O=!1}(t=ii.prototype).open=function(t,e){if(this.readyState!=ai)throw this.abort(),Error("Error reopening a connection");this.h=t,this.c=e,this.readyState=1,si(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.g,method:this.h,credentials:void 0,cache:void 0};t&&(e.body=t),this.i.fetch(new Request(this.c,e)).then(this.hc.bind(this),this.Fb.bind(this))},t.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,si(this)),this.readyState=ai},t.hc=function(t){this.a&&(this.b||(this.b=t.headers,this.readyState=2,si(this)),this.a&&(this.readyState=3,si(this),this.a&&t.text().then(this.gc.bind(this,t),this.Fb.bind(this))))},t.gc=function(t,e){this.a&&(this.status=t.status,this.statusText=t.statusText,this.responseText=e,this.readyState=4,si(this))},t.Fb=function(t){var e=this.f;e&&e.log(Xo,"Failed to fetch url "+this.c,t instanceof Error?t:Error(t)),this.a&&(this.readyState=4,si(this))},t.setRequestHeader=function(t,e){this.g.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.f)&&t.log(Xo,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.f;return t&&t.log(Xo,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},_(ui,Ae);var ci="";ui.prototype.b=ni("goog.net.XhrIo");var li=/^https?$/i,hi=["POST","PUT"];function di(t){return"content-type"==t.toLowerCase()}function fi(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,pi(t),yi(t)}function pi(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function vi(t){if(t.c&&void 0!==e)if(t.w[1]&&4==mi(t)&&2==bi(t))ri(t.b,_i(t,"Local request error detected and ignored"));else if(t.i&&4==mi(t))xe(t.Ib,0,t);else if(t.dispatchEvent("readystatechange"),4==mi(t)){ri(t.b,_i(t,"Request complete")),t.c=!1;try{var r,o=bi(t);t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(r=i)){var a;if(a=0===o){var s=String(t.l).match(Ue)[1]||null;if(!s&&n.self&&n.self.location){var u=n.self.location.protocol;s=u.substr(0,u.length-1)}a=!li.test(s?s.toLowerCase():"")}r=a}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<mi(t)?t.a.statusText:""}catch(e){ri(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+bi(t)+"]",pi(t)}}finally{yi(t)}}}function yi(t,e){if(t.a){gi(t);var n=t.a,r=t.w[0]?a:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(Yo,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function gi(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(n.clearTimeout(t.u),t.u=null)}function mi(t){return t.a?t.a.readyState:0}function bi(t){try{return 2<mi(t)?t.a.status:-1}catch(t){return-1}}function _i(t,e){return e+" ["+t.N+" "+t.l+" "+bi(t)+"]"}function wi(t,e){this.g=[],this.v=t,this.u=e||null,this.f=this.a=!1,this.c=void 0,this.l=this.w=this.i=!1,this.h=0,this.b=null,this.m=0}function Ei(t,e,n){t.a=!0,t.c=n,t.f=!e,Ii(t)}function Ci(t){if(t.a){if(!t.l)throw new Oi(t);t.l=!1}}function Si(t,e,n,r){t.g.push([e,n,r]),t.a&&Ii(t)}function Ti(t){return M(t.g,function(t){return h(t[1])})}function Ii(t){if(t.h&&t.a&&Ti(t)){var e=t.h,r=Ai[e];r&&(n.clearTimeout(r.a),delete Ai[e]),t.h=0}t.b&&(t.b.m--,delete t.b),e=t.c;for(var o=r=!1;t.g.length&&!t.i;){var i=t.g.shift(),a=i[0],s=i[1];if(i=i[2],a=t.f?s:a)try{var u=a.call(i||t.u,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(E(e)||"function"==typeof n.Promise&&e instanceof n.Promise)&&(o=!0,t.i=!0)}catch(n){e=n,t.f=!0,Ti(t)||(r=!0)}}t.c=e,o&&(u=g(t.o,t,!0),o=g(t.o,t,!1),e instanceof wi?(Si(e,u,o),e.w=!0):e.then(u,o)),r&&(e=new Ni(e),Ai[e.a]=e,t.h=e.a)}function Oi(){C.call(this)}function Di(){C.call(this)}function Ni(t){this.a=n.setTimeout(g(this.c,this),0),this.b=t}(t=ui.prototype).Ga=function(){void 0!==e&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ri(this.b,_i(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ri(this.b,_i(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),yi(this))},t.ua=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),yi(this,!0)),ui.nb.ua.call(this)},t.Ib=function(){this.pa||(this.I||this.i||this.f?vi(this):this.wc())},t.wc=function(){vi(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case ci:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Yo,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(t){return ri(this.b,"Can not get response: "+t.message),null}},wi.prototype.cancel=function(t){if(this.a)this.c instanceof wi&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.m--,0>=e.m&&e.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(t=new Di(this),Ci(this),Ei(this,!1,t))}},wi.prototype.o=function(t,e){this.i=!1,Ei(this,t,e)},wi.prototype.C=function(){Ci(this),Ei(this,!0,null)},wi.prototype.then=function(t,e,n){var r,o,i=new vt(function(t,e){r=t,o=e});return Si(this,r,function(t){t instanceof Di?i.cancel():o(t)}),i.then(t,e,n)},w(wi),_(Oi,C),Oi.prototype.message="Deferred has already fired",Oi.prototype.name="AlreadyCalledError",_(Di,C),Di.prototype.message="Deferred was canceled",Di.prototype.name="CanceledError",Ni.prototype.c=function(){throw delete Ai[this.a],this.b};var Ai={};function Ri(t){var e={},n=e.document||document,r=mn(t),o=document.createElement("SCRIPT"),i={Kb:o,Ga:void 0},a=new wi(ki,i),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){Pi(o,!0);var t=new $i(Mi,"Timeout reached for loading script "+r);Ci(a),Ei(a,!1,t)},u),i.Ga=s),o.onload=o.onreadystatechange=function(){o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||(Pi(o,e.fd||!1,s),a.C())},o.onerror=function(){Pi(o,!0,s);var t=new $i(xi,"Error while loading script "+r);Ci(a),Ei(a,!1,t)},ct(i=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Pn(o,i),o.src=mn(t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(o),a}function ki(){if(this&&this.Kb){var t=this.Kb;t&&"SCRIPT"==t.tagName&&Pi(t,!0,this.Ga)}}function Pi(t,e,r){null!=r&&n.clearTimeout(r),t.onload=a,t.onerror=a,t.onreadystatechange=a,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var xi=0,Mi=1;function $i(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),C.call(this,n),this.code=t}function Li(t){this.f=t}function ji(t,e,r){if(this.b=t,this.i=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ui,this.f=it(t.secureTokenHeaders||Bi),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||qi,this.a=it(t.firebaseHeaders||Hi),r&&(this.a["X-Client-Version"]=r,this.f["X-Client-Version"]=r),r="Node"==Xn(),!(r=n.XMLHttpRequest||r&&o.a.INTERNAL.node&&o.a.INTERNAL.node.XMLHttpRequest)&&!Yn())throw new Nr("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,this.c=Yn()?new oi(self):Zn()?new Li(r):new Ho}_($i,C),_(Li,Uo),Li.prototype.a=function(){return new this.f},Li.prototype.b=function(){return{}};var Fi,Vi="idToken",Ui=new gr(3e4,6e4),Bi={"Content-Type":"application/x-www-form-urlencoded"},qi=new gr(3e4,6e4),Hi={"Content-Type":"application/json"};function Wi(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Gi(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function Ki(t,e,r,o,i,a,s){(function(){var t=or();return!((t=er(t)!=tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Ht&&Jt&&!(9<Jt))})()||Yn()?t=g(t.o,t):(Fi||(Fi=new vt(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{n[zi]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var r=bn(Qi,{onload:zi});!function(t,e){Si(Ri(r),null,e,void 0)}(0,function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=g(t.l,t)),t(e,r,o,i,a,s)}ji.prototype.o=function(t,e,o,i,a,s){if(Yn()&&(void 0===n.fetch||void 0===n.Headers||void 0===n.Request))throw new Nr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var u=new ui(this.c);if(s){u.g=Math.max(0,s);var c=setTimeout(function(){u.dispatchEvent("timeout")},s)}Re(u,"complete",function(){c&&clearTimeout(c);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ri(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)}),ke(u,"ready",function(){c&&clearTimeout(c),Ft(this)}),ke(u,"timeout",function(){c&&clearTimeout(c),Ft(this),e&&e(null)}),function(t,e,o,i,a){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);o=o?o.toUpperCase():"GET",t.l=e,t.h="",t.N=o,t.G=!1,t.c=!0,t.a=t.C?t.C.a():Fo.a(),t.w=function(t){return t.c||(t.c=t.b())}(t.C?t.C:Fo),t.a.onreadystatechange=g(t.Ib,t);try{ri(t.b,_i(t,"Opening Xhr")),t.I=!0,t.a.open(o,String(e),!0),t.I=!1}catch(e){return ri(t.b,_i(t,"Error opening Xhr: "+e.message)),void fi(t,e)}e=i||"";var s=new je(t.headers);a&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||r(t))P(t,e,void 0);else for(var n=Le(t),o=$e(t),i=o.length,a=0;a<i;a++)e.call(void 0,o[a],n&&n[a],t)}(a,function(t,e){s.set(e,t)}),a=function(t){t:{for(var e=di,n=t.length,o=r(t)?t.split(""):t,i=0;i<n;i++)if(i in o&&e.call(void 0,o[i],i,t)){e=i;break t}e=-1}return 0>e?null:r(t)?t.charAt(e):t[e]}(s.U()),i=n.FormData&&e instanceof n.FormData,!$(hi,o)||a||i||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.o&&(t.a.responseType=t.o),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{gi(t),0<t.g&&(t.v=function(t){return Ht&&ee(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ri(t.b,_i(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=g(t.Ga,t)):t.u=xe(t.Ga,t.g,t)),ri(t.b,_i(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){ri(t.b,_i(t,"Send error: "+e.message)),fi(t,e)}}(u,t,o,i,a)};var Qi=yn("https://apis.google.com/js/client.js?onload=%{onload}"),zi="__fcb"+Math.floor(1e6*Math.random()).toString();function Yi(t){if(!Vo.test(t.email))throw new Nr("invalid-email")}function Xi(t){"email"in t&&Yi(t)}function Zi(t){if(!t[Vi])throw new Nr("internal-error")}function Ji(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Nr("internal-error")}else{if(!t.sessionInfo)throw new Nr("missing-verification-id");if(!t.code)throw new Nr("missing-verification-code")}}ji.prototype.l=function(t,e,n,r,o){var i=this;Fi.then(function(){window.gapi.client.setApiKey(i.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:o,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},ji.prototype.Pa=function(){return xa(this,Ta,{})},ji.prototype.ob=function(t,e){return xa(this,Ca,{idToken:t,email:e})},ji.prototype.pb=function(t,e){return xa(this,Sa,{idToken:t,password:e})};var ta={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ea(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new Nr("internal-error")}function na(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=jo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=jo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=jo(t)):t.errorMessage&&(e=Ma(t.errorMessage)),e)throw e;if(!t[Vi])throw new Nr("internal-error")}function ra(t,e){return e.returnIdpCredential=!0,xa(t,Ia,e)}function oa(t,e){return e.returnIdpCredential=!0,xa(t,Da,e)}function ia(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,xa(t,Oa,e)}function aa(t){if(!t.oobCode)throw new Nr("invalid-action-code")}(t=ji.prototype).qb=function(t,e){var n={idToken:t},r=[];return rt(ta,function(t,o){var i=e[o];null===i?r.push(t):o in e&&(n[o]=i)}),r.length&&(n.deleteAttribute=r),xa(this,Ca,n)},t.jb=function(t,e){return ct(t={requestType:"PASSWORD_RESET",email:t},e),xa(this,ma,t)},t.kb=function(t,e){return ct(t={requestType:"EMAIL_SIGNIN",email:t},e),xa(this,ya,t)},t.ib=function(t,e){return ct(t={requestType:"VERIFY_EMAIL",idToken:t},e),xa(this,ga,t)},t.Ta=function(t){return xa(this,Ra,t)},t.Ya=function(t,e){return xa(this,wa,{oobCode:t,newPassword:e})},t.Ja=function(t){return xa(this,ua,{oobCode:t})},t.Va=function(t){return xa(this,sa,{oobCode:t})};var sa={endpoint:"setAccountInfo",B:aa,da:"email"},ua={endpoint:"resetPassword",B:aa,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Nr("internal-error")}},ca={endpoint:"signupNewUser",B:function(t){if(Yi(t),!t.password)throw new Nr("weak-password")},J:Zi,R:!0},la={endpoint:"createAuthUri"},ha={endpoint:"deleteAccount",T:["idToken"]},da={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(t){if(!c(t.deleteProvider))throw new Nr("internal-error")}},fa={endpoint:"emailLinkSignin",T:["email","oobCode"],B:Yi,J:Zi,R:!0},pa={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:Yi,J:Zi,R:!0},va={endpoint:"getAccountInfo"},ya={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Nr("internal-error");Yi(t)},da:"email"},ga={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Nr("internal-error")},da:"email"},ma={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Nr("internal-error");Yi(t)},da:"email"},ba={tb:!0,endpoint:"getProjectConfig",Hb:"GET"},_a={tb:!0,endpoint:"getRecaptchaParam",Hb:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new Nr("internal-error")}},wa={endpoint:"resetPassword",B:aa,da:"email"},Ea={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},Ca={endpoint:"setAccountInfo",T:["idToken"],B:Xi,R:!0},Sa={endpoint:"setAccountInfo",T:["idToken"],B:function(t){if(Xi(t),!t.password)throw new Nr("weak-password")},J:Zi,R:!0},Ta={endpoint:"signupNewUser",J:Zi,R:!0},Ia={endpoint:"verifyAssertion",B:ea,J:na,R:!0},Oa={endpoint:"verifyAssertion",B:ea,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Nr("user-not-found");if(t.errorMessage)throw Ma(t.errorMessage);if(!t[Vi])throw new Nr("internal-error")},R:!0},Da={endpoint:"verifyAssertion",B:function(t){if(ea(t),!t.idToken)throw new Nr("internal-error")},J:na,R:!0},Na={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new Nr("invalid-custom-token")},J:Zi,R:!0},Aa={endpoint:"verifyPassword",B:function(t){if(Yi(t),!t.password)throw new Nr("wrong-password")},J:Zi,R:!0},Ra={endpoint:"verifyPhoneNumber",B:Ji,J:Zi},ka={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new Nr("internal-error");Ji(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",jo(t);Zi(t)}},Pa={Xb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:Ji,J:Zi};function xa(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.T))return Ct(new Nr("internal-error"));var r,o=e.Hb||"POST";return Et(n).then(e.B).then(function(){return e.R&&(n.returnSecureToken=!0),function(t,e,n,r,o,i){var a=Qe(t.g+e);Ge(a,"key",t.b),i&&Ge(a,"cb",b().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&Ge(a,u,r[u]);return new vt(function(e,i){Ki(t,a.toString(),function(t){t?t.error?i($a(t,o||{})):e(t):i(new Nr("network-request-failed"))},n,s?void 0:$n(dr(r)),t.a,t.h.get())})}(t,e.endpoint,o,n,e.Xb,e.tb||!1)}).then(function(t){return r=t}).then(e.J).then(function(){if(!e.da)return r;if(!(e.da in r))throw new Nr("internal-error");return r[e.da]})}function Ma(t){return $a({error:{errors:[{message:t}],code:400,message:t}})}function $a(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Nr(r[n]):null)return n;for(var o in n=t.error&&t.error.message||"",ct(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(o))return new Nr(r[o],e);return!e&&t&&(e=hr(t)),new Nr("internal-error",e)}var La,ja={$c:{$a:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",hb:"https://securetoken.googleapis.com/v1/token",id:"p"},bd:{$a:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",hb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},cd:{$a:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",hb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Fa(t){for(var e in ja)if(ja[e].id===t)return{firebaseEndpoint:(t=ja[e]).$a,secureTokenEndpoint:t.hb};return null}La=Fa("__EID__")?"__EID__":void 0;var Va=yn("https://apis.google.com/js/api.js?onload=%{onload}"),Ua=new gr(3e4,6e4),Ba=new gr(5e3,15e3),qa=null;function Ha(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=ze(this.i,"/__/auth/iframe"),Ge(this.a,"apiKey",this.g),Ge(this.a,"appName",this.h),this.b=null,this.c=[]}function Wa(t,e,n,r,o){this.o=t,this.l=e,this.c=n,this.m=r,this.h=this.g=this.i=null,this.a=o,this.f=null}function Ga(t){try{return o.a.app(t).auth().xa()}catch(t){return[]}}function Ka(t,e,n,r,o){this.l=t,this.f=e,this.b=n,this.c=r||null,this.h=o||null,this.o=this.u=this.v=null,this.g=[],this.m=this.a=null}function Qa(t){var e=Un();return function(t){return xa(t,ba,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Qe(e),r=n.c;n=n.b;for(var o=0;o<t.length;o++){var i=t[o],a=n,s=r;if(0==i.indexOf("chrome-extension://")?a=Qe(i).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Gn.test(i)?a=a==i:(i=i.split(".").join("\\."),a=new RegExp("^(.+\\."+i+"|"+i+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new $o(Un())})}function za(t){return t.m?t.m:(t.m=Kn().then(function(){if(!t.u){var e=t.c,r=t.h,o=Ga(t.b),i=new Ha(t.l,t.f,t.b);i.f=e,i.b=r,i.c=V(o||[]),t.u=i.toString()}t.i=new function(t){this.b=t,this.a=null,this.eb=function(t){return(qa||(qa=new vt(function(t,e){function r(){yr(),ir("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){yr(),e(Error("Network Error"))},timeout:Ua.get()})}if(ir("gapi.iframes.Iframe"))t();else if(ir("gapi.load"))r();else{var o="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[o]=function(){ir("gapi.load")?r():e(Error("Network Error"))},Et(Ri(o=bn(Va,{onload:o}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw qa=null,t}))).then(function(){return new vt(function(e,n){ir("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function o(){clearTimeout(i),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var i=setTimeout(function(){n(Error("Network Error"))},Ba.get());r.ping(o).then(o,function(){n(Error("Network Error"))})})})})}(this)}(t.u),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.eb.then(function(){t.a.register("authEvent",e,ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Po(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Et(n)}return n.status="ERROR",Et(n)})}(t)}),t.m)}function Ya(t){return t.o||(t.v=t.c?rr(t.c,Ga(t.b)):null,t.o=new ji(t.f,Fa(t.h),t.v)),t.o}function Xa(t,e,n,r,o,i,a,s,u,c){return(t=new Wa(t,e,n,r,o)).i=i,t.g=a,t.h=s,t.b=it(u||null),t.f=c,t.toString()}function Za(t){if(this.a=t||o.a.INTERNAL.reactNative&&o.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Nr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Ja(t){this.b=t,this.a={},this.c=g(this.f,this)}Ha.prototype.toString=function(){return this.f?Ge(this.a,"v",this.f):un(this.a.a,"v"),this.b?Ge(this.a,"eid",this.b):un(this.a.a,"eid"),this.c.length?Ge(this.a,"fw",this.c.join(",")):un(this.a.a,"fw"),this.a.toString()},Wa.prototype.toString=function(){var t=ze(this.o,"/__/auth/handler");if(Ge(t,"apiKey",this.l),Ge(t,"appName",this.c),Ge(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=o.a.app(this.c).auth().ea()}catch(t){n=null}for(var r in e.Za=n,Ge(t,"providerId",this.a.providerId),n=dr((e=this.a).xb))n[r]=n[r].toString();r=e.Dc,n=it(n);for(var i=0;i<r.length;i++){var a=r[i];a in n&&delete n[a]}e.bb&&e.Za&&!n[e.bb]&&(n[e.bb]=e.Za),ot(n)||Ge(t,"customParameters",hr(n))}if("function"==typeof this.a.Db&&(e=this.a.Db()).length&&Ge(t,"scopes",e.join(",")),this.i?Ge(t,"redirectUrl",this.i):un(t.a,"redirectUrl"),this.g?Ge(t,"eventId",this.g):un(t.a,"eventId"),this.h?Ge(t,"v",this.h):un(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Ke(t,s)&&Ge(t,s,this.b[s]);return this.f?Ge(t,"eid",this.f):un(t.a,"eid"),(s=Ga(this.c)).length&&Ge(t,"fw",s.join(",")),t.toString()},(t=Ka.prototype).Ea=function(t,e,n){var r=new Nr("popup-closed-by-user"),o=new Nr("web-storage-unsupported"),i=this,a=!1;return this.ga().then(function(){(function(t){var e={type:"webStorageSupport"};return za(t).then(function(){return function(t,e){return t.eb.then(function(){return new vt(function(n){t.a.send(e.type,e,n,ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(i).then(function(n){n||(t&&Hn(t),e(o),a=!0)})}).s(function(){}).then(function(){if(!a)return function(t){return new vt(function(e){return function n(){Me(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return Me(n).then(function(){e(r)})})},t.Lb=function(){var t=or();return!lr(t)&&!vr(t)},t.Gb=function(){return!1},t.Bb=function(t,e,n,r,o,i,a){if(!t)return Ct(new Nr("popup-blocked"));if(a&&!lr())return this.ga().s(function(e){Hn(t),o(e)}),r(),Et();this.a||(this.a=Qa(Ya(this)));var s=this;return this.a.then(function(){var e=s.ga().s(function(e){throw Hn(t),o(e),e});return r(),e}).then(function(){Ro(n),a||Bn(Xa(s.l,s.f,s.b,e,n,null,i,s.c,void 0,s.h),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t})},t.Ca=function(t,e,n){this.a||(this.a=Qa(Ya(this)));var r=this;return this.a.then(function(){Ro(e),Bn(Xa(r.l,r.f,r.b,t,e,Un(),n,r.c,void 0,r.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ga=function(){var t=this;return za(this).then(function(){return t.i.eb}).s(function(){throw t.a=null,new Nr("network-request-failed")})},t.Qb=function(){return!0},t.va=function(t){this.g.push(t)},t.Ka=function(t){j(this.g,function(e){return e==t})},(t=Za.prototype).get=function(t){return Et(this.a.getItem(t)).then(function(t){return t&&fr(t)})},t.set=function(t,e){return Et(this.a.setItem(t,hr(e)))},t.P=function(t){return Et(this.a.removeItem(t))},t.Y=function(){},t.ca=function(){};var ts,es=[];function ns(){this.a=navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller||null}function rs(){this.f=new ns,this.a="undefined"!=typeof MessageChannel?new MessageChannel:null,this.c=!1,this.b=[]}function os(t,e){t.a&&(j(t.b,function(t){return t==e}),t.a.port1.removeEventListener("message",e))}function is(){if(!ss())throw new Nr("web-storage-unsupported");this.f={},this.a=[],this.b=0,this.g=n.indexedDB,this.type="indexedDB",this.i=null;var t=this;Yn()&&self&&(this.i=function(){var t=Yn()?self:null;if(P(es,function(n){n.b==t&&(e=n)}),!e){var e=new Ja(t);es.push(e)}return e}(),this.i.subscribe("keyChanged",function(e,n){return t.Pb().then(function(e){return 0<e.length&&P(t.a,function(t){t(e)}),{keyProcessed:$(e,n.key)}})}))}function as(t){return t.h||(t.h=function t(e){return new vt(function(n,r){var o=e.g.open("firebaseLocalStorageDb",1);o.onerror=function(t){try{t.preventDefault()}catch(t){}r(Error(t.target.error))},o.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){r(t)}},o.onsuccess=function(o){(o=o.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(o):function(t){return new vt(function(e,n){var r=t.g.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(e).then(function(){return t(e)}).then(function(t){n(t)}).s(function(t){r(t)})}})}(t)),t.h}function ss(){try{return!!n.indexedDB}catch(t){return!1}}function us(t){return t.objectStore("firebaseLocalStorage")}function cs(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ls(t){return new vt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})}function hs(t){return navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller?function(t,e){var n,r,o,i,a=e||{};return new vt(function(e,s){t.a?(n=Math.floor(Math.random()*Math.pow(10,20)).toString(),t.start(),o=setTimeout(function(){s(Error("unsupported_event"))},20),t.b.push(r=function(t){t.data.eventId===n&&("ack"===t.data.status?(clearTimeout(o),i=setTimeout(function(){s(Error("timeout"))},500)):"done"===t.data.status?(clearTimeout(i),void 0!==t.data.response?e(t.data.response):s(Error("unknown_error"))):(clearTimeout(o),clearTimeout(i),s(Error("invalid_response"))))}),t.a.port1.addEventListener("message",r),t.f.postMessage({eventType:"keyChanged",eventId:n,data:a},[t.a.port2])):s(Error("connection_unavailable"))}).then(function(e){return os(t,r),e}).s(function(e){throw os(t,r),e})}(new rs,{key:t}).then(function(){}).s(function(){}):Et()}function ds(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Et().then(function(){if(ss()){var t=pr(),r="__sak"+t;return ts||(ts=new is),(n=ts).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.Y(function(t){P(e.a,function(e){e(t)})}),t})}function fs(){this.a={},this.type="inMemory"}function ps(){if(!function(){var t="Node"==Xn();if(!(t=vs()||t&&o.a.INTERNAL.node&&o.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Xn())throw new Nr("internal-error","The LocalStorage compatibility library was not found.");throw new Nr("web-storage-unsupported")}this.a=vs()||o.a.INTERNAL.node.localStorage,this.type="localStorage"}function vs(){try{var t=n.localStorage,e=pr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function ys(){this.type="nullStorage"}function gs(){if(!function(){var t="Node"==Xn();if(!(t=ms()||t&&o.a.INTERNAL.node&&o.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Xn())throw new Nr("internal-error","The SessionStorage compatibility library was not found.");throw new Nr("web-storage-unsupported")}this.a=ms()||o.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function ms(){try{var t=n.sessionStorage,e=pr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}Ja.prototype.f=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var o=[];P(r,function(e){o.push(Et().then(function(){return e(t.origin,t.data.data)}))}),Tt(o).then(function(r){var o=[];P(r,function(t){o.push({fulfilled:t.Cb,value:t.value,reason:t.reason?t.reason.message:void 0})}),P(o,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:o})})}},Ja.prototype.subscribe=function(t,e){ot(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[t]&&(this.a[t]=[]),this.a[t].push(e)},Ja.prototype.unsubscribe=function(t,e){void 0!==this.a[t]&&e?(j(this.a[t],function(t){return t==e}),0==this.a[t].length&&delete this.a[t]):e||delete this.a[t],ot(this.a)&&this.b.removeEventListener("message",this.c)},ns.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},rs.prototype.close=function(){if(this.a){for(;0<this.b.length;){var t=this.b.pop();this.a.port1.removeEventListener("message",t)}this.a.port1.close(),this.a=null,this.c=!1}},rs.prototype.start=function(){this.a&&!this.c&&(this.a.port1.start(),this.c=!0)},(t=is.prototype).set=function(t,e){var n,r=!1,o=this;return as(this).then(function(e){return ls((e=us(cs(n=e,!0))).get(t))}).then(function(i){var a=us(cs(n,!0));return i?(i.value=e,ls(a.put(i))):(o.b++,r=!0,(i={}).fbase_key=t,i.value=e,ls(a.add(i)))}).then(function(){return o.f[t]=e,hs(t)}).ia(function(){r&&o.b--})},t.get=function(t){return as(this).then(function(e){return ls(us(cs(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.P=function(t){var e=!1,n=this;return as(this).then(function(r){return e=!0,n.b++,ls(us(cs(r,!0)).delete(t))}).then(function(){return delete n.f[t],hs(t)}).ia(function(){e&&n.b--})},t.Pb=function(){var t=this;return as(this).then(function(t){var e=us(cs(t,!1));return e.getAll?ls(e.getAll()):new vt(function(t,n){var r=[],o=e.openCursor();o.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},o.onerror=function(t){n(Error(t.target.errorCode))}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,o=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?o.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&o.push(r):e[r]!==n[r]&&o.push(r):o.push(r);for(r in n)r in e||o.push(r);return o}(t.f,n),t.f=n}return r})},t.Y=function(t){0==this.a.length&&function(t){t.c&&t.c.cancel("STOP_EVENT"),function e(){return t.c=Me(800).then(g(t.Pb,t)).then(function(e){0<e.length&&P(t.a,function(t){t(e)})}).then(e).s(function(t){"STOP_EVENT"!=t.message&&e()}),t.c}()}(this),this.a.push(t)},t.ca=function(t){j(this.a,function(e){return e==t}),0==this.a.length&&this.c&&this.c.cancel("STOP_EVENT")},(t=ds.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.P=function(t){return this.b.then(function(e){return e.P(t)})},t.Y=function(t){this.a.push(t)},t.ca=function(t){j(this.a,function(e){return e==t})},(t=fs.prototype).get=function(t){return Et(this.a[t])},t.set=function(t,e){return this.a[t]=e,Et()},t.P=function(t){return delete this.a[t],Et()},t.Y=function(){},t.ca=function(){},(t=ps.prototype).get=function(t){var e=this;return Et().then(function(){return fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Et().then(function(){var r=hr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return Et().then(function(){e.a.removeItem(t)})},t.Y=function(t){n.window&&me(n.window,"storage",t)},t.ca=function(t){n.window&&we(n.window,"storage",t)},(t=ys.prototype).get=function(){return Et(null)},t.set=function(){return Et()},t.P=function(){return Et()},t.Y=function(){},t.ca=function(){},(t=gs.prototype).get=function(t){var e=this;return Et().then(function(){return fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Et().then(function(){var r=hr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return Et().then(function(){e.a.removeItem(t)})},t.Y=function(){},t.ca=function(){};var bs,_s,ws={A:ps,Qa:gs},Es={A:ps,Qa:gs},Cs={A:Za,Qa:ys},Ss={A:ps,Qa:ys},Ts={Zc:"local",NONE:"none",ad:"session"};function Is(){var t=!(vr(or())||!zn()),e=lr(),r=ar();this.o=t,this.h=e,this.m=r,this.a={},bs||(bs=new function(){var t={};t.Browser=ws,t.Node=Es,t.ReactNative=Cs,t.Worker=Ss,this.a=t[Xn()]}),t=bs;try{this.g=!Vn()&&_r()||!n.indexedDB?new t.a.A:new ds(Yn()?new fs:new t.a.A)}catch(t){this.g=new fs,this.h=!0}try{this.i=new t.a.Qa}catch(t){this.i=new fs}this.l=new fs,this.f=g(this.Ob,this),this.b={}}function Os(){return _s||(_s=new Is),_s}function Ds(t,e){switch(e){case"session":return t.i;case"none":return t.l;default:return t.g}}function Ns(t,e){return"firebase:"+t.name+(e?":"+e:"")}function As(t,e,n){return n=Ns(e,n),"local"==e.A&&(t.b[n]=null),Ds(t,e.A).P(n)}function Rs(t){t.c&&(clearInterval(t.c),t.c=null)}(t=Is.prototype).get=function(t,e){return Ds(this,t.A).get(Ns(t,e))},t.set=function(t,e,n){var r=Ns(t,n),o=this,i=Ds(this,t.A);return i.set(r,e).then(function(){return i.get(r)}).then(function(e){"local"==t.A&&(o.b[r]=e)})},t.addListener=function(t,e,r){t=Ns(t,e),this.m&&(this.b[t]=n.localStorage.getItem(t)),ot(this.a)&&(Ds(this,"local").Y(this.f),this.h||(Vn()||!_r())&&n.indexedDB||!this.m||function(t){Rs(t),t.c=setInterval(function(){for(var e in t.a){var r=n.localStorage.getItem(e),o=t.b[e];r!=o&&(t.b[e]=r,r=new ue({type:"storage",key:e,target:window,oldValue:o,newValue:r,a:!0}),t.Ob(r))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(r)},t.removeListener=function(t,e,n){t=Ns(t,e),this.a[t]&&(j(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),ot(this.a)&&(Ds(this,"local").ca(this.f),Rs(this))},t.Ob=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var r in this.a){var o=this.b[r];void 0===o&&(o=null);var i=n.localStorage.getItem(r);i!==o&&(this.b[r]=i,this.Wa(r))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Ds(this,"local").ca(this.f):Rs(this),this.o)if(r=n.localStorage.getItem(e),(o=t.a.newValue)!==r)null!==o?n.localStorage.setItem(e,o):n.localStorage.removeItem(e);else if(this.b[e]===o&&void 0===t.a.a)return;var a=this;r=function(){void 0===t.a.a&&a.b[e]===n.localStorage.getItem(e)||(a.b[e]=n.localStorage.getItem(e),a.Wa(e))},Ht&&Jt&&10==Jt&&n.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(r,10):r()}}else P(t,g(this.Wa,this))},t.Wa=function(t){this.a[t]&&P(this.a[t],function(t){t()})};var ks,Ps={name:"authEvent",A:"local"};function xs(t,e){this.b=-1,this.b=Ms,this.f=n.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.m=n.Int32Array?new Int32Array(64):Array(64),void 0!==ks||(ks=n.Int32Array?new Int32Array(Bs):Bs),this.reset()}_(xs,function(){this.b=-1});for(var Ms=64,$s=Ms-1,Ls=[],js=0;js<$s;js++)Ls[js]=0;var Fs=F(128,Ls);function Vs(t){for(var e=t.f,n=t.m,r=0,o=0;o<e.length;)n[r++]=e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3],o=4*r;for(e=16;64>e;e++){var i=(0|n[e-16])+(((o=0|n[e-15])>>>7|o<<25)^(o>>>18|o<<14)^o>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=i+a|0}r=0|t.a[0],o=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(i=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&o^r&s^o&s)|0;a=(i=i+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|ks[e])|0)+(0|n[e])|0)|0,i=h,h=l,l=c,c=u+a|0,u=s,s=o,o=r,r=a+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+o|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+i|0}function Us(t,e,n){void 0===n&&(n=e.length);var o=0,i=t.c;if(r(e))for(;o<n;)t.f[i++]=e.charCodeAt(o++),i==t.b&&(Vs(t),i=0);else{if(!l(e))throw Error("message must be string or array");for(;o<n;){var a=e[o++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");t.f[i++]=a,i==t.b&&(Vs(t),i=0)}}t.c=i,t.g+=n}xs.prototype.reset=function(){this.g=this.c=0,this.a=n.Int32Array?new Int32Array(this.h):V(this.h)};var Bs=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function qs(){xs.call(this,8,Hs)}_(qs,xs);var Hs=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ws(t,e,n,r,o){this.l=t,this.i=e,this.m=n,this.o=r||null,this.u=o||null,this.h=e+":"+n,this.v=new function(){this.a=Os()},this.g=new function(t){this.a=t,this.b=Os()}(this.h),this.f=null,this.b=[],this.a=this.c=null}function Gs(t){return new Nr("invalid-cordova-configuration",t)}function Ks(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Qs(t){return t.f||(t.f=t.ga().then(function(){return new vt(function(e){t.va(function n(r){return e(r),t.Ka(n),!1}),function(t){function e(e){o=!0,i&&i.cancel(),zs(t).then(function(n){var o=r;if(n&&e&&e.url){var i=null;-1!=(o=so(e.url)).indexOf("/__/auth/callback")&&(i=(i="object"==typeof(i=fr(Ke(i=Qe(o),"firebaseError")||null))?Ar(i):null)?new ko(n.b,n.c,null,null,i):new ko(n.b,n.c,o,n.g)),o=i||r}Ks(t,o)})}var r=new ko("unknown",null,null,null,new Nr("no-auth-event")),o=!1,i=Me(500).then(function(){return zs(t).then(function(){o||Ks(t,r)})}),a=n.handleOpenURL;n.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(ir("BuildInfo.packageName",n).toLowerCase()+"://")&&e({url:t}),"function"==typeof a)try{a(t)}catch(t){console.error(t)}},Mo||(Mo=new xo),Mo.subscribe(e)}(t)})})),t.f}function zs(t){var e=null;return function(t){return t.b.get(Ps,t.a).then(function(t){return Po(t)})}(t.g).then(function(n){return e=n,As((n=t.g).b,Ps,n.a)}).then(function(){return e})}(t=Ws.prototype).ga=function(){return this.za?this.za:this.za=(Qn(void 0)?Kn().then(function(){return new vt(function(t,e){var r=n.document,o=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);r.addEventListener("deviceready",function(){clearTimeout(o),t()},!1)})}):Ct(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof ir("universalLinks.subscribe",n))throw Gs("cordova-universal-links-plugin is not installed");if(void 0===ir("BuildInfo.packageName",n))throw Gs("cordova-plugin-buildinfo is not installed");if("function"!=typeof ir("cordova.plugins.browsertab.openUrl",n))throw Gs("cordova-plugin-browsertab is not installed");if("function"!=typeof ir("cordova.InAppBrowser.open",n))throw Gs("cordova-plugin-inappbrowser is not installed")},function(){throw new Nr("cordova-not-ready")})},t.Ea=function(t,e){return e(new Nr("operation-not-supported-in-this-environment")),Et()},t.Bb=function(){return Ct(new Nr("operation-not-supported-in-this-environment"))},t.Qb=function(){return!1},t.Lb=function(){return!0},t.Gb=function(){return!0},t.Ca=function(t,e,r){if(this.c)return Ct(new Nr("redirect-operation-pending"));var o=this,i=n.document,a=null,s=null,u=null,c=null;return this.c=Et().then(function(){return Ro(e),Qs(o)}).then(function(){return function(t,e,r,o){var i=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new ko(e,o,null,i,new Nr("no-auth-event")),s=ir("BuildInfo.packageName",n);if("string"!=typeof s)throw new Nr("invalid-cordova-configuration");var u=ir("BuildInfo.displayName",n),c={};if(or().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!or().toLowerCase().match(/android/))return Ct(new Nr("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),i=function(t){var e=new qs;Us(e,t),t=[];var n=8*e.g;Us(e,Fs,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Vs(e),r=n=0;r<e.i;r++)for(var o=24;0<=o;o-=8)t[n++]=e.a[r]>>o&255;return function(t){return x(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(i),c.sessionId=i;var l=Xa(t.l,t.i,t.m,e,r,null,o,t.o,c,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(Ps,a.D(),e)}).then(function(){var e=ir("cordova.plugins.browsertab.isAvailable",n);if("function"!=typeof e)throw new Nr("invalid-cordova-configuration");var r=null;e(function(e){if(e){if("function"!=typeof(r=ir("cordova.plugins.browsertab.openUrl",n)))throw new Nr("invalid-cordova-configuration");r(l)}else{if("function"!=typeof(r=ir("cordova.InAppBrowser.open",n)))throw new Nr("invalid-cordova-configuration");e=!(!(e=or()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=r(l,e?"_blank":"_system","location=yes")}})})}(o,t,e,r)}).then(function(){return new vt(function(t,e){s=function(){var e=ir("cordova.plugins.browsertab.close",n);return t(),"function"==typeof e&&e(),o.a&&"function"==typeof o.a.close&&(o.a.close(),o.a=null),!1},o.va(s),c=function(){mr()&&u()},i.addEventListener("resume",u=function(){a||(a=Me(2e3).then(function(){e(new Nr("redirect-cancelled-by-user"))}))},!1),or().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",c,!1)}).s(function(t){return zs(o).then(function(){throw t})})}).ia(function(){u&&i.removeEventListener("resume",u,!1),c&&i.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&o.Ka(s),o.c=null})},t.va=function(t){this.b.push(t),Qs(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new ko("unknown",null,null,null,new Nr("no-auth-event")),t(e))})},t.Ka=function(t){j(this.b,function(e){return e==t})};var Ys={name:"pendingRedirect",A:"session"};function Xs(t){return As(t.b,Ys,t.a)}function Zs(t,e,n){this.u=t,this.m=e,this.l=n,this.h=[],this.f=!1,this.i=g(this.ab,this),this.b=new uu,this.o=new du,this.g=new function(t){this.a=t,this.b=Os()}(this.m+":"+this.l),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.o,this.c.linkViaPopup=this.o,this.c.reauthViaPopup=this.o,this.a=Js(this.u,this.m,this.l,La)}function Js(t,e,n,r){var i=o.a.SDK_VERSION||null;return Qn()?new Ws(t,e,n,i,r):new Ka(t,e,n,i,r)}function tu(t){t.f||(t.f=!0,t.a.va(t.i));var e=t.a;return t.a.ga().s(function(n){throw t.a==e&&t.reset(),n})}function eu(t){t.a.Lb()&&tu(t).s(function(e){var n=new ko("unknown",null,null,null,new Nr("operation-not-supported-in-this-environment"));iu(e)&&t.ab(n)}),t.a.Gb()||cu(t.b)}(t=Zs.prototype).reset=function(){this.f=!1,this.a.Ka(this.i),this.a=Js(this.u,this.m,this.l)},t.Xa=function(){this.b.Xa()},t.subscribe=function(t){if($(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(Ys,t.a).then(function(t){return"pending"==t})})(this.g).then(function(t){t?Xs(e.g).then(function(){tu(e).s(function(t){var n=new ko("unknown",null,null,null,new Nr("operation-not-supported-in-this-environment"));iu(t)&&e.ab(n)})}):eu(e)}).s(function(){eu(e)})}},t.unsubscribe=function(t){j(this.h,function(e){return e==t})},t.ab=function(t){if(!t)throw new Nr("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.ub(t.b,t.c)){(e=this.c[t.b])&&e.h(t,r),e=!0;break}}return cu(this.b),e};var nu=new gr(2e3,1e4),ru=new gr(3e4,6e4);function ou(t,e,n,r,o,i){return t.a.Bb(e,n,r,function(){t.f||(t.f=!0,t.a.va(t.i))},function(){t.reset()},o,i)}function iu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}Zs.prototype.fa=function(){return this.b.fa()},Zs.prototype.Ca=function(t,e,n){var r,o=this;return function(t){return t.b.set(Ys,"pending",t.a)}(this.g).then(function(){return o.a.Ca(t,e,n).s(function(t){if(iu(t))throw new Nr("operation-not-supported-in-this-environment");return r=t,Xs(o.g).then(function(){throw r})}).then(function(){return o.a.Qb()?new vt(function(){}):Xs(o.g).then(function(){return o.fa()}).then(function(){}).s(function(){})})})},Zs.prototype.Ea=function(t,e,n,r){return this.a.Ea(n,function(n){t.ha(e,null,n,r)},nu.get())};var au={};function su(t,e,n){var r=e+":"+n;return au[r]||(au[r]=new Zs(t,e,n)),au[r]}function uu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function cu(t){t.g||(t.g=!0,hu(t,!1,null,null))}function lu(t,e){if(t.b=function(){return Et(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function hu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ct(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):lu(t,n):lu(t,{user:null}),t.f=[],t.c=[]}function du(){}function fu(){this.rb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.rb},set:function(t){this.rb=t},enumerable:!1})}function pu(t,e){this.a=e,Tr(this,"verificationId",t)}function vu(t,e,n,r){return new Do(t).Ta(e,n).then(function(t){return new pu(t,r)})}function yu(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function gu(t){this.f=t,this.b=this.a=null,this.c=0}function mu(t,e){var n=e[Vi],r=e.refreshToken;e=bu(e.expiresIn),t.b=n,t.c=e,t.a=r}function bu(t){return b()+1e3*parseInt(t,10)}function _u(t,e){this.a=t||null,this.b=e||null,Ir(this,{lastSignInTime:br(e||null),creationTime:br(t||null)})}function wu(t,e){for(var n in se.call(this,t),e)this[n]=e[n]}function Eu(t,e,n){this.G=[],this.l=t.apiKey,this.o=t.appName,this.u=t.authDomain||null,t=o.a.SDK_VERSION?rr(o.a.SDK_VERSION):null,this.b=new ji(this.l,Fa(La),t),this.h=new gu(this.b),Nu(this,e[Vi]),mu(this.h,e),Tr(this,"refreshToken",this.h.a),ku(this,n||{}),Ae.call(this),this.I=!1,this.u&&sr()&&(this.a=su(this.u,this.l,this.o)),this.N=[],this.i=null,this.w=function(t){return new yu(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-b()-3e5;return 0<e?e:0})}(this),this.V=g(this.Ha,this);var r=this;this.ka=null,this.sa=function(t){r.oa(t.g)},this.X=null,this.O=[],this.ra=function(t){Su(r,t.c)},this.W=null}function Cu(t,e){t.X&&we(t.X,"languageCodeChanged",t.sa),(t.X=e)&&me(e,"languageCodeChanged",t.sa)}function Su(t,e){t.O=e,Gi(t.b,o.a.SDK_VERSION?rr(o.a.SDK_VERSION,t.O):null)}function Tu(t,e){t.W&&we(t.W,"frameworkChanged",t.ra),(t.W=e)&&me(e,"frameworkChanged",t.ra)}function Iu(t){try{return o.a.app(t.o).auth()}catch(e){throw new Nr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function Ou(t){t.C||t.w.b||(t.w.start(),we(t,"tokenChanged",t.V),me(t,"tokenChanged",t.V))}function Du(t){we(t,"tokenChanged",t.V),t.w.stop()}function Nu(t,e){t.qa=e,Tr(t,"_lat",e)}function Au(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return Tt(e).then(function(){return t})}function Ru(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function ku(t,e){Ir(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new _u(e.createdAt,e.lastLoginAt),providerData:[]})}function Pu(){}function xu(t){return Et().then(function(){if(t.C)throw new Nr("app-deleted")})}function Mu(t){return x(t.providerData,function(t){return t.providerId})}function $u(t,e){e&&(Lu(t,e.providerId),t.providerData.push(e))}function Lu(t,e){j(t.providerData,function(t){return t.providerId==e})}function ju(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Tr(t,e,n)}function Fu(t,e){t!=e&&(Ir(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),Tr(t,"metadata",e.metadata?function(t){return new _u(t.a,t.b)}(e.metadata):new _u),P(e.providerData,function(e){$u(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Tr(t,"refreshToken",t.h.a))}function Vu(t){return t.F().then(function(e){var n=t.isAnonymous;return function(t,e){return xa(t.b,va,{idToken:e}).then(g(t.xc,t))}(t,e).then(function(){return n||ju(t,"isAnonymous",!1),e})})}function Uu(t,e){e[Vi]&&t.qa!=e[Vi]&&(mu(t.h,e),t.dispatchEvent(new wu("tokenChanged")),Nu(t,e[Vi]),ju(t,"refreshToken",t.h.a))}function Bu(t,e){return Vu(t).then(function(){if($(Mu(t),e))return Au(t).then(function(){throw new Nr("provider-already-linked")})})}function qu(t,e,n){return Or({user:t,credential:Ao(e),additionalUserInfo:e=Zr(e),operationType:n})}function Hu(t,e){return Uu(t,e),t.reload().then(function(){return t})}function Wu(t,e,n,r,i){if(!sr())return Ct(new Nr("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ct(t.i);var a=Xr(n.providerId),s=pr(t.uid+":::"),u=null;(!lr()||zn())&&t.u&&n.isOAuthProvider&&(u=Xa(t.u,t.l,t.o,e,n,null,s,o.a.SDK_VERSION||null));var c=Wn(u,a&&a.Ba,a&&a.Aa);return r=r().then(function(){if(Ku(t),!i)return t.F().then(function(){})}).then(function(){return ou(t.a,c,e,n,s,!!u)}).then(function(){return new vt(function(n,r){t.ha(e,null,new Nr("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=s,t.c=t.a.Ea(t,e,c,s)})}).then(function(t){return c&&Hn(c),t?Or(t):null}).s(function(t){throw c&&Hn(c),t}),Qu(t,r,i)}function Gu(t,e,n,r,o){if(!sr())return Ct(new Nr("operation-not-supported-in-this-environment"));if(t.i&&!o)return Ct(t.i);var i=null,a=pr(t.uid+":::");return r=r().then(function(){if(Ku(t),!o)return t.F().then(function(){})}).then(function(){return t.aa=a,Au(t)}).then(function(e){return t.ba&&(e=(e=t.ba).b.set(Yu,t.D(),e.a)),e}).then(function(){return t.a.Ca(e,n,a)}).s(function(e){if(i=e,t.ba)return Xu(t.ba);throw i}).then(function(){if(i)throw i}),Qu(t,r,o)}function Ku(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Nr("internal-error");throw new Nr("auth-domain-config-required")}}function Qu(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Ct(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new wu("userInvalidated")),t.i=e),e})}(t,e,n);return t.G.push(r),r.ia(function(){L(t.G,r)}),r}function zu(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Vi]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-b())/1e3;var r=new Eu(e,n,t);return t.providerData&&P(t.providerData,function(t){t&&$u(r,Or(t))}),t.redirectEventId&&(r.aa=t.redirectEventId),r}uu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},uu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.b,r=t.c,o=t.a&&"auth/web-storage-unsupported"==t.a.code,i=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!o&&!i),"unknown"!=n||o||i?t.a?(hu(this,!0,null,t.a),Et()):e.wa(n,r)?function(t,e,n){n=n.wa(e.b,e.c);var r=e.f,o=e.g,i=!!e.b.match(/Redirect$/);n(r,o).then(function(e){hu(t,i,e,null)}).s(function(e){hu(t,i,null,e)})}(this,t,e):Ct(new Nr("invalid-auth-event")):(hu(this,!1,null,null),Et())}else Ct(new Nr("invalid-auth-event"))},uu.prototype.Xa=function(){this.g&&!this.i&&hu(this,!1,null,null)},uu.prototype.fa=function(){var t=this;return new vt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Nr("timeout");t.a&&t.a.cancel(),t.a=Me(ru.get()).then(function(){t.b||(t.g=!0,hu(t,!0,null,e))})}(t))})},du.prototype.h=function(t,e){if(t){var n=t.b,r=t.c;t.a?(e.ha(t.b,null,t.a,t.c),Et()):e.wa(n,r)?function(t,e){var n=t.c,r=t.b;e.wa(r,n)(t.f,t.g).then(function(t){e.ha(r,t,null,n)}).s(function(t){e.ha(r,null,t,n)})}(t,e):Ct(new Nr("invalid-auth-event"))}else Ct(new Nr("invalid-auth-event"))},pu.prototype.confirm=function(t){return t=No(this.verificationId,t),this.a(t)},yu.prototype.start=function(){this.a=this.c,function t(e,r){e.stop(),e.b=Me(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,r)).then(function(){return t=n.document,e=null,mr()||!t?Et():new vt(function(n){t.addEventListener("visibilitychange",e=function(){mr()&&(t.removeEventListener("visibilitychange",e,!1),n())},!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n});var t,e}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},yu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},gu.prototype.D=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},gu.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ct(new Nr("user-token-expired")):t||!this.b||b()>this.c-3e4?this.a?function(t,e){return function(t,e){return new vt(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Ki(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r($a(t)):t.access_token&&t.refresh_token?n(t):r(new Nr("internal-error")):r(new Nr("network-request-failed"))},"POST",sn(e).toString(),t.f,t.m.get()):r(new Nr("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=bu(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Et(null):Et({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},_u.prototype.D=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(wu,se),_(Eu,Ae),Eu.prototype.oa=function(t){this.ka=t,Wi(this.b,t)},Eu.prototype.ea=function(){return this.ka},Eu.prototype.xa=function(){return V(this.O)},Eu.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Tr(Eu.prototype,"providerId","firebase"),(t=Eu.prototype).reload=function(){var t=this;return Qu(this,xu(this).then(function(){return Vu(t).then(function(){return Au(t)}).then(Pu)}))},t.dc=function(t){return this.F(t).then(function(t){return new function(t){var e=Kr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Nr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ir(this,{token:t,expirationTime:br(1e3*e.exp),authTime:br(1e3*e.auth_time),issuedAtTime:br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}(t)})},t.F=function(t){var e=this;return Qu(this,xu(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new Nr("internal-error");return t.accessToken!=e.qa&&(Nu(e,t.accessToken),e.dispatchEvent(new wu("tokenChanged"))),ju(e,"refreshToken",t.refreshToken),t.accessToken}))},t.xc=function(t){if(!(t=t.users)||!t.length)throw new Nr("internal-error");ku(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?x(t,function(t){return new function(t,e,n,r,o,i){Ir(this,{uid:t,displayName:r||null,photoURL:o||null,email:n||null,phoneNumber:i||null,providerId:e})}(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)$u(this,e[n]);ju(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.fb=function(t){var e=this,n=null;return Qu(this,t.f(this.b,this.uid).then(function(t){return Uu(e,t),n=qu(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.yc=function(t){return Cr("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.fb(t).then(function(){})},t.cb=function(t){var e=this,n=null;return Qu(this,Bu(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.c(e.b,n)}).then(function(t){return n=qu(e,t,"link"),Hu(e,t)}).then(function(){return n}))},t.pc=function(t){return Cr("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.cb(t).then(function(t){return t.user})},t.qc=function(t,e){var n=this;return Qu(this,Bu(this,"phone").then(function(){return vu(Iu(n),t,e,g(n.cb,n))}))},t.zc=function(t,e){var n=this;return Qu(this,Et().then(function(){return vu(Iu(n),t,e,g(n.fb,n))}),!0)},t.ob=function(t){var e=this;return Qu(this,this.F().then(function(n){return e.b.ob(n,t)}).then(function(t){return Uu(e,t),e.reload()}))},t.Rc=function(t){var e=this;return Qu(this,this.F().then(function(n){return t.c(e.b,n)}).then(function(t){return Uu(e,t),e.reload()}))},t.pb=function(t){var e=this;return Qu(this,this.F().then(function(n){return e.b.pb(n,t)}).then(function(t){return Uu(e,t),e.reload()}))},t.qb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return xu(this);var e=this;return Qu(this,this.F().then(function(n){return e.b.qb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Uu(e,t),ju(e,"displayName",t.displayName||null),ju(e,"photoURL",t.photoUrl||null),P(e.providerData,function(t){"password"===t.providerId&&(Tr(t,"displayName",e.displayName),Tr(t,"photoURL",e.photoURL))}),Au(e)}).then(Pu))},t.Pc=function(t){var e=this;return Qu(this,Vu(this).then(function(n){return $(Mu(e),t)?function(t,e,n){return xa(t,da,{idToken:e,deleteProvider:n})}(e.b,n,[t]).then(function(t){var n={};return P(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),P(Mu(e),function(t){n[t]||Lu(e,t)}),n[Do.PROVIDER_ID]||Tr(e,"phoneNumber",null),Au(e)}):Au(e).then(function(){throw new Nr("no-such-provider")})}))},t.delete=function(){var t=this;return Qu(this,this.F().then(function(e){return xa(t.b,ha,{idToken:e})}).then(function(){t.dispatchEvent(new wu("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");Cu(t,null),Tu(t,null),t.G=[],t.C=!0,Du(t),Tr(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},t.ub=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},t.ha=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.wa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?g(this.zb,this):"reauthViaPopup"==t&&e==(this.g||null)?g(this.Ab,this):"linkViaRedirect"==t&&(this.aa||null)==e?g(this.zb,this):"reauthViaRedirect"==t&&(this.aa||null)==e?g(this.Ab,this):null},t.rc=function(t){var e=this;return Wu(this,"linkViaPopup",t,function(){return Bu(e,t.providerId).then(function(){return Au(e)})},!1)},t.Ac=function(t){return Wu(this,"reauthViaPopup",t,function(){return Et()},!0)},t.sc=function(t){var e=this;return Gu(this,"linkViaRedirect",t,function(){return Bu(e,t.providerId)},!1)},t.Bc=function(t){return Gu(this,"reauthViaRedirect",t,function(){return Et()},!0)},t.zb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return Qu(this,this.F().then(function(r){return oa(n.b,{requestUri:t,sessionId:e,idToken:r})}).then(function(t){return r=qu(n,t,"link"),Hu(n,t)}).then(function(){return r}))},t.Ab=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return Qu(this,Et().then(function(){return uo(ia(n.b,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return r=qu(n,t,"reauthenticate"),Uu(n,t),n.i=null,n.reload()}).then(function(){return r}),!0)},t.ib=function(t){var e=this,n=null;return Qu(this,this.F().then(function(e){return n=e,void 0===t||ot(t)?{}:Br(new Pr(t))}).then(function(t){return e.b.ib(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.D()},t.D=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.o,authDomain:this.u,stsTokenManager:this.h.D(),redirectEventId:this.aa||null};return this.metadata&&ct(t,this.metadata.D()),P(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var Yu={name:"redirectUser",A:"session"};function Xu(t){return As(t.b,Yu,t.a)}function Zu(t){this.a=t,this.b=Os(),this.c=null,this.f=function(t){var e=ec("local"),r=ec("session"),o=ec("none");return function(t,e,r){var o=Ns(e,r),i=Ds(t,e.A);return t.get(e,r).then(function(a){var s=null;try{s=fr(n.localStorage.getItem(o))}catch(t){}if(s&&!a)return n.localStorage.removeItem(o),t.set(e,s,r);s&&a&&"localStorage"!=i.type&&n.localStorage.removeItem(o)})}(t.b,e,t.a).then(function(){return t.b.get(r,t.a)}).then(function(n){return n?r:t.b.get(o,t.a).then(function(n){return n?o:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(tc,t.a).then(function(t){return t?ec(t):e})})})}).then(function(e){return t.c=e,Ju(t,e.A)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(ec("local"),this.a,g(this.g,this))}function Ju(t,e){var n,r=[];for(n in Ts)Ts[n]!==e&&r.push(As(t.b,ec(Ts[n]),t.a));return r.push(As(t.b,tc,t.a)),function(t){return new vt(function(e,n){var r=t.length,o=[];if(r)for(var i=function(t,n){r--,o[t]=n,0==r&&e(o)},a=function(t){n(t)},s=0;s<t.length;s++)St(t[s],m(i,s),a);else e(o)})}(r)}Zu.prototype.g=function(){var t=this,e=ec("local");ic(this,function(){return Et().then(function(){return t.c&&"local"!=t.c.A?t.b.get(e,t.a):null}).then(function(n){if(n)return Ju(t,"local").then(function(){t.c=e})})})};var tc={name:"persistence",A:"session"};function ec(t){return{name:"authUser",A:t}}function nc(t,e){return ic(t,function(){return t.b.set(t.c,e.D(),t.a)})}function rc(t){return ic(t,function(){return As(t.b,t.c,t.a)})}function oc(t,e){return ic(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),zu(t||{})})})}function ic(t,e){return t.f=t.f.then(e,e),t.f}function ac(t){if(this.l=!1,Tr(this,"settings",new fu),Tr(this,"app",t),!fc(this).options||!fc(this).options.apiKey)throw new Nr("invalid-api-key");t=o.a.SDK_VERSION?rr(o.a.SDK_VERSION):null,this.b=new ji(fc(this).options&&fc(this).options.apiKey,Fa(La),t),this.N=[],this.o=[],this.I=[],this.Tb=o.a.INTERNAL.createSubscribe(g(this.mc,this)),this.O=void 0,this.Ub=o.a.INTERNAL.createSubscribe(g(this.nc,this)),hc(this,null),this.h=new Zu(fc(this).options.apiKey+":"+fc(this).name),this.w=new function(t){this.a=t,this.b=Os()}(fc(this).options.apiKey+":"+fc(this).name),this.V=gc(this,function(t){var e=fc(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Yu,t.a).then(function(t){return t&&e&&(t.authDomain=e),zu(t||{})})}(t.w,fc(t).options.authDomain).then(function(e){return(t.C=e)&&(e.ba=t.w),Xu(t.w)});return gc(t,e)}(t).then(function(){return oc(t.h,e)}).then(function(e){return e?(e.ba=t.w,t.C&&(t.C.aa||null)==(e.aa||null)?e:e.reload().then(function(){return nc(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:rc(t.h)})):null}).then(function(e){hc(t,e||null)});return gc(t,n)}(this)),this.i=gc(this,function(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.l)return t.ka()}).s(function(){}).then(function(){if(!t.l){t.X=!0;var e=t.h;e.b.addListener(ec("local"),e.a,t.ka)}})}(this)),this.X=!1,this.ka=g(this.Mc,this),this.Ha=g(this.Z,this),this.qa=g(this.bc,this),this.ra=g(this.jc,this),this.sa=g(this.kc,this),function(t){var e=fc(t).options.authDomain,n=fc(t).options.apiKey;e&&sr()&&(t.Sb=t.V.then(function(){if(!t.l){if(t.a=su(e,n,fc(t).name),t.a.subscribe(t),pc(t)&&Ru(pc(t)),t.C){Ru(t.C);var r=t.C;r.oa(t.ea()),Cu(r,t),Su(r=t.C,t.G),Tu(r,t),t.C=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=g(this.delete,this),this.INTERNAL.logFramework=g(this.tc,this),this.u=0,Ae.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.oa(t)},enumerable:!1}),t.W=null}(this),this.G=[]}function sc(t){se.call(this,"languageCodeChanged"),this.g=t}function uc(t){se.call(this,"frameworkChanged"),this.c=t}function cc(t){return t.Sb||Ct(new Nr("auth-domain-config-required"))}function lc(t,e){var n={};return n.apiKey=fc(t).options.apiKey,n.authDomain=fc(t).options.authDomain,n.appName=fc(t).name,t.V.then(function(){return function(t,e,n,r){var o=new Eu(t,e);return n&&(o.ba=n),r&&Su(o,r),o.reload().then(function(){return o})}(n,e,t.w,t.xa())}).then(function(e){return pc(t)&&e.uid==pc(t).uid?(Fu(pc(t),e),t.Z(e)):(hc(t,e),Ru(e),t.Z(e))}).then(function(){yc(t)})}function hc(t,e){pc(t)&&(function(t,e){j(t.N,function(t){return t==e})}(pc(t),t.Ha),we(pc(t),"tokenChanged",t.qa),we(pc(t),"userDeleted",t.ra),we(pc(t),"userInvalidated",t.sa),Du(pc(t))),e&&(e.N.push(t.Ha),me(e,"tokenChanged",t.qa),me(e,"userDeleted",t.ra),me(e,"userInvalidated",t.sa),0<t.u&&Ou(e)),Tr(t,"currentUser",e),e&&(e.oa(t.ea()),Cu(e,t),Su(e,t.G),Tu(e,t))}function dc(t,e){var n=null,r=null;return gc(t,e.then(function(e){return n=Ao(e),r=Zr(e),lc(t,e)}).then(function(){return Or({user:pc(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function fc(t){return t.app}function pc(t){return t.currentUser}function vc(t){return pc(t)&&pc(t)._lat||null}function yc(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e](vc(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](vc(t))}}function gc(t,e){return t.N.push(e),e.ia(function(){L(t.N,e)}),e}function mc(){}function bc(){this.a={},this.b=1e12}Zu.prototype.lb=function(t){var e=null,n=this;return function(t){var e=new Nr("invalid-persistence-type"),n=new Nr("unsupported-persistence-type");t:{for(r in Ts)if(Ts[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Xn()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!ar()&&"none"!==t)throw n}}(t),ic(this,function(){return t!=n.c.A?n.b.get(n.c,n.a).then(function(r){return e=r,Ju(n,t)}).then(function(){if(n.c=ec(t),e)return n.b.set(n.c,e,n.a)}):Et()})},_(ac,Ae),_(sc,se),_(uc,se),(t=ac.prototype).lb=function(t){return gc(this,t=this.h.lb(t))},t.oa=function(t){this.W===t||this.l||(this.W=t,Wi(this.b,this.W),this.dispatchEvent(new sc(this.ea())))},t.ea=function(){return this.W},t.Sc=function(){var t=n.navigator;this.oa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.tc=function(t){this.G.push(t),Gi(this.b,o.a.SDK_VERSION?rr(o.a.SDK_VERSION,this.G):null),this.dispatchEvent(new uc(this.G))},t.xa=function(){return V(this.G)},t.toJSON=function(){return{apiKey:fc(this).options.apiKey,authDomain:fc(this).options.authDomain,appName:fc(this).name,currentUser:pc(this)&&pc(this).D()}},t.ub=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ha=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.wa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?g(this.ac,this):null},t.ac=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var r=null,o=null,i=ra(n.b,t).then(function(t){return r=Ao(t),o=Zr(t),t});return gc(this,t=n.V.then(function(){return i}).then(function(t){return lc(n,t)}).then(function(){return Or({user:pc(n),credential:r,additionalUserInfo:o,operationType:"signIn"})}))},t.Kc=function(t){if(!sr())return Ct(new Nr("operation-not-supported-in-this-environment"));var e=this,n=Xr(t.providerId),r=pr(),i=null;(!lr()||zn())&&fc(this).options.authDomain&&t.isOAuthProvider&&(i=Xa(fc(this).options.authDomain,fc(this).options.apiKey,fc(this).name,"signInViaPopup",t,null,r,o.a.SDK_VERSION||null));var a=Wn(i,n&&n.Ba,n&&n.Aa);return gc(this,n=cc(this).then(function(e){return ou(e,a,"signInViaPopup",t,r,!!i)}).then(function(){return new vt(function(t,n){e.ha("signInViaPopup",null,new Nr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.c=e.a.Ea(e,"signInViaPopup",a,r)})}).then(function(t){return a&&Hn(a),t?Or(t):null}).s(function(t){throw a&&Hn(a),t}))},t.Lc=function(t){if(!sr())return Ct(new Nr("operation-not-supported-in-this-environment"));var e=this;return gc(this,cc(this).then(function(){return ic(t=e.h,function(){return t.b.set(tc,t.c.A,t.a)});var t}).then(function(){return e.a.Ca("signInViaRedirect",t)}))},t.fa=function(){if(!sr())return Ct(new Nr("operation-not-supported-in-this-environment"));var t=this;return gc(this,cc(this).then(function(){return t.a.fa()}).then(function(t){return t?Or(t):null}))},t.Qc=function(t){if(!t)return Ct(new Nr("null-user"));var e=this,n={};n.apiKey=fc(this).options.apiKey,n.authDomain=fc(this).options.authDomain,n.appName=fc(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.u,appName:t.o};var o=t.h,i={};return i[Vi]=o.b,i.refreshToken=o.a,i.expiresIn=(o.c-b())/1e3,e=new Eu(e,i),n&&(e.ba=n),r&&Su(e,r),Fu(e,t),e}(t,n,e.w,e.xa());return gc(this,this.i.then(function(){if(fc(e).options.apiKey!=t.l)return r.reload()}).then(function(){return pc(e)&&t.uid==pc(e).uid?(Fu(pc(e),t),e.Z(t)):(hc(e,r),Ru(r),e.Z(r))}).then(function(){yc(e)}))},t.mb=function(){var t=this;return gc(this,this.i.then(function(){return pc(t)?(hc(t,null),rc(t.h).then(function(){yc(t)})):Et()}))},t.Mc=function(){var t=this;return oc(this.h,fc(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=pc(t)&&e){n=pc(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Fu(pc(t),e),pc(t).F();(pc(t)||e)&&(hc(t,e),e&&(Ru(e),e.ba=t.w),t.a&&t.a.subscribe(t),yc(t))}})},t.Z=function(t){return nc(this.h,t)},t.bc=function(){yc(this),this.Z(pc(this))},t.jc=function(){this.mb()},t.kc=function(){this.mb()},t.mc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(pc(e))})},t.nc=function(t){var e=this;!function(t,e){t.I.push(e),gc(t,t.i.then(function(){!t.l&&$(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(vc(t)))}))}(this,function(){t.next(pc(e))})},t.vc=function(t,e,n){var r=this;return this.X&&o.a.Promise.resolve().then(function(){h(t)?t(pc(r)):h(t.next)&&t.next(pc(r))}),this.Tb(t,e,n)},t.uc=function(t,e,n){var r=this;return this.X&&o.a.Promise.resolve().then(function(){r.O=r.getUid(),h(t)?t(pc(r)):h(t.next)&&t.next(pc(r))}),this.Ub(t,e,n)},t.cc=function(t){var e=this;return gc(this,this.i.then(function(){return pc(e)?pc(e).F(t).then(function(t){return{accessToken:t}}):null}))},t.Mb=function(t){var e=this;return this.i.then(function(){return dc(e,xa(e.b,Na,{token:t}))}).then(function(t){var n=t.user;return ju(n,"isAnonymous",!1),e.Z(n),t})},t.Ec=function(t){return Cr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Mb(t)},t.Fc=function(t,e){return Cr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Nb(t,e)},t.Nb=function(t,e){var n=this;return this.i.then(function(){return dc(n,xa(n.b,Aa,{email:t,password:e}))})},t.wb=function(t,e){var n=this;return this.i.then(function(){return dc(n,xa(n.b,ca,{email:t,password:e}))})},t.Wb=function(t,e){return Cr("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.wb(t,e)},t.Hc=function(t){return Cr("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Oa(t).then(function(t){return t.user})},t.Oa=function(t){var e=this;return this.i.then(function(){return dc(e,t.ya(e.b))})},t.Pa=function(){var t=this;return this.i.then(function(){var e=pc(t);return e&&e.isAnonymous?Or({user:e,credential:null,additionalUserInfo:Or({providerId:null,isNewUser:!1}),operationType:"signIn"}):dc(t,t.b.Pa()).then(function(e){var n=e.user;return ju(n,"isAnonymous",!0),t.Z(n),e})})},t.Gc=function(){return Cr("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Pa()},t.getUid=function(){return pc(this)&&pc(this).uid||null},t.Vb=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&pc(this)&&Ou(pc(this))},t.Cc=function(t){var e=this;P(this.o,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&pc(this)&&Du(pc(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.o.push(t),gc(this,this.i.then(function(){e.l||$(e.o,t)&&t(vc(e))}))},t.removeAuthTokenListener=function(t){j(this.o,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h).b.removeListener(ec("local"),t.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Xa()),o.a.Promise.resolve()},t.Zb=function(t){return Cr("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),gc(this,function(t,e){return xa(t,la,{identifier:e,continueUri:ur()?Un():"http://localhost"}).then(function(t){return t.allProviders||[]})}(this.b,t))},t.$b=function(t){return gc(this,function(t,e){return xa(t,la,{identifier:e,continueUri:ur()?Un():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},t.oc=function(t){return!!To(t)},t.kb=function(t,e){var n=this;return gc(this,Et().then(function(){var t=new Pr(e);if(!t.c)throw new Nr("argument-error",Mr+" must be true when sending sign in link to email");return Br(t)}).then(function(e){return n.b.kb(t,e)}).then(function(){}))},t.Tc=function(t){return this.Ja(t).then(function(t){return t.data.email})},t.Ya=function(t,e){return gc(this,this.b.Ya(t,e).then(function(){}))},t.Ja=function(t){return gc(this,this.b.Ja(t).then(function(t){return new function(t){var e={},n=t.email,r=t.newEmail;if(!(t=t.requestType)||"EMAIL_SIGNIN"!=t&&!n)throw Error("Invalid provider user info!");e.fromEmail=r||null,e.email=n||null,Tr(this,"operation",t),Tr(this,"data",Dr(e))}(t)}))},t.Va=function(t){return gc(this,this.b.Va(t).then(function(){}))},t.jb=function(t,e){var n=this;return gc(this,Et().then(function(){return void 0===e||ot(e)?{}:Br(new Pr(e))}).then(function(e){return n.b.jb(t,e)}).then(function(){}))},t.Jc=function(t,e){return gc(this,vu(this,t,e,g(this.Oa,this)))},t.Ic=function(t,e){var n=this;return gc(this,Et().then(function(){var r=So(t,e||Un());return n.Oa(r)}))},mc.prototype.render=function(){},mc.prototype.reset=function(){},mc.prototype.getResponse=function(){},mc.prototype.execute=function(){};var _c=null;function wc(t,e){return(e=Ec(e))&&t.a[e]||null}function Ec(t){return(t=void 0===t?1e12:t)?t.toString():null}function Cc(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=kn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():me(this.f,"click",this.i)}function Sc(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Tc(){}bc.prototype.render=function(t,e){return this.a[this.b.toString()]=new Cc(t,e),this.b++},bc.prototype.reset=function(t){var e=wc(this,t);t=Ec(t),e&&t&&(e.delete(),delete this.a[t])},bc.prototype.getResponse=function(t){return(t=wc(this,t))?t.getResponse():null},bc.prototype.execute=function(t){(t=wc(this,t))&&t.execute()},Cc.prototype.getResponse=function(){return Sc(this),this.b},Cc.prototype.execute=function(){Sc(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()},6e4)},500))},Cc.prototype.delete=function(){Sc(this),this.g=!0,clearTimeout(this.a),this.a=null,we(this.f,"click",this.i)},Tc.prototype.g=function(){return _c||(_c=new bc),Et(_c)},Tc.prototype.c=function(){};var Ic=null;function Oc(){this.b=n.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Dc=yn("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Nc=new gr(3e4,6e4);Oc.prototype.g=function(t){var e=this;return new vt(function(r,o){var i=setTimeout(function(){o(new Nr("network-request-failed"))},Nc.get());!n.grecaptcha||t!==e.f&&!e.b?(n[e.a]=function(){if(n.grecaptcha){e.f=t;var a=n.grecaptcha.render;n.grecaptcha.render=function(t,n){return t=a(t,n),e.b++,t},clearTimeout(i),r(n.grecaptcha)}else clearTimeout(i),o(new Nr("internal-error"));delete n[e.a]},Et(Ri(bn(Dc,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(i),o(new Nr("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),r(n.grecaptcha))})},Oc.prototype.c=function(){this.b--};var Ac=null;function Rc(t,e,r,o,i,a,s){if(Tr(this,"type","recaptcha"),this.c=this.f=null,this.C=!1,this.l=e,this.g=null,s?(Ic||(Ic=new Tc),s=Ic):(Ac||(Ac=new Oc),s=Ac),this.o=s,this.a=r||{theme:"light",type:"image"},this.h=[],this.a[xc])throw new Nr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Mc],!n.document)throw new Nr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!kn(e)||!this.i&&kn(e).hasChildNodes())throw new Nr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new ji(t,a||null,i||null),this.v=o||function(){return null};var u=this;this.m=[];var c=this.a[kc];this.a[kc]=function(t){if($c(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=ir(c,n);"function"==typeof e&&e(t)}};var l=this.a[Pc];this.a[Pc]=function(){if($c(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=ir(l,n);"function"==typeof t&&t()}}}var kc="callback",Pc="expired-callback",xc="sitekey",Mc="size";function $c(t,e){for(var n=0;n<t.m.length;n++)try{t.m[n](e)}catch(t){}}function Lc(t,e){return t.h.push(e),e.ia(function(){L(t.h,e)}),e}function jc(t){if(t.C)throw new Nr("internal-error","RecaptchaVerifier instance has been destroyed.")}function Fc(t,e,n){var r=!1;try{this.b=n||o.a.app()}catch(t){throw new Nr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Nr("invalid-api-key");n=this.b.options.apiKey;var i=this,a=null;try{a=this.b.auth().xa()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}a=o.a.SDK_VERSION?rr(o.a.SDK_VERSION,a):null,Rc.call(this,n,t,e,function(){try{var t=i.b.auth().ea()}catch(e){t=null}return t},a,Fa(La),r)}function Vc(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var o=0,i=!1,a=0;a<e.length;a++)if(e[a].optional)i=!0;else{if(i)throw new Nr("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(i=e.length,n.length<o||i<n.length)r="Expected "+(o==i?1==o?"1 argument":o+" arguments":o+"-"+i+" arguments")+" but got "+n.length+".";else{for(o=0;o<n.length;o++)if(i=e[o].optional&&void 0===n[o],!e[o].M(n[o])&&!i){if(e=e[o],0>o||o>=Uc.length)throw new Nr("internal-error","Argument validator received an unsupported number of arguments.");n=Uc[o],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new Nr("argument-error",t+" failed: "+r)}(t=Rc.prototype).za=function(){var t=this;return this.f?this.f:this.f=Lc(this,Et().then(function(){if(ur()&&!Yn())return Kn();throw new Nr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.o.g(t.v())}).then(function(e){return t.g=e,xa(t.u,_a,{})}).then(function(e){t.a[xc]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){jc(this);var t=this;return Lc(this,this.za().then(function(){if(null===t.c){var e=t.l;if(!t.i){var n=kn(e);e=function(t,e,n){var o=arguments,i=document,a=String(o[0]),s=o[1];if(!dn&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',q(s.name),'"'),s.type){a.push(' type="',q(s.type),'"');var u={};ct(u,s),delete u.type,s=u}a.push(">"),a=a.join("")}return a=i.createElement(a),s&&(r(s)?a.className=s:c(s)?a.className=s.join(" "):Pn(a,s)),2<o.length&&function(t,e,n){function o(n){n&&e.appendChild(r(n)?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var a=n[i];!l(a)||d(a)&&0<a.nodeType?o(a):P(Mn(a)?V(a):a,o)}}(i,a,o),a}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){jc(this);var t=this;return Lc(this,this.render().then(function(e){return new vt(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var o=function(e){e&&(function(t,e){j(t.m,function(t){return t==e})}(t,o),n(e))};t.m.push(o),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){jc(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){jc(this),this.C=!0,this.o.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=kn(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}},_(Fc,Rc);var Uc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Bc(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:r}}function qc(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:i}}function Hc(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:d}}function Wc(t,e){return{name:t||"",K:"a function",optional:!!e,M:h}}function Gc(t,e){return{name:t||"",K:"null",optional:!!e,M:u}}function Kc(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ya||t&&e.providerId!==t)}}}function Qc(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&r(t.type)&&h(t.verify))}}}function zc(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Yc(t,e){for(var n in e){var r=e[n].name;t[r]=Jc(r,t[n],e[n].j)}}function Xc(t,e){for(var n in e){var r=e[n].name;if(r!==n){var o=e[n].sb;Object.defineProperty(t,r,{get:function(){return this[n]},set:function(t){Vc(r,[o],[t],!0),this[n]=t},enumerable:!0})}}}function Zc(t,e,n,r){t[e]=Jc(e,n,r)}function Jc(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Vc(i,n,t),e.apply(this,t)}if(!n)return e;var o,i=function(t){return(t=t.split("."))[t.length-1]}(t);for(o in e)r[o]=e[o];for(o in e.prototype)r.prototype[o]=e.prototype[o];return r}Yc(ac.prototype,{Va:{name:"applyActionCode",j:[Bc("code")]},Ja:{name:"checkActionCode",j:[Bc("code")]},Ya:{name:"confirmPasswordReset",j:[Bc("code"),Bc("newPassword")]},wb:{name:"createUserWithEmailAndPassword",j:[Bc("email"),Bc("password")]},Wb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[Bc("email"),Bc("password")]},Zb:{name:"fetchProvidersForEmail",j:[Bc("email")]},$b:{name:"fetchSignInMethodsForEmail",j:[Bc("email")]},fa:{name:"getRedirectResult",j:[]},oc:{name:"isSignInWithEmailLink",j:[Bc("emailLink")]},uc:{name:"onAuthStateChanged",j:[zc(Hc(),Wc(),"nextOrObserver"),Wc("opt_error",!0),Wc("opt_completed",!0)]},vc:{name:"onIdTokenChanged",j:[zc(Hc(),Wc(),"nextOrObserver"),Wc("opt_error",!0),Wc("opt_completed",!0)]},jb:{name:"sendPasswordResetEmail",j:[Bc("email"),zc(Hc("opt_actionCodeSettings",!0),Gc(null,!0),"opt_actionCodeSettings",!0)]},kb:{name:"sendSignInLinkToEmail",j:[Bc("email"),Hc("actionCodeSettings")]},lb:{name:"setPersistence",j:[Bc("persistence")]},Oa:{name:"signInAndRetrieveDataWithCredential",j:[Kc()]},Pa:{name:"signInAnonymously",j:[]},Gc:{name:"signInAnonymouslyAndRetrieveData",j:[]},Hc:{name:"signInWithCredential",j:[Kc()]},Mb:{name:"signInWithCustomToken",j:[Bc("token")]},Ec:{name:"signInAndRetrieveDataWithCustomToken",j:[Bc("token")]},Nb:{name:"signInWithEmailAndPassword",j:[Bc("email"),Bc("password")]},Ic:{name:"signInWithEmailLink",j:[Bc("email"),Bc("emailLink",!0)]},Fc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[Bc("email"),Bc("password")]},Jc:{name:"signInWithPhoneNumber",j:[Bc("phoneNumber"),Qc()]},Kc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Qc:{name:"updateCurrentUser",j:[zc({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof Eu)}},Gc(),"user")]},mb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Bc(null,!0)]},Sc:{name:"useDeviceLanguage",j:[]},Tc:{name:"verifyPasswordResetCode",j:[Bc("code")]}}),Xc(ac.prototype,{lc:{name:"languageCode",sb:zc(Bc(),Gc(),"languageCode")}}),(ac.Persistence=Ts).LOCAL="local",ac.Persistence.SESSION="session",ac.Persistence.NONE="none",Yc(Eu.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[qc("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[qc("opt_forceRefresh",!0)]},cb:{name:"linkAndRetrieveDataWithCredential",j:[Kc()]},pc:{name:"linkWithCredential",j:[Kc()]},qc:{name:"linkWithPhoneNumber",j:[Bc("phoneNumber"),Qc()]},rc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},sc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},fb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Kc()]},yc:{name:"reauthenticateWithCredential",j:[Kc()]},zc:{name:"reauthenticateWithPhoneNumber",j:[Bc("phoneNumber"),Qc()]},Ac:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Bc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ib:{name:"sendEmailVerification",j:[zc(Hc("opt_actionCodeSettings",!0),Gc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Bc(null,!0)]},Pc:{name:"unlink",j:[Bc("provider")]},ob:{name:"updateEmail",j:[Bc("email")]},pb:{name:"updatePassword",j:[Bc("password")]},Rc:{name:"updatePhoneNumber",j:[Kc("phone")]},qb:{name:"updateProfile",j:[Hc("profile")]}}),Yc(bc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yc(mc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yc(vt.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Xc(fu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",sb:qc("appVerificationDisabledForTesting")}}),Yc(pu.prototype,{confirm:{name:"confirm",j:[Bc("verificationCode")]}}),Zc(Co,"credential",function(t,e){return new Eo(t,e)},[Bc("email"),Bc("password")]),Yc(po.prototype,{ta:{name:"addScope",j:[Bc("scope")]},Da:{name:"setCustomParameters",j:[Hc("customOAuthParameters")]}}),Zc(po,"credential",vo,[zc(Bc(),Hc(),"token")]),Zc(Co,"credentialWithLink",So,[Bc("email"),Bc("emailLink")]),Yc(yo.prototype,{ta:{name:"addScope",j:[Bc("scope")]},Da:{name:"setCustomParameters",j:[Hc("customOAuthParameters")]}}),Zc(yo,"credential",go,[zc(Bc(),Hc(),"token")]),Yc(mo.prototype,{ta:{name:"addScope",j:[Bc("scope")]},Da:{name:"setCustomParameters",j:[Hc("customOAuthParameters")]}}),Zc(mo,"credential",bo,[zc(Bc(),zc(Hc(),Gc()),"idToken"),zc(Bc(),Gc(),"accessToken",!0)]),Yc(_o.prototype,{Da:{name:"setCustomParameters",j:[Hc("customOAuthParameters")]}}),Zc(_o,"credential",wo,[zc(Bc(),Hc(),"token"),Bc("secret",!0)]),Yc(fo.prototype,{ta:{name:"addScope",j:[Bc("scope")]},credential:{name:"credential",j:[zc(Bc(),Gc(),"idToken",!0),zc(Bc(),Gc(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[Hc("customOAuthParameters")]}}),Zc(Do,"credential",No,[Bc("verificationId"),Bc("verificationCode")]),Yc(Do.prototype,{Ta:{name:"verifyPhoneNumber",j:[Bc("phoneNumber"),Qc()]}}),Yc(Nr.prototype,{toJSON:{name:"toJSON",j:[Bc(null,!0)]}}),Yc(Lo.prototype,{toJSON:{name:"toJSON",j:[Bc(null,!0)]}}),Yc($o.prototype,{toJSON:{name:"toJSON",j:[Bc(null,!0)]}}),Yc(Fc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===o.a||!o.a.INTERNAL||!o.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:ac,Error:Nr};Zc(t,"EmailAuthProvider",Co,[]),Zc(t,"FacebookAuthProvider",po,[]),Zc(t,"GithubAuthProvider",yo,[]),Zc(t,"GoogleAuthProvider",mo,[]),Zc(t,"TwitterAuthProvider",_o,[]),Zc(t,"OAuthProvider",fo,[Bc("providerId")]),Zc(t,"PhoneAuthProvider",Do,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ac)}}]),Zc(t,"RecaptchaVerifier",Fc,[zc(Bc(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Hc("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof o.a.app.App)}}]),o.a.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:g((t=new ac(t)).getUid,t),getToken:g(t.cc,t),addAuthTokenListener:g(t.Vb,t),removeAuthTokenListener:g(t.Cc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),o.a.INTERNAL.extendNamespace({User:Eu})}()}).call("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},t7fG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return o}),n.d(e,"__assign",function(){return i}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return f}),n.d(e,"__read",function(){return p}),n.d(e,"__spread",function(){return v}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return g}),n.d(e,"__asyncDelegator",function(){return m}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return E});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n}function s(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise(function(n,r){i.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=o[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(t){l(i[0][3],t)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),i.shift(),i.length&&s(i[0][0],i[0][1])}}function m(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){t[r]&&(e[r]=function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:o?o(e):e})}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):f(t)}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},tEej:function(t,e,n){var r=n("Ojgd"),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},tHPV:function(t,e,n){"use strict";var r=n("mrSG"),o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.b(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(n(null).a),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.b(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,o=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<o&&(t=n.shift()));if(this.active=!1,e){for(;++r<o&&(t=n.shift());)t.unsubscribe();throw e}},e}(n(null).a);n.d(e,"animationFrame",function(){return a});var a=new i(o)},u46e:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.gte=function(t){return function(e){return o.isPresent(t)?o.isPresent(r.Validators.required(e))?null:+e.value>=+t?null:{gte:!0}:null}}},u67D:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("En8+"),o=function(t){return function(e){for(var n=t[r.a]();;){var o=n.next();if(o.done){e.complete();break}if(e.next(o.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},uOPS:function(t,e){t.exports=!0},ug6e:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("pXYb"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.validate=function(t){return i.dateISO(t)},t.decorators=[{type:r.Directive,args:[{selector:"[dateISO][formControlName],[dateISO][formControl],[dateISO][ngModel]",providers:[a]}]}],t}();e.DateISOValidator=s},umdh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("S8xG"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.ngOnInit=function(){this.validator=i.maxDate(this.maxDate)},t.prototype.ngOnChanges=function(t){for(var e in t)"maxDate"===e&&(this.validator=i.maxDate(t[e].currentValue),this.onChange&&this.onChange())},t.prototype.validate=function(t){return this.validator(t)},t.prototype.registerOnValidatorChange=function(t){this.onChange=t},t.decorators=[{type:r.Directive,args:[{selector:"[maxDate][formControlName],[maxDate][formControl],[maxDate][ngModel]",providers:[a]}]}],t.propDecorators={maxDate:[{type:r.Input}]},t}();e.MaxDateValidator=s},vAyL:function(t,e,n){"use strict";n.r(e),n.d(e,"range",function(){return o}),n.d(e,"dispatch",function(){return i});var r=n("6blF");function o(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=0),new r.a(function(r){var o=0,a=t;if(n)return n.schedule(i,0,{index:o,count:e,start:t,subscriber:r});for(;;){if(o++>=e){r.complete();break}if(r.next(a++),r.closed)break}})}function i(t){var e=t.start,n=t.index,r=t.subscriber;n>=t.count?r.complete():(r.next(e),r.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}},vdN6:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("NMws")),r(n("q5o6"))},"w2d+":function(t,e,n){"use strict";var r=n("hDam"),o=n("UO39"),i=n("SBuE"),a=n("NsO/");t.exports=n("MPFp")(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},w6GO:function(t,e,n){var r=n("5vMV"),o=n("FpHa");t.exports=Object.keys||function(t){return r(t,o)}},wYKn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("Tm9b"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.ngOnInit=function(){this.validator=i.range(this.range)},t.prototype.ngOnChanges=function(t){for(var e in t)"range"===e&&(this.validator=i.range(t[e].currentValue),this.onChange&&this.onChange())},t.prototype.validate=function(t){return this.validator(t)},t.prototype.registerOnValidatorChange=function(t){this.onChange=t},t.decorators=[{type:r.Directive,args:[{selector:"[range][formControlName],[range][formControl],[range][ngModel]",providers:[a]}]}],t.propDecorators={range:[{type:r.Input}]},t}();e.RangeValidator=s},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("zVF4"),o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i="[DEFAULT]",a=[],s=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=r.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){a.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){a=a.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=i),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==i?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;r.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(a.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),a=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})},t}();function u(t,e){throw c.create(t,e)}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");var c=new r.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),l=function t(){var e={},n={},a={},c={__esModule:!0,initializeApp:function(t,n){void 0===n&&(n={}),("object"!=typeof n||null===n)&&(n={name:n});var r=n;void 0===r.name&&(r.name=i);var a=r.name;"string"==typeof a&&a||u("bad-app-name",{name:a+""}),o(e,a)&&u("duplicate-app",{name:a});var l=new s(t,r,c);return e[a]=l,d(l,"create"),l},app:l,apps:null,Promise:Promise,SDK_VERSION:"5.0.4",INTERNAL:{registerService:function(t,e,o,i,d){n[t]&&u("duplicate-service",{name:t}),n[t]=e,i&&(a[t]=i,h().forEach(function(t){i("create",t)}));var f=function(e){return void 0===e&&(e=l()),"function"!=typeof e[t]&&u("invalid-app-argument",{name:t}),e[t]()};return void 0!==o&&r.deepExtend(f,o),c[t]=f,s.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,d?e:[])},f},createFirebaseNamespace:t,extendNamespace:function(t){r.deepExtend(c,t)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(t){d(e[t],"delete"),delete e[t]},factories:n,useAsService:f,Promise:Promise,deepExtend:r.deepExtend}};function l(t){return o(e,t=t||i)||u("no-app",{name:t}),e[t]}function h(){return Object.keys(e).map(function(t){return e[t]})}function d(t,e){Object.keys(n).forEach(function(n){var r=f(0,n);null!==r&&a[r]&&a[r](e,t)})}function f(t,e){return"serverAuth"===e?null:e}return r.patchProperty(c,"default",c),Object.defineProperty(c,"apps",{get:h}),r.patchProperty(l,"App",s),c}();e.firebase=l,e.default=l},wp3W:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.lt=function(t){return function(e){return o.isPresent(t)?o.isPresent(r.Validators.required(e))?null:+e.value<+t?null:{lt:!0}:null}}},wrUr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),o=n("gIcY"),i=n("7yqV"),a={provide:o.NG_VALIDATORS,useExisting:r.forwardRef(function(){return s}),multi:!0},s=function(){function t(){}return t.prototype.ngOnInit=function(){this.validator=i.gt(this.gt)},t.prototype.ngOnChanges=function(t){for(var e in t)"gt"===e&&(this.validator=i.gt(t[e].currentValue),this.onChange&&this.onChange())},t.prototype.validate=function(t){return this.validator(t)},t.prototype.registerOnValidatorChange=function(t){this.onChange=t},t.decorators=[{type:r.Directive,args:[{selector:"[gt][formControlName],[gt][formControl],[gt][ngModel]",providers:[a]}]}],t.propDecorators={gt:[{type:r.Input}]},t}();e.GreaterThanValidator=s},xTla:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},xXU7:function(t,e,n){"use strict";var r=n("6blF"),o=n(null),i=n("isby");function a(t,e){var n;return void 0===t&&(t=0),void 0===e&&(e=o.a),n=t,(Object(i.a)(n)||!(n-parseFloat(n)+1>=0)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=o.a),new r.a(function(n){return n.add(e.schedule(s,t,{subscriber:n,counter:0,period:t})),n})}function s(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}n.d(e,"interval",function(){return a})},y3By:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i});var r=n("+umK");function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)}function i(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r.a}},yGWI:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),o=n("FFOo");function i(){return function(t){return t.lift(new a(t))}}var a=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new s(t,n),o=e.subscribe(r);return r.closed||(r.connection=n.connect()),o},t}(),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.b(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(o.a)},yak4:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("Qyzf")),r(n("KTXt"))},yazQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gIcY"),o=n("m9Vx");e.url=function(t){return o.isPresent(r.Validators.required(t))?null:/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t.value)?null:{url:!0}}},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("CcnG");function o(t){return void 0===t||null===t}function i(t){return"function"==typeof t.set}function a(t,e){return i(e)?e:t.ref(e)}function s(t,e){if("string"==typeof t)return e.stringCase();if(i(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}var u=n("6blF"),c=n("67Y/"),l=n("mrSG"),h=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return l.b(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return l.b(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n("pugT").a)),d=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),f=function(t){function e(n,r){void 0===r&&(r=d.now);var o=t.call(this,n,function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return l.b(e,t),e.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,o):t.prototype.schedule.call(this,n,r,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(d),p=new f(h),v=n("FFOo"),y=n("G5J1"),g=n("nkY7"),m=n("IUTb");function b(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r,o=t[t.length-1];switch(Object(g.a)(o)?t.pop():o=void 0,t.length){case 0:return Object(y.b)(o);case 1:return o?Object(m.a)(t,o):(n=t[0],(r=new u.a(function(t){t.next(n),t.complete()}))._isScalar=!0,r.value=n,r);default:return Object(m.a)(t,o)}}var _=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t;switch(this.kind){case"N":return b(this.value);case"E":return t=this.error,new u.a(function(e){return e.error(t)});case"C":return Object(y.b)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),w=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new E(t,this.delay,this.scheduler))},t}(),E=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.delay=n,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return l.b(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,o=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(o);if(n.length>0){var i=Math.max(0,n[0].time-r.now());this.schedule(t,i)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new C(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(_.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(_.createComplete())},e}(v.a),C=function(t,e){this.time=t,this.notification=e},S=n("S1nX");function T(t,e,n){return void 0===n&&(n="on"),new u.a(function(r){var o=t[n](e,function(t,e){r.next({snapshot:t,prevKey:e}),"once"==n&&r.complete()},r.error.bind(r));return"on"==n?{unsubscribe:function(){t.off(e,o)}}:{unsubscribe:function(){}}}).pipe(Object(c.a)(function(t){var n=t.snapshot,r=t.prevKey,o=null;return n.exists()&&(o=n.key),{type:e,payload:n,prevKey:r,key:o}}),function(t,e){void 0===e&&(e=p);var n=0 instanceof Date&&!isNaN(0)?0-e.now():Math.abs(0);return function(t){return t.lift(new w(n,e))}}(),Object(S.a)())}var I=n("p0ib"),O=n("MGBS"),D=n("zotm"),N=n("0/uQ");function A(t,e){return"function"==typeof e?function(n){return n.pipe(A(function(n,r){return Object(N.a)(t(n,r)).pipe(Object(c.a)(function(t,o){return e(n,t,r,o)}))}))}:function(e){return e.lift(new R(t))}}var R=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new k(t,this.project))},t}(),k=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return l.b(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=Object(D.a)(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e}(O.a);function P(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new x(t,e,n))}}var x=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new M(t,this.accumulator,this.seed,this.hasSeed))},t}(),M=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.accumulator=n,i._seed=r,i.hasSeed=o,i.index=0,i}return l.b(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(v.a),$=n("Ehmk"),L=n("eihs"),j=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new F(t,this.compare,this.keySelector))},t}(),F=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.keySelector=r,o.hasKey=!1,"function"==typeof n&&(o.compare=n),o}return l.b(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=Object($.a)(this.keySelector)(t))===L.a)return this.destination.error(L.a.e);var n=!1;if(this.hasKey){if((n=Object($.a)(this.compare)(this.key,e))===L.a)return this.destination.error(L.a.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=e,this.destination.next(t))},e}(v.a);function V(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function U(t,e){var n=e.payload,r=e.prevKey,i=e.key,a=V(t,i),s=function(t,e){if(o(e))return 0;var n=V(t,e);return-1===n?t.length:n+1}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){var u=null;e.payload.forEach(function(e){var n={payload:e,type:"value",prevKey:u,key:e.key};return u=e.key,t=t.concat([n]),!1})}return t;case"child_added":if(a>-1){var c=t[a-1];(c&&c.key||null)!=r&&(t=t.filter(function(t){return t.payload.key!==n.key})).splice(s,0,e)}else{if(null==r)return[e].concat(t);(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(function(t){return t.payload.key!==n.key});case"child_changed":return t.map(function(t){return t.payload.key===i?e:t});case"child_moved":if(a>-1){var l=t.splice(a,1)[0];return(t=t.slice()).splice(s,0,l),t}return t;default:return t}}function B(t){return(o(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function q(t,e){return function(t,e){return T(t,"value","once").pipe(A(function(n){var r=[b(n)];return e.forEach(function(e){return r.push(T(t,e))}),I.a.apply(void 0,r).pipe(P(U,[]))}),function(t){return t.lift(new j(void 0,void 0))})}(t,e=B(e))}function H(t,e){var n=(e=B(e)).map(function(e){return T(t,e)});return I.a.apply(void 0,n)}function W(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new G(t,n))}}var G=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new K(t,this.observables,this.project))},t}(),K=function(t){function e(e,n,r){var o=t.call(this,e)||this;o.observables=n,o.project=r,o.toRespond=[];var i=n.length;o.values=new Array(i);for(var a=0;a<i;a++)o.toRespond.push(a);for(a=0;a<i;a++){var s=n[a];o.add(Object(D.a)(o,s,s,a))}return o}return l.b(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.values[n]=e;var i=this.toRespond;if(i.length>0){var a=i.indexOf(n);-1!==a&&i.splice(a,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(O.a),Q=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new z(t,this.predicate))},t}(),z=function(t){function e(e,n){var r=t.call(this,e)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return l.b(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(v.a);function Y(t,e){return function(n,r){return s(n,{stringCase:function(){return t.child(n)[e](r)},firebaseCase:function(){return n[e](r)},snapshotCase:function(){return n.ref[e](r)}})}}function X(t){return function(){return T(t,"value")}}var Z=n("Ip0R"),J=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return l.b(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(h),tt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.b(e,t),e}(f))(J),et=function(t){function e(){var n=t.call(this,"no elements in sequence")||this;return n.name="EmptyError",Object.setPrototypeOf(n,e.prototype),n}return l.b(e,t),e}(Error);function nt(t,e){return function(n){return n.lift(new rt(t,e))}}var rt=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new ot(t,this.predicate,this.thisArg))},t}(),ot=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return l.b(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(v.a),it=function(t){function e(){var n=t.call(this,"argument out of range")||this;return n.name="ArgumentOutOfRangeError",Object.setPrototypeOf(n,e.prototype),n}return l.b(e,t),e}(Error);function at(t){return function(e){return 0===t?Object(y.b)():e.lift(new st(t))}}var st=function(){function t(t){if(this.total=t,this.total<0)throw new it}return t.prototype.call=function(t,e){return e.subscribe(new ut(t,this.total))},t}(),ut=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return l.b(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(v.a);function ct(t){return void 0===t&&(t=null),function(e){return e.lift(new lt(t))}}var lt=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new ht(t,this.defaultValue))},t}(),ht=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return l.b(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(v.a),dt=n("+umK"),ft=n("2Bdj");function pt(t,e,n){return function(r){return r.lift(new vt(t,e,n))}}var vt=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new yt(t,this.nextOrObserver,this.error,this.complete))},t}(),yt=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i._tapNext=dt.a,i._tapError=dt.a,i._tapComplete=dt.a,i._tapError=r||dt.a,i._tapComplete=o||dt.a,Object(ft.a)(n)?(i._context=i,i._tapNext=n):n&&(i._context=n,i._tapNext=n.next||dt.a,i._tapError=n.error||dt.a,i._tapComplete=n.complete||dt.a),i}return l.b(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(v.a),gt=function(t){return void 0===t&&(t=mt),pt({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function mt(){return new et}var bt=n("mChF");function _t(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?nt(function(e,n){return t(e,n,r)}):bt.a,at(1),n?ct(e):gt(function(){return new et}))}}var wt=new r.InjectionToken("angularfire2.realtimeDatabaseURL"),Et=function(){function t(t,e){this.zone=t,this.platformId=e}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.runGuarded(function(){return tt.schedule.apply(tt,t)})},t.prototype.keepUnstableUntilFirst=function(t){var e=this;return Object(Z.w)(this.platformId)?new u.a(function(n){var r=function(){},o=Zone.current.scheduleMacroTask("firebaseZoneBlock",r,{},r,r);return t.pipe(_t()).subscribe(function(){return e.zone.runOutsideAngular(function(){return o.invoke()})}),t.subscribe(n)}):t},t.prototype.runOutsideAngular=function(t){var e=this;return new u.a(function(n){return e.zone.runOutsideAngular(function(){return t.subscribe(function(t){return e.zone.run(function(){return n.next(t)})},function(t){return e.zone.run(function(){return n.error(t)})},function(){return e.zone.run(function(){return n.complete()})})})})},t}(),Ct=n("Wcq6"),St=new r.InjectionToken("angularfire2.app.options"),Tt=new r.InjectionToken("angularfire2.app.nameOrConfig"),It=function(){};function Ot(t,e){var n="object"==typeof e&&e||{};return n.name=n.name||"string"==typeof e&&e||"[DEFAULT]",Ct.apps.filter(function(t){return t&&t.name===n.name})[0]||Ct.initializeApp(t,n)}new r.Optional;var Dt=function(){function t(){}return t.initializeApp=function(e,n){return{ngModule:t,providers:[{provide:St,useValue:e},{provide:Tt,useValue:n}]}},t}(),Nt=function(){function t(t,e,n,r,o){this.scheduler=new Et(o,r),this.database=o.runOutsideAngular(function(){return Ot(t,e).database(n||void 0)})}return t.prototype.list=function(t,e){var n=a(this.database,t),r=n;return e&&(r=e(n)),function(t,e){return{query:t,update:Y(t.ref,"update"),set:Y(t.ref,"set"),push:function(e){return t.ref.push(e)},remove:(n=t.ref,function(t){return t?s(t,{stringCase:function(){return n.child(t).remove()},firebaseCase:function(){return t.remove()},snapshotCase:function(){return t.ref.remove()}}):n.remove()}),snapshotChanges:function(n){var r=q(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r))},stateChanges:function(n){var r=H(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r))},auditTrail:function(n){var r=function(t,e){return function(t,e){return function(t){return T(t,"value").pipe(Object(c.a)(function(t){var e;return t.payload.forEach(function(t){return e=t.key,!1}),{data:t,lastKeyToLoad:e}}))}(t).pipe(W(e),Object(c.a)(function(t){var e=t[1];return{actions:e,lastKeyToLoad:t[0].lastKeyToLoad,loadedKeys:e.map(function(t){return t.key})}}),(n=function(t){return-1===t.loadedKeys.indexOf(t.lastKeyToLoad)},function(t){return t.lift(new Q(n))}),Object(c.a)(function(t){return t.actions}));var n}(t,H(t,e).pipe(P(function(t,e){return t.concat([e])},[])))}(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r))},valueChanges:function(n){var r=q(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r)).pipe(Object(c.a)(function(t){return t.map(function(t){return t.payload.val()})}))}};var n}(r,this)},t.prototype.object=function(t){var e,n,r=a(this.database,t);return n=this,{query:e=r,snapshotChanges:function(){var t=X(e)();return n.scheduler.keepUnstableUntilFirst(n.scheduler.runOutsideAngular(t))},update:function(t){return e.ref.update(t)},set:function(t){return e.ref.set(t)},remove:function(){return e.ref.remove()},valueChanges:function(){var t=X(e)();return n.scheduler.keepUnstableUntilFirst(n.scheduler.runOutsideAngular(t)).pipe(Object(c.a)(function(t){return t.payload.exists()?t.payload.val():null}))}}},t.prototype.createPushId=function(){return this.database.ref().push().key},t}(),At=(n("NSPt"),function(){}),Rt=function(){function t(t){this.db=t}return t.prototype.save=function(t){this.db.object("/users/"+t.uid).update({name:t.displayName,email:t.email})},t.prototype.get=function(t){return this.db.object("/users/"+t)},t}(),kt=function(){return function(t,e,n,r){var o=this;this.zone=r;var i=new Et(r,n);this.auth=r.runOutsideAngular(function(){return Ot(t,e).auth()}),this.authState=i.keepUnstableUntilFirst(i.runOutsideAngular(new u.a(function(t){return{unsubscribe:o.auth.onAuthStateChanged(t)}}))),this.user=i.keepUnstableUntilFirst(i.runOutsideAngular(new u.a(function(t){return{unsubscribe:o.auth.onIdTokenChanged(t)}}))),this.idToken=this.user.pipe(A(function(t){return t?Object(N.a)(t.getIdToken()):b(null)})),this.idTokenResult=this.user.pipe(A(function(t){return t?Object(N.a)(t.getIdTokenResult()):b(null)}))}}(),Pt=(n("t6oF"),function(){});u.a.prototype.switchMap=function(t){return A(t)(this)},u.a.of=b;var xt=n("iqUP"),Mt=function(){function t(t,e,n){this.userService=t,this.afAuth=e,this.route=n,this.user$=e.authState}return t.prototype.login=function(){var t=this.route.snapshot.queryParamMap.get("returnUrl")||"/";localStorage.setItem("returnUrl",t),this.afAuth.auth.signInWithRedirect(new xt.auth.GoogleAuthProvider)},t.prototype.logout=function(){this.afAuth.auth.signOut()},Object.defineProperty(t.prototype,"appUser$",{get:function(){var t=this;return this.user$.switchMap(function(e){return e?t.userService.get(e.uid).valueChanges():u.a.of(null)})},enumerable:!0,configurable:!0}),t}();u.a.prototype.map=function(t,e){return Object(c.a)(t,e)(this)};var $t=function(){function t(t,e){this.auth=t,this.userService=e}return t.prototype.canActivate=function(){return this.auth.appUser$.map(function(t){return t.isAdmin})},t}(),Lt=function(){function t(t,e){this.auth=t,this.router=e}return t.prototype.canActivate=function(t,e){var n=this;return this.auth.user$.map(function(t){return!!t||(n.router.navigate(["/login"],{queryParams:{returnUrl:e.url}}),!1)})},t}(),jt=function(){function t(t){this.db=t}return t.prototype.create=function(t){return this.db.list("/products").push(t)},t.prototype.getAllProducts=function(){return this.db.list("/products")},t.prototype.get=function(t){return this.db.object("/products/"+t)},t.prototype.update=function(t,e){return this.db.object("/products/"+t).update(e)},t.prototype.delete=function(t){return this.db.object("/products/"+t).remove()},t.ngInjectableDef=r.defineInjectable({factory:function(){return new t(r.inject(Nt))},token:t,providedIn:"root"}),t}(),Ft=function(){function t(t){this.db=t}return t.prototype.getCategories=function(){return this.db.list("/categories",function(t){return t.orderByChild("name")})},t.ngInjectableDef=r.defineInjectable({factory:function(){return new t(r.inject(Nt))},token:t,providedIn:"root"}),t}(),Vt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ut=function(){function t(t,e,n,r){var o=this;this.router=t,this.route=e,this.categoryService=n,this.productService=r,this.itemsRef=n.getCategories(),this.categories$=this.itemsRef.snapshotChanges().map(function(t){return t.map(function(t){return Vt({key:t.payload.key},t.payload.val())})}),this.id=this.route.snapshot.paramMap.get("id"),this.id&&this.productService.get(this.id).valueChanges().subscribe(function(t){return o.product=t})}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){},t.prototype.save=function(t){this.id?this.productService.update(this.id,t):this.productService.create(t),this.router.navigate(["/admin/products"])},t.prototype.delete=function(){confirm("Are you sure you want to delete this product ?")&&(this.productService.delete(this.id),this.router.navigate(["/admin/products"]))},t}(),Bt=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),qt=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Ht=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Wt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Gt=function(){function t(t){this.productService=t,this.products$=this.productService.getAllProducts().snapshotChanges().map(function(t){return t.map(function(t){return Wt({key:t.payload.key},t.payload.val())})})}return t.prototype.ngOnInit=function(){},t}(),Kt=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Qt=function(){function t(t){this.afAuth=t}return t.prototype.login=function(){this.afAuth.auth.signInWithRedirect(new xt.auth.GoogleAuthProvider)},t}(),zt=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Yt=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Xt=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Zt=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Jt=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),te=function(){},ee=function(){return function(t,e,n){this.userService=t,this.auth=e,e.user$.subscribe(function(e){if(e){t.save(e);var r=localStorage.getItem("returnUrl");n.navigateByUrl(r)}})}}(),ne=function(){this.dismissible=!0,this.type="warning"},re=function(){function t(t){this.close=new r.EventEmitter,this.dismissible=t.dismissible,this.type=t.type}return t.prototype.closeHandler=function(){this.close.emit(null)},t}(),oe=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function ie(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.closeHandler()&&r),r},null,null)),(t()(),r["\u0275eld"](1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\xd7"]))],null,null)}function ae(t){return r["\u0275vid"](2,[(t()(),r["\u0275eld"](0,0,null,null,3,"div",[["role","alert"]],[[8,"className",0]],null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,ie)),r["\u0275did"](2,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),r["\u0275ncd"](null,0)],function(t,e){t(e,2,0,e.component.dismissible)},function(t,e){var n=e.component;t(e,0,0,"alert alert-"+n.type+(n.dismissible?" alert-dismissible":""))})}var se=r["\u0275ccf"]("ngb-alert",re,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"ngb-alert",[],null,null,null,ae,oe)),r["\u0275did"](1,49152,null,0,re,[ne],null,null)],null,null)},{dismissible:"dismissible",type:"type"},{close:"close"},["*"]),ue=function(){function t(){}return t.prototype.isMuted=function(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)},t}(),ce=r["\u0275crt"]({encapsulation:0,styles:["[_nghost-%COMP%] {\n      text-align: center;\n      width: 2rem;\n      height: 2rem;\n      line-height: 2rem;\n      border-radius: 0.25rem;\n      background: transparent;\n    }\n    .outside[_nghost-%COMP%] {\n      opacity: 0.5;\n    }"],data:{}});function le(t){return r["\u0275vid"](2,[(t()(),r["\u0275ted"](0,null,["",""]))],null,function(t,e){t(e,0,0,e.component.date.day)})}var he=n("gIcY"),de=function(){function t(t,e,n){this.year=t,this.month=e,this.day=n}return t.from=function(e){return e?new t(e.year,e.month,e.day?e.day:1):null},t.prototype.equals=function(t){return t&&this.year===t.year&&this.month===t.month&&this.day===t.day},t.prototype.before=function(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day<t.day:this.month<t.month:this.year<t.year)},t.prototype.after=function(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day>t.day:this.month>t.month:this.year>t.year)},t.prototype.toStruct=function(){return{year:this.year,month:this.month,day:this.day}},t.prototype.toString=function(){return this.year+"-"+this.month+"-"+this.day},t}();function fe(t){return parseInt(""+t,10)}function pe(t){return void 0!==t&&null!==t?""+t:""}function ve(t){return!isNaN(fe(t))}function ye(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function ge(t){return void 0!==t&&null!==t}function me(t){return ve(t)?("0"+t).slice(-2):""}var be,_e=(be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}be(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),we=function(){},Ee=function(t){function e(e,n){var r=t.call(this)||this;r._locale=e,r._datePipe=n;var o=Object(Z.u)(e,Z.g.Standalone,Z.s.Short);return r._weekdaysShort=o.map(function(t,e){return o[(e+1)%7]}),r._monthsShort=Object(Z.v)(e,Z.g.Standalone,Z.s.Abbreviated),r._monthsFull=Object(Z.v)(e,Z.g.Standalone,Z.s.Wide),r}return _e(e,t),e.prototype.getWeekdayShortName=function(t){return this._weekdaysShort[t-1]},e.prototype.getMonthShortName=function(t){return this._monthsShort[t-1]},e.prototype.getMonthFullName=function(t){return this._monthsFull[t-1]},e.prototype.getDayAriaLabel=function(t){var e=new Date(t.year,t.month-1,t.day);return this._datePipe.transform(e,"fullDate",null,this._locale)},e}(we),Ce=function(){function t(t){this.i18n=t,this.select=new r.EventEmitter}return t.prototype.changeMonth=function(t){this.select.emit(new de(this.date.year,fe(t),1))},t.prototype.changeYear=function(t){this.select.emit(new de(fe(t),this.date.month,1))},t}(),Se=r["\u0275crt"]({encapsulation:0,styles:["[_nghost-%COMP%] > select[_ngcontent-%COMP%] {\n      display: flex;\n      display: -ms-flexbox;\n      -ms-flex: 1 1 auto;\n      width: 100%;\n      padding: 0 0.5rem;\n      font-size: 0.875rem;\n      height: 1.85rem;\n    }"],data:{}});function Te(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,3,"option",[],[[1,"aria-label",0]],null,null,null,null)),r["\u0275did"](1,147456,null,0,he.NgSelectOption,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),r["\u0275did"](2,147456,null,0,he["\u0275angular_packages_forms_forms_r"],[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),r["\u0275ted"](3,null,["",""]))],function(t,e){t(e,1,0,e.context.$implicit),t(e,2,0,e.context.$implicit)},function(t,e){var n=e.component;t(e,0,0,n.i18n.getMonthFullName(e.context.$implicit)),t(e,3,0,n.i18n.getMonthShortName(e.context.$implicit))})}function Ie(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),r["\u0275did"](1,147456,null,0,he.NgSelectOption,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),r["\u0275did"](2,147456,null,0,he["\u0275angular_packages_forms_forms_r"],[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),r["\u0275ted"](3,null,["",""]))],function(t,e){t(e,1,0,e.context.$implicit),t(e,2,0,e.context.$implicit)},function(t,e){t(e,3,0,e.context.$implicit)})}function Oe(t){return r["\u0275vid"](2,[(t()(),r["\u0275eld"](0,0,null,null,2,"select",[["class","custom-select"]],[[8,"disabled",0],[8,"value",0]],[[null,"change"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.changeMonth(n.target.value)&&r),r},null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Te)),r["\u0275did"](2,278528,null,0,Z.l,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),r["\u0275eld"](3,0,null,null,2,"select",[["class","custom-select"]],[[8,"disabled",0],[8,"value",0]],[[null,"change"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.changeYear(n.target.value)&&r),r},null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Ie)),r["\u0275did"](5,278528,null,0,Z.l,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.months),t(e,5,0,n.years)},function(t,e){var n=e.component;t(e,0,0,n.disabled,null==n.date?null:n.date.month),t(e,3,0,n.disabled,null==n.date?null:n.date.year)})}var De=function(t){return t[t.PREV=0]="PREV",t[t.NEXT=1]="NEXT",t}({}),Ne=function(){return function(t){this.i18n=t,this.navigation=De,this.months=[],this.navigate=new r.EventEmitter,this.select=new r.EventEmitter}}(),Ae=r["\u0275crt"]({encapsulation:0,styles:["[_nghost-%COMP%] {\n      display: -ms-flexbox;\n      display: flex;\n      align-items: center;\n    }\n    .ngb-dp-navigation-chevron[_ngcontent-%COMP%] {\n      border-style: solid;\n      border-width: 0.2em 0.2em 0 0;\n      display: inline-block;\n      width: 0.75em;\n      height: 0.75em;\n      margin-left: 0.25em;\n      margin-right: 0.15em;\n      transform: rotate(-135deg);\n      -ms-transform: rotate(-135deg);\n    }\n    .right[_ngcontent-%COMP%]   .ngb-dp-navigation-chevron[_ngcontent-%COMP%] {\n      -ms-transform: rotate(45deg);\n      transform: rotate(45deg);\n      margin-left: 0.15em;\n      margin-right: 0.25em;\n    }\n    .ngb-dp-arrow[_ngcontent-%COMP%] {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 1 1 auto;\n      flex-grow: 1;\n      padding-right: 0;\n      padding-left: 0;\n      margin: 0;\n      width: 2rem;\n      height: 2rem;\n    }\n    .ngb-dp-arrow.right[_ngcontent-%COMP%] {\n      -ms-flex-pack: end;\n      justify-content: flex-end;\n    }\n    .ngb-dp-arrow-btn[_ngcontent-%COMP%] {\n      padding: 0 0.25rem;\n      margin: 0 0.5rem;\n      border: none;\n      background-color: transparent;\n      z-index: 1;\n    }\n    .ngb-dp-arrow-btn[_ngcontent-%COMP%]:focus {\n      outline: auto 1px;\n    }\n    .ngb-dp-month-name[_ngcontent-%COMP%] {\n      font-size: larger;\n      height: 2rem;\n      line-height: 2rem;\n      text-align: center;\n    }\n    .ngb-dp-navigation-select[_ngcontent-%COMP%] {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 1 1 9rem;\n      flex-grow: 1;\n      flex-basis: 9rem;\n    }"],data:{}});function Re(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"ngb-datepicker-navigation-select",[["class","ngb-dp-navigation-select"]],null,[[null,"select"]],function(t,e,n){var r=!0;return"select"===e&&(r=!1!==t.component.select.emit(n)&&r),r},Oe,Se)),r["\u0275did"](1,49152,null,0,Ce,[we],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],years:[3,"years"]},{select:"select"})],function(t,e){var n=e.component;t(e,1,0,n.date,n.disabled,n.selectBoxes.months,n.selectBoxes.years)},null)}function ke(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function Pe(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function xe(t){return r["\u0275vid"](0,[(t()(),r["\u0275and"](16777216,null,null,1,null,ke)),r["\u0275did"](1,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](2,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(t()(),r["\u0275ted"](3,null,[" "," "," "])),(t()(),r["\u0275and"](16777216,null,null,1,null,Pe)),r["\u0275did"](5,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](0,null,null,0))],function(t,e){var n=e.component;t(e,1,0,e.context.index>0),t(e,5,0,e.context.index!==n.months.length-1)},function(t,e){t(e,3,0,e.component.i18n.getMonthFullName(e.context.$implicit.number),e.context.$implicit.year)})}function Me(t){return r["\u0275vid"](0,[(t()(),r["\u0275and"](16777216,null,null,1,null,xe)),r["\u0275did"](1,278528,null,0,Z.l,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),r["\u0275and"](0,null,null,0))],function(t,e){t(e,1,0,e.component.months)},null)}function $e(t){return r["\u0275vid"](2,[(t()(),r["\u0275eld"](0,0,null,null,2,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,1,"button",[["aria-label","Previous month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Previous month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0,o=t.component;return"click"===e&&(r=0!=!!o.navigate.emit(o.navigation.PREV)&&r),r},null,null)),(t()(),r["\u0275eld"](2,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Re)),r["\u0275did"](4,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,Me)),r["\u0275did"](6,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](7,0,null,null,2,"div",[["class","ngb-dp-arrow right"]],null,null,null,null,null)),(t()(),r["\u0275eld"](8,0,null,null,1,"button",[["aria-label","Next month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Next month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0,o=t.component;return"click"===e&&(r=0!=!!o.navigate.emit(o.navigation.NEXT)&&r),r},null,null)),(t()(),r["\u0275eld"](9,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,4,0,n.showSelect),t(e,6,0,!n.showSelect)},function(t,e){var n=e.component;t(e,1,0,n.prevDisabled),t(e,8,0,n.nextDisabled)})}var Le=function(){function t(t){this.i18n=t,this.select=new r.EventEmitter}return t.prototype.doSelect=function(t){t.context.disabled||t.hidden||this.select.emit(de.from(t.date))},t}(),je=r["\u0275crt"]({encapsulation:0,styles:["[_nghost-%COMP%] {\n      display: block;\n    }\n    .ngb-dp-weekday[_ngcontent-%COMP%], .ngb-dp-week-number[_ngcontent-%COMP%] {\n      line-height: 2rem;\n      text-align: center;\n      font-style: italic;\n    }\n    .ngb-dp-weekday[_ngcontent-%COMP%] {\n      color: #5bc0de;\n      color: var(--info);\n    }\n    .ngb-dp-week[_ngcontent-%COMP%] {\n      border-radius: 0.25rem;\n      display: -ms-flexbox;\n      display: flex;\n    }\n    .ngb-dp-weekdays[_ngcontent-%COMP%] {\n      border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n      border-radius: 0;\n    }\n    .ngb-dp-day[_ngcontent-%COMP%], .ngb-dp-weekday[_ngcontent-%COMP%], .ngb-dp-week-number[_ngcontent-%COMP%] {\n      width: 2rem;\n      height: 2rem;\n    }\n    .ngb-dp-day[_ngcontent-%COMP%] {\n      cursor: pointer;\n    }\n    .ngb-dp-day.disabled[_ngcontent-%COMP%], .ngb-dp-day.hidden[_ngcontent-%COMP%] {\n      cursor: default;\n    }"],data:{}});function Fe(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,"div",[["class","ngb-dp-weekday ngb-dp-showweek"]],null,null,null,null,null))],null,null)}function Ve(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"div",[["class","ngb-dp-weekday small"]],null,null,null,null,null)),(t()(),r["\u0275ted"](1,null,[" "," "]))],null,function(t,e){t(e,1,0,e.component.i18n.getWeekdayShortName(e.context.$implicit))})}function Ue(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,4,"div",[["class","ngb-dp-week ngb-dp-weekdays bg-light"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Fe)),r["\u0275did"](2,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,Ve)),r["\u0275did"](4,278528,null,0,Z.l,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.showWeekNumbers),t(e,4,0,n.month.weekdays)},null)}function Be(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"div",[["class","ngb-dp-week-number small text-muted"]],null,null,null,null,null)),(t()(),r["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,1,0,e.parent.parent.context.$implicit.number)})}function qe(t){return r["\u0275vid"](0,[(t()(),r["\u0275and"](0,null,null,0))],null,null)}function He(t){return r["\u0275vid"](0,[(t()(),r["\u0275and"](16777216,null,null,1,null,qe)),r["\u0275did"](1,540672,null,0,Z.p,[r.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(t()(),r["\u0275and"](0,null,null,0))],function(t,e){t(e,1,0,e.parent.context.$implicit.context,e.component.dayTemplate)},null)}function We(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,2,"div",[["class","ngb-dp-day"],["role","gridcell"]],[[2,"disabled",null],[8,"tabIndex",0],[2,"hidden",null],[1,"aria-label",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doSelect(t.context.$implicit)&&r),r},null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,He)),r["\u0275did"](2,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,!e.context.$implicit.hidden)},function(t,e){t(e,0,0,e.context.$implicit.context.disabled,e.context.$implicit.tabindex,e.context.$implicit.hidden,e.context.$implicit.ariaLabel)})}function Ge(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,4,"div",[["class","ngb-dp-week"],["role","row"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Be)),r["\u0275did"](2,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,We)),r["\u0275did"](4,278528,null,0,Z.l,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.showWeekNumbers),t(e,4,0,e.parent.context.$implicit.days)},null)}function Ke(t){return r["\u0275vid"](0,[(t()(),r["\u0275and"](16777216,null,null,1,null,Ge)),r["\u0275did"](1,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](0,null,null,0))],function(t,e){t(e,1,0,!e.context.$implicit.collapsed)},null)}function Qe(t){return r["\u0275vid"](0,[(t()(),r["\u0275and"](16777216,null,null,1,null,Ue)),r["\u0275did"](1,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,Ke)),r["\u0275did"](3,278528,null,0,Z.l,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.showWeekdays),t(e,3,0,n.month.weeks)},null)}var ze=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Ye(t){return new de(t.getFullYear(),t.getMonth()+1,t.getDate())}function Xe(t){var e=new Date(t.year,t.month-1,t.day,12);return isNaN(e.getTime())||e.setFullYear(t.year),e}var Ze=function(){},Je=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ze(e,t),e.prototype.getDaysPerWeek=function(){return 7},e.prototype.getMonths=function(){return[1,2,3,4,5,6,7,8,9,10,11,12]},e.prototype.getWeeksPerMonth=function(){return 6},e.prototype.getNext=function(t,e,n){void 0===e&&(e="d"),void 0===n&&(n=1);var r=Xe(t);switch(e){case"y":return new de(t.year+n,1,1);case"m":r=new Date(t.year,t.month+n-1,1,12);break;case"d":r.setDate(r.getDate()+n);break;default:return t}return Ye(r)},e.prototype.getPrev=function(t,e,n){return void 0===e&&(e="d"),void 0===n&&(n=1),this.getNext(t,e,-n)},e.prototype.getWeekday=function(t){var e=Xe(t).getDay();return 0===e?7:e},e.prototype.getWeekNumber=function(t,e){7===e&&(e=0);var n=Xe(t[(11-e)%7]);n.setDate(n.getDate()+4-(n.getDay()||7));var r=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((r-n.getTime())/864e5)/7)+1},e.prototype.getToday=function(){return Ye(new Date)},e.prototype.isValid=function(t){if(!(t&&ye(t.year)&&ye(t.month)&&ye(t.day)))return!1;var e=Xe(t);return!isNaN(e.getTime())&&e.getFullYear()===t.year&&e.getMonth()+1===t.month&&e.getDate()===t.day},e}(Ze),tn=n("K9Ia");function en(t,e){return!function(t,e){return!t&&!e||!!t&&!!e&&t.equals(e)}(t,e)}function nn(t,e,n){return t&&e&&t.before(e)?de.from(e):t&&n&&t.after(n)?de.from(n):t}function rn(t,e){var n=e.minDate,r=e.maxDate,o=e.disabled,i=e.markDisabled;return!(!ge(t)||o||i&&i(t,{year:t.year,month:t.month})||n&&t.before(n)||r&&t.after(r))}var on=function(){function t(t,e){this._calendar=t,this._i18n=e,this._model$=new tn.a,this._select$=new tn.a,this._state={disabled:!1,displayMonths:1,firstDayOfWeek:1,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectBoxes:{years:[],months:[]},selectedDate:null}}return Object.defineProperty(t.prototype,"model$",{get:function(){return this._model$.pipe(nt(function(t){return t.months.length>0}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"select$",{get:function(){return this._select$.pipe(nt(function(t){return null!==t}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{set:function(t){this._state.disabled!==t&&this._nextState({disabled:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMonths",{set:function(t){ye(t=fe(t))&&t>0&&this._state.displayMonths!==t&&this._nextState({displayMonths:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{set:function(t){ye(t=fe(t))&&t>=0&&this._state.firstDayOfWeek!==t&&this._nextState({firstDayOfWeek:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusVisible",{set:function(t){this._state.focusVisible===t||this._state.disabled||this._nextState({focusVisible:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{set:function(t){var e=this.toValidDate(t,null);en(this._state.maxDate,e)&&this._nextState({maxDate:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markDisabled",{set:function(t){this._state.markDisabled!==t&&this._nextState({markDisabled:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDate",{set:function(t){var e=this.toValidDate(t,null);en(this._state.minDate,e)&&this._nextState({minDate:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"navigation",{set:function(t){this._state.navigation!==t&&this._nextState({navigation:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outsideDays",{set:function(t){this._state.outsideDays!==t&&this._nextState({outsideDays:t})},enumerable:!0,configurable:!0}),t.prototype.focus=function(t){!this._state.disabled&&this._calendar.isValid(t)&&en(this._state.focusDate,t)&&this._nextState({focusDate:t})},t.prototype.focusMove=function(t,e){this.focus(this._calendar.getNext(this._state.focusDate,t,e))},t.prototype.focusSelect=function(){rn(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})},t.prototype.open=function(t){var e=this.toValidDate(t,this._calendar.getToday());this._state.disabled||this._nextState({firstDate:e})},t.prototype.select=function(t,e){void 0===e&&(e={});var n=this.toValidDate(t,null);this._state.disabled||(en(this._state.selectedDate,n)&&this._nextState({selectedDate:n}),e.emitEvent&&rn(n,this._state)&&this._select$.next(n))},t.prototype.toValidDate=function(t,e){var n=de.from(t);return void 0===e&&(e=this._calendar.getToday()),this._calendar.isValid(n)?n:e},t.prototype._nextState=function(t){var e=this._updateState(t);this._patchContexts(e),this._state=e,this._model$.next(this._state)},t.prototype._patchContexts=function(t){var e=t.months,n=t.displayMonths,r=t.selectedDate,o=t.focusDate,i=t.focusVisible,a=t.disabled,s=t.outsideDays;t.months.forEach(function(t){t.weeks.forEach(function(u){u.days.forEach(function(u){o&&(u.context.focused=o.equals(u.date)&&i),u.tabindex=!a&&u.date.equals(o)&&o.month===t.number?0:-1,!0===a&&(u.context.disabled=!0),void 0!==r&&(u.context.selected=null!==r&&r.equals(u.date)),t.number!==u.date.month&&(u.hidden="hidden"===s||"collapsed"===s||n>1&&u.date.after(e[0].firstDate)&&u.date.before(e[n-1].lastDate))})})})},t.prototype._updateState=function(t){var e,n,r=Object.assign({},this._state,t),o=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function(t,e){if(e&&t&&e.before(t))throw new Error("'maxDate' "+e+" should be greater than 'minDate' "+t)}(r.minDate,r.maxDate),r.focusDate=nn(r.focusDate,r.minDate,r.maxDate),r.firstDate=nn(r.firstDate,r.minDate,r.maxDate),o=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(o=r.selectedDate),"focusDate"in t&&(r.focusDate=nn(r.focusDate,r.minDate,r.maxDate),o=r.focusDate,0!==r.months.length&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=nn(r.firstDate,r.minDate,r.maxDate),o=r.firstDate),o){var i=function(t,e,n,r,o){var i=n.displayMonths,a=n.months,s=a.splice(0,a.length);return Array.from({length:i},function(n,r){var i=t.getNext(e,"m",r);if(a[r]=null,!o){var u=s.findIndex(function(t){return t.firstDate.equals(i)});-1!==u&&(a[r]=s.splice(u,1)[0])}return i}).forEach(function(e,o){null===a[o]&&(a[o]=function(t,e,n,r,o){void 0===o&&(o={});var i=n.minDate,a=n.maxDate,s=n.firstDayOfWeek,u=n.markDisabled,c=n.outsideDays;o.firstDate=null,o.lastDate=null,o.number=e.month,o.year=e.year,o.weeks=o.weeks||[],o.weekdays=o.weekdays||[],e=function(t,e,n){var r=t.getDaysPerWeek(),o=new de(e.year,e.month,1),i=t.getWeekday(o)%r;return t.getPrev(o,"d",(r+i-n)%r)}(t,e,s);for(var l=0;l<t.getWeeksPerMonth();l++){var h=o.weeks[l];h||(h=o.weeks[l]={number:0,days:[],collapsed:!0});for(var d=h.days,f=0;f<t.getDaysPerWeek();f++){0===l&&(o.weekdays[f]=t.getWeekday(e));var p=new de(e.year,e.month,e.day),v=t.getNext(p),y=r.getDayAriaLabel(p),g=!!(i&&p.before(i)||a&&p.after(a));!g&&u&&(g=u(p,{month:o.number,year:o.year})),null===o.firstDate&&p.month===o.number&&(o.firstDate=p),p.month===o.number&&v.month!==o.number&&(o.lastDate=p);var m=d[f];m||(m=d[f]={}),m.date=p,m.context=Object.assign(m.context||{},{date:{year:p.year,month:p.month,day:p.day},currentMonth:o.number,disabled:g,focused:!1,selected:!1}),m.tabindex=-1,m.ariaLabel=y,m.hidden=!1,e=v}h.number=t.getWeekNumber(d.map(function(t){return de.from(t.date)}),s),h.collapsed="collapsed"===c&&d[0].date.month!==o.number&&d[d.length-1].date.month!==o.number}return o}(t,e,n,r,s.shift()||{}))}),a}(this._calendar,o,r,this._i18n,"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t);r.months=i,r.firstDate=i.length>0?i[0].firstDate:void 0,r.lastDate=i.length>0?i[i.length-1].lastDate:void 0,"selectedDate"in t&&!rn(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(void 0===r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=o);var a=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,s=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||a)&&(r.selectBoxes.years=function(t,e,n){if(!t)return[];var r=e&&e.year||t.year-10;return Array.from({length:(n&&n.year||t.year+10)-r+1},function(t,e){return r+e})}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||a)&&(r.selectBoxes.months=function(t,e,n,r){if(!e)return[];var o=t.getMonths();if(n&&e.year===n.year){var i=o.findIndex(function(t){return t===n.month});o=o.slice(i)}return r&&e.year===r.year&&(i=o.findIndex(function(t){return t===r.month}),o=o.slice(0,i+1)),o}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},"arrows"!==r.navigation&&"select"!==r.navigation||!(s||a||"minDate"in t||"maxDate"in t||"disabled"in t)||(r.prevDisabled=r.disabled||(e=r.minDate,n=this._calendar.getPrev(r.firstDate,"m"),e&&(n.year===e.year&&n.month<e.month||n.year<e.year&&1===e.month)),r.nextDisabled=r.disabled||function(t,e,n){return n&&t.getNext(r.lastDate,"m").after(n)}(this._calendar,0,r.maxDate))}return r},t}(),an=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({}),sn=function(){function t(t,e){var n=this;this._service=t,this._calendar=e,t.model$.subscribe(function(t){n._minDate=t.minDate,n._maxDate=t.maxDate,n._firstViewDate=t.firstDate,n._lastViewDate=t.lastDate})}return t.prototype.processKey=function(t){if(an[pe(t.which)]){switch(t.which){case an.PageUp:this._service.focusMove(t.shiftKey?"y":"m",-1);break;case an.PageDown:this._service.focusMove(t.shiftKey?"y":"m",1);break;case an.End:this._service.focus(t.shiftKey?this._maxDate:this._lastViewDate);break;case an.Home:this._service.focus(t.shiftKey?this._minDate:this._firstViewDate);break;case an.ArrowLeft:this._service.focusMove("d",-1);break;case an.ArrowUp:this._service.focusMove("d",-this._calendar.getDaysPerWeek());break;case an.ArrowRight:this._service.focusMove("d",1);break;case an.ArrowDown:this._service.focusMove("d",this._calendar.getDaysPerWeek());break;case an.Enter:case an.Space:this._service.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}},t}(),un=function(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1},cn=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ln=function(){},hn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cn(e,t),e.prototype.fromModel=function(t){return t&&t.year&&t.month&&t.day?{year:t.year,month:t.month,day:t.day}:null},e.prototype.toModel=function(t){return t&&t.year&&t.month&&t.day?{year:t.year,month:t.month,day:t.day}:null},e}(ln),dn=(Object(r.forwardRef)(function(){return dn}),function(){function t(t,e,n,o,i,a,s,u,c){var l=this;this._keyMapService=t,this._service=e,this._calendar=n,this.i18n=o,this._cd=a,this._elementRef=s,this._ngbDateAdapter=u,this._ngZone=c,this.navigate=new r.EventEmitter,this.select=new r.EventEmitter,this.onChange=function(t){},this.onTouched=function(){},["dayTemplate","displayMonths","firstDayOfWeek","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach(function(t){return l[t]=i[t]}),this._selectSubscription=e.select$.subscribe(function(t){l.select.emit(t.toStruct())}),this._subscription=e.model$.subscribe(function(t){var e=t.firstDate,n=l.model?l.model.firstDate:null,r=t.selectedDate,o=l.model?l.model.selectedDate:null,i=t.focusDate,s=l.model?l.model.focusDate:null;l.model=t,en(r,o)&&(l.onTouched(),l.onChange(l._ngbDateAdapter.toModel(r))),en(i,s)&&s&&t.focusVisible&&l.focus(),e.equals(n)||l.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:e.year,month:e.month}}),a.markForCheck()})}return t.prototype.focus=function(){var t=this;this._ngZone.onStable.asObservable().pipe(at(1)).subscribe(function(){var e=t._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()})},t.prototype.navigateTo=function(t){this._service.open(de.from(t))},t.prototype.ngOnDestroy=function(){this._subscription.unsubscribe(),this._selectSubscription.unsubscribe()},t.prototype.ngOnInit=function(){var t=this;void 0===this.model&&(["displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach(function(e){return t._service[e]=t[e]}),this.navigateTo(this.startDate))},t.prototype.ngOnChanges=function(t){var e=this;["displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter(function(e){return e in t}).forEach(function(t){return e._service[t]=e[t]}),"startDate"in t&&this.navigateTo(this.startDate)},t.prototype.onDateSelect=function(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})},t.prototype.onKeyDown=function(t){this._keyMapService.processKey(t)},t.prototype.onNavigateDateSelect=function(t){this._service.open(t)},t.prototype.onNavigateEvent=function(t){switch(t){case De.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case De.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._service.disabled=t},t.prototype.showFocus=function(t){this._service.focusVisible=t},t.prototype.writeValue=function(t){this._service.select(de.from(this._ngbDateAdapter.fromModel(t)))},t}()),fn=r["\u0275crt"]({encapsulation:0,styles:["[_nghost-%COMP%] {\n      border: 1px solid #dfdfdf;\n      border-radius: 0.25rem;\n      display: inline-block;\n    }\n    .ngb-dp-month[_ngcontent-%COMP%] {\n      pointer-events: none;\n    }\n    .ngb-dp-header[_ngcontent-%COMP%] {\n      border-bottom: 0;\n      border-radius: 0.25rem 0.25rem 0 0;\n      padding-top: 0.25rem;\n    }\n    ngb-datepicker-month-view[_ngcontent-%COMP%] {\n      pointer-events: auto;\n    }\n    .ngb-dp-month-name[_ngcontent-%COMP%] {\n      font-size: larger;\n      height: 2rem;\n      line-height: 2rem;\n      text-align: center;\n    }\n      .ngb-dp-month + .ngb-dp-month > ngb-datepicker-month-view > .ngb-dp-week {\n      padding-left: 1rem;\n    }\n      .ngb-dp-month + .ngb-dp-month > .ngb-dp-month-name {\n      padding-left: 1rem;\n    }\n      .ngb-dp-month:last-child .ngb-dp-week {\n      padding-right: .25rem;\n    }\n      .ngb-dp-month:first-child .ngb-dp-week {\n      padding-left: .25rem;\n    }\n      .ngb-dp-month > ngb-datepicker-month-view > .ngb-dp-week:last-child {\n      padding-bottom: .25rem;\n    }\n    .ngb-dp-months[_ngcontent-%COMP%] {\n      display: -ms-flexbox;\n      display: flex;\n    }"],data:{}});function pn(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"div",[["class","btn-light"],["ngbDatepickerDayView",""]],[[2,"bg-primary",null],[2,"text-white",null],[2,"text-muted",null],[2,"outside",null],[2,"active",null]],null,null,le,ce)),r["\u0275did"](1,49152,null,0,ue,[],{currentMonth:[0,"currentMonth"],date:[1,"date"],disabled:[2,"disabled"],focused:[3,"focused"],selected:[4,"selected"]},null)],function(t,e){t(e,1,0,e.context.currentMonth,e.context.date,e.context.disabled,e.context.focused,e.context.selected)},function(t,e){t(e,0,0,r["\u0275nov"](e,1).selected,r["\u0275nov"](e,1).selected,r["\u0275nov"](e,1).isMuted(),r["\u0275nov"](e,1).isMuted(),r["\u0275nov"](e,1).focused)})}function vn(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"ngb-datepicker-navigation",[],null,[[null,"navigate"],[null,"select"]],function(t,e,n){var r=!0,o=t.component;return"navigate"===e&&(r=!1!==o.onNavigateEvent(n)&&r),"select"===e&&(r=!1!==o.onNavigateDateSelect(n)&&r),r},$e,Ae)),r["\u0275did"](1,49152,null,0,Ne,[we],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],showSelect:[3,"showSelect"],prevDisabled:[4,"prevDisabled"],nextDisabled:[5,"nextDisabled"],selectBoxes:[6,"selectBoxes"]},{navigate:"navigate",select:"select"})],function(t,e){var n=e.component;t(e,1,0,n.model.firstDate,n.model.disabled,n.model.months,"select"===n.model.navigation,n.model.prevDisabled,n.model.nextDisabled,n.model.selectBoxes)},null)}function yn(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"div",[["class","ngb-dp-month-name bg-light"]],null,null,null,null,null)),(t()(),r["\u0275ted"](1,null,[" "," "," "]))],null,function(t,e){t(e,1,0,e.component.i18n.getMonthFullName(e.parent.context.$implicit.number),e.parent.context.$implicit.year)})}function gn(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,4,"div",[["class","ngb-dp-month"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,yn)),r["\u0275did"](2,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](3,0,null,null,1,"ngb-datepicker-month-view",[["role","grid"]],null,[[null,"select"]],function(t,e,n){var r=!0;return"select"===e&&(r=!1!==t.component.onDateSelect(n)&&r),r},Qe,je)),r["\u0275did"](4,49152,null,0,Le,[we],{dayTemplate:[0,"dayTemplate"],month:[1,"month"],showWeekdays:[2,"showWeekdays"],showWeekNumbers:[3,"showWeekNumbers"]},{select:"select"})],function(t,e){var n=e.component;t(e,2,0,"none"===n.navigation||n.displayMonths>1&&"select"===n.navigation),t(e,4,0,n.dayTemplate||r["\u0275nov"](e.parent,0),e.context.$implicit,n.showWeekdays,n.showWeekNumbers)},null)}function mn(t){return r["\u0275vid"](2,[(t()(),r["\u0275and"](0,[["dt",2]],null,0,null,pn)),(t()(),r["\u0275eld"](1,0,null,null,2,"div",[["class","ngb-dp-header bg-light"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,vn)),r["\u0275did"](3,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](4,0,null,null,2,"div",[["class","ngb-dp-months"]],null,[[null,"keydown"],[null,"focusin"],[null,"focusout"]],function(t,e,n){var r=!0,o=t.component;return"keydown"===e&&(r=!1!==o.onKeyDown(n)&&r),"focusin"===e&&(r=!1!==o.showFocus(!0)&&r),"focusout"===e&&(r=!1!==o.showFocus(!1)&&r),r},null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,gn)),r["\u0275did"](6,278528,null,0,Z.l,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,3,0,"none"!==n.navigation),t(e,6,0,n.model.months)},null)}var bn=r["\u0275ccf"]("ngb-datepicker",dn,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,4,"ngb-datepicker",[],null,null,null,mn,fn)),r["\u0275prd"](5120,null,he.NG_VALUE_ACCESSOR,function(t){return[t]},[dn]),r["\u0275prd"](512,null,on,on,[Ze,we]),r["\u0275prd"](512,null,sn,sn,[on,Ze]),r["\u0275did"](4,770048,null,0,dn,[sn,on,Ze,we,un,r.ChangeDetectorRef,r.ElementRef,ln,r.NgZone],null,null)],function(t,e){t(e,4,0)},null)},{dayTemplate:"dayTemplate",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},{navigate:"navigate",select:"select"},[]),_n=function(){},wn=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function En(t){return r["\u0275vid"](0,[],null,null)}var Cn=r["\u0275ccf"]("ngb-modal-backdrop",_n,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"ngb-modal-backdrop",[],[[8,"className",0]],null,null,En,wn)),r["\u0275did"](1,49152,null,0,_n,[],null,null)],null,function(t,e){t(e,0,0,"modal-backdrop fade show"+(r["\u0275nov"](e,1).backdropClass?" "+r["\u0275nov"](e,1).backdropClass:""))})},{backdropClass:"backdropClass"},{},[]),Sn=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({}),Tn=n("isby");function In(t,e,n,r){return Object(ft.a)(n)&&(r=n,n=void 0),r?In(t,e,n).pipe(Object(c.a)(function(t){return Object(Tn.a)(t)?r.apply(void 0,t):r(t)})):new u.a(function(r){!function t(e,n,r,o,i){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,r,i),a=function(){return s.removeEventListener(n,r,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),a=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,r),a=function(){return c.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,h=e.length;l<h;l++)t(e[l],n,r,o,i)}o.add(a)}(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function On(t){return function(e){return e.lift(new Dn(t))}}Object;var Dn=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new Nn(t),r=Object(D.a)(n,this.notifier);return r&&!r.closed?(n.add(r),e.subscribe(n)):n},t}(),Nn=function(t){function e(e){return t.call(this,e)||this}return l.b(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.complete()},e.prototype.notifyComplete=function(){},e}(O.a),An=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", "),Rn=function(t,e){var n=In(t,"focusin").pipe(On(e),Object(c.a)(function(t){return t.target}));In(t,"keydown").pipe(On(e),nt(function(t){return t.which===an.Tab}),W(n)).subscribe(function(e){var n=e[0],r=e[1],o=function(t){var e=t.querySelectorAll(An);return[e[0],e[e.length-1]]}(t),i=o[0],a=o[1];r===i&&n.shiftKey&&(a.focus(),n.preventDefault()),r!==a||n.shiftKey||(i.focus(),n.preventDefault())}),In(t,"click").pipe(On(e),W(n),Object(c.a)(function(t){return t[1]})).subscribe(function(t){return t.focus()})},kn=function(){function t(t,e,n){this._elRef=e,this._renderer=n,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.EventEmitter,this._document=t,Rn(this._elRef.nativeElement,this.dismissEvent)}return t.prototype.backdropClick=function(t){!0===this.backdrop&&this._elRef.nativeElement===t.target&&this.dismiss(Sn.BACKDROP_CLICK)},t.prototype.escKey=function(t){this.keyboard&&!t.defaultPrevented&&this.dismiss(Sn.ESC)},t.prototype.dismiss=function(t){this.dismissEvent.emit(t)},t.prototype.ngOnInit=function(){this._elWithFocus=this._document.activeElement,this._renderer.addClass(this._document.body,"modal-open")},t.prototype.ngAfterViewInit=function(){this._elRef.nativeElement.contains(document.activeElement)||this._elRef.nativeElement.focus.apply(this._elRef.nativeElement,[])},t.prototype.ngOnDestroy=function(){var t,e=this._document.body,n=this._elWithFocus;(t=n&&n.focus&&e.contains(n)?n:e).focus.apply(t,[]),this._elWithFocus=null,this._renderer.removeClass(e,"modal-open")},t}(),Pn=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function xn(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,2,"div",[["role","document"]],[[8,"className",0]],null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,1,"div",[["class","modal-content"]],null,null,null,null,null)),r["\u0275ncd"](null,0)],null,function(t,e){var n=e.component;t(e,0,0,"modal-dialog"+(n.size?" modal-"+n.size:"")+(n.centered?" modal-dialog-centered":""))})}var Mn=r["\u0275ccf"]("ngb-modal-window",kn,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"ngb-modal-window",[["role","dialog"],["tabindex","-1"]],[[8,"className",0],[1,"aria-labelledby",0]],[[null,"keyup.esc"],[null,"click"]],function(t,e,n){var o=!0;return"keyup.esc"===e&&(o=!1!==r["\u0275nov"](t,1).escKey(n)&&o),"click"===e&&(o=!1!==r["\u0275nov"](t,1).backdropClick(n)&&o),o},xn,Pn)),r["\u0275did"](1,4440064,null,0,kn,[Z.e,r.ElementRef,r.Renderer2],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,"modal fade show d-block"+(r["\u0275nov"](e,1).windowClass?" "+r["\u0275nov"](e,1).windowClass:""),r["\u0275nov"](e,1).ariaLabelledBy)})},{ariaLabelledBy:"ariaLabelledBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",size:"size",windowClass:"windowClass"},{dismissEvent:"dismiss"},["*"]),$n=new(function(){function t(){}return t.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},t.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},t.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},t.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t.prototype.position=function(t,e){var n;void 0===e&&(e=!0);var r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect();else{var o=this.offsetParent(t);n=this.offset(t,!1),o!==document.documentElement&&(r=this.offset(o,!1)),r.top+=o.clientTop,r.left+=o.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},t.prototype.offset=function(t,e){void 0===e&&(e=!0);var n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,o=window.pageXOffset-document.documentElement.clientLeft,i={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+o,right:n.right+o};return e&&(i.height=Math.round(i.height),i.width=Math.round(i.width),i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},t.prototype.positionElements=function(t,e,n,r){var o=r?this.offset(t,!1):this.position(t,!1),i=this.getAllStyles(e),a=e.getBoundingClientRect(),s=n.split("-")[0]||"top",u=n.split("-")[1]||"center",c={height:a.height||e.offsetHeight,width:a.width||e.offsetWidth,top:0,bottom:a.height||e.offsetHeight,left:0,right:a.width||e.offsetWidth};switch(s){case"top":c.top=o.top-(e.offsetHeight+parseFloat(i.marginBottom));break;case"bottom":c.top=o.top+o.height;break;case"left":c.left=o.left-(e.offsetWidth+parseFloat(i.marginRight));break;case"right":c.left=o.left+o.width}switch(u){case"top":c.top=o.top;break;case"bottom":c.top=o.top+o.height-e.offsetHeight;break;case"left":c.left=o.left;break;case"right":c.left=o.left+o.width-e.offsetWidth;break;case"center":"top"===s||"bottom"===s?c.left=o.left+o.width/2-e.offsetWidth/2:c.top=o.top+o.height/2-e.offsetHeight/2}return c.top=Math.round(c.top),c.bottom=Math.round(c.bottom),c.left=Math.round(c.left),c.right=Math.round(c.right),c},t.prototype.getAvailablePlacements=function(t,e){var n=[],r=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=document.documentElement,a=window.innerHeight||i.clientHeight,s=window.innerWidth||i.clientWidth,u=r.left+r.width/2,c=r.top+r.height/2;return o.width<r.left&&(c>o.height/2&&a-c>o.height/2&&n.splice(n.length,1,"left"),this.setSecondaryPlacementForLeftRight(r,o,"left",n)),o.height<r.top&&(u>o.width/2&&s-u>o.width/2&&n.splice(n.length,1,"top"),this.setSecondaryPlacementForTopBottom(r,o,"top",n)),s-r.right>o.width&&(c>o.height/2&&a-c>o.height/2&&n.splice(n.length,1,"right"),this.setSecondaryPlacementForLeftRight(r,o,"right",n)),a-r.bottom>o.height&&(u>o.width/2&&s-u>o.width/2&&n.splice(n.length,1,"bottom"),this.setSecondaryPlacementForTopBottom(r,o,"bottom",n)),n},t.prototype.setSecondaryPlacementForLeftRight=function(t,e,n,r){var o=document.documentElement;e.height<=t.bottom&&r.splice(r.length,1,n+"-bottom"),(window.innerHeight||o.clientHeight)-t.top>=e.height&&r.splice(r.length,1,n+"-top")},t.prototype.setSecondaryPlacementForTopBottom=function(t,e,n,r){var o=document.documentElement;(window.innerWidth||o.clientWidth)-t.left>=e.width&&r.splice(r.length,1,n+"-left"),e.width<=t.right&&r.splice(r.length,1,n+"-right")},t}());function Ln(t,e,n,r){var o=Array.isArray(n)?n:[n],i=o.findIndex(function(t){return"auto"===t});i>=0&&["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].forEach(function(t){null==o.find(function(e){return-1!==e.search("^"+t)})&&o.splice(i++,1,t)});for(var a,s=0,u=0,c=$n.getAvailablePlacements(t,e),l=function(n,i){if(null!=c.find(function(t){return t===n})||o.length===i+1){a=n;var l=$n.positionElements(t,e,n,r);return s=l.top,u=l.left,"break"}},h=0,d=o.map(function(t,e){return{item:t,index:e}});h<d.length;h++){var f=d[h];if("break"===l(f.item,f.index))break}return e.style.top=s+"px",e.style.left=u+"px",a}var jn=function(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n},Fn=function(){function t(t,e,n,r,o){this._type=t,this._injector=e,this._viewContainerRef=n,this._renderer=r,this._componentFactoryResolver=o}return t.prototype.open=function(t,e){return this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),0,this._injector,this._contentRef.nodes)),this._windowRef},t.prototype.close=function(){this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null,this._contentRef.viewRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef=null))},t.prototype._getContentRef=function(t,e){if(t){if(t instanceof r.TemplateRef){var n=this._viewContainerRef.createEmbeddedView(t,e);return new jn([n.rootNodes],n)}return new jn([[this._renderer.createText(""+t)]])}return new jn([])},t}(),Vn=function(){this.placement="top",this.triggers="click",this.disablePopover=!1},Un=function(){function t(t,e){this._element=t,this._renderer=e,this.placement="top"}return t.prototype.applyPlacement=function(t){this._renderer.removeClass(this._element.nativeElement,"bs-popover-"+this.placement.toString().split("-")[0]),this._renderer.removeClass(this._element.nativeElement,"bs-popover-"+this.placement.toString()),this.placement=t,this._renderer.addClass(this._element.nativeElement,"bs-popover-"+this.placement.toString().split("-")[0]),this._renderer.addClass(this._element.nativeElement,"bs-popover-"+this.placement.toString())},t}(),Bn=r["\u0275crt"]({encapsulation:0,styles:[".bs-popover-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: 50%;\n      margin-left: -5px;\n    }\n\n    .bs-popover-top-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-bottom-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: 2em;\n    }\n\n    .bs-popover-top-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-bottom-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: auto;\n      right: 2em;\n    }\n\n    .bs-popover-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: 50%;\n      margin-top: -5px;\n    }\n\n    .bs-popover-left-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-right-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: 0.7em;\n    }\n\n    .bs-popover-left-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-right-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: auto;\n      bottom: 0.7em;\n    }"],data:{}});function qn(t){return r["\u0275vid"](2,[(t()(),r["\u0275eld"](0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,1,"h3",[["class","popover-header"]],null,null,null,null,null)),(t()(),r["\u0275ted"](2,null,["",""])),(t()(),r["\u0275eld"](3,0,null,null,1,"div",[["class","popover-body"]],null,null,null,null,null)),r["\u0275ncd"](null,0)],null,function(t,e){t(e,2,0,e.component.title)})}var Hn=r["\u0275ccf"]("ngb-popover-window",Un,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"ngb-popover-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,qn,Bn)),r["\u0275did"](1,49152,null,0,Un,[r.ElementRef,r.Renderer2],null,null)],null,function(t,e){t(e,0,0,"popover bs-popover-"+r["\u0275nov"](e,1).placement.split("-")[0]+" bs-popover-"+r["\u0275nov"](e,1).placement+(r["\u0275nov"](e,1).popoverClass?" "+r["\u0275nov"](e,1).popoverClass:""),r["\u0275nov"](e,1).id)})},{placement:"placement",title:"title",id:"id",popoverClass:"popoverClass"},{},["*"]),Wn=function(){this.placement="top",this.triggers="hover",this.disableTooltip=!1},Gn=function(){function t(t,e){this._element=t,this._renderer=e,this.placement="top"}return t.prototype.applyPlacement=function(t){this._renderer.removeClass(this._element.nativeElement,"bs-tooltip-"+this.placement.toString().split("-")[0]),this._renderer.removeClass(this._element.nativeElement,"bs-tooltip-"+this.placement.toString()),this.placement=t,this._renderer.addClass(this._element.nativeElement,"bs-tooltip-"+this.placement.toString().split("-")[0]),this._renderer.addClass(this._element.nativeElement,"bs-tooltip-"+this.placement.toString())},t}(),Kn=r["\u0275crt"]({encapsulation:0,styles:[".bs-tooltip-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: calc(50% - 0.4rem);\n    }\n\n    .bs-tooltip-top-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-bottom-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: 1em;\n    }\n\n    .bs-tooltip-top-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-bottom-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: auto;\n      right: 0.8rem;\n    }\n\n    .bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: calc(50% - 0.4rem);\n    }\n\n    .bs-tooltip-left-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-right-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: 0.4rem;\n    }\n\n    .bs-tooltip-left-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-right-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: auto;\n      bottom: 0.4rem;\n    }"],data:{}});function Qn(t){return r["\u0275vid"](2,[(t()(),r["\u0275eld"](0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,1,"div",[["class","tooltip-inner"]],null,null,null,null,null)),r["\u0275ncd"](null,0)],null,null)}var zn=r["\u0275ccf"]("ngb-tooltip-window",Gn,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"ngb-tooltip-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,Qn,Kn)),r["\u0275did"](1,49152,null,0,Gn,[r.ElementRef,r.Renderer2],null,null)],null,function(t,e){t(e,0,0,"tooltip show bs-tooltip-"+r["\u0275nov"](e,1).placement.split("-")[0]+" bs-tooltip-"+r["\u0275nov"](e,1).placement,r["\u0275nov"](e,1).id)})},{placement:"placement",id:"id"},{},["*"]),Yn=function(){function t(){this.highlightClass="ngb-highlight"}return t.prototype.ngOnChanges=function(t){var e,n=pe(this.result),r=n.toLowerCase(),o=pe(this.term).toLowerCase(),i=0;this.parts=o.length>0?r.split(new RegExp("("+(e=o,e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))+")")).map(function(t){var e=n.substr(i,t.length);return i+=t.length,e}):[n]},t}(),Xn=r["\u0275crt"]({encapsulation:0,styles:[".ngb-highlight[_ngcontent-%COMP%] {\n      font-weight: bold;\n    }"],data:{}});function Zn(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(t()(),r["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,0,0,r["\u0275inlineInterpolate"](1,"",e.component.highlightClass,"")),t(e,1,0,e.parent.context.$implicit)})}function Jn(t){return r["\u0275vid"](0,[(t()(),r["\u0275ted"](0,null,["",""]))],null,function(t,e){t(e,0,0,e.parent.context.$implicit)})}function tr(t){return r["\u0275vid"](0,[(t()(),r["\u0275and"](16777216,null,null,1,null,Zn)),r["\u0275did"](1,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,Jn)),r["\u0275did"](3,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](0,null,null,0))],function(t,e){t(e,1,0,e.context.odd),t(e,3,0,!e.context.odd)},null)}function er(t){return r["\u0275vid"](2,[(t()(),r["\u0275and"](16777216,null,null,1,null,tr)),r["\u0275did"](1,278528,null,0,Z.l,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,1,0,e.component.parts)},null)}var nr=function(){function t(){this.activeIdx=0,this.focusFirst=!0,this.formatter=pe,this.selectEvent=new r.EventEmitter,this.activeChangeEvent=new r.EventEmitter}return t.prototype.hasActive=function(){return this.activeIdx>-1&&this.activeIdx<this.results.length},t.prototype.getActive=function(){return this.results[this.activeIdx]},t.prototype.markActive=function(t){this.activeIdx=t,this._activeChanged()},t.prototype.next=function(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()},t.prototype.prev=function(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()},t.prototype.resetActive=function(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()},t.prototype.select=function(t){this.selectEvent.emit(t)},t.prototype.ngOnInit=function(){this.resetActive()},t.prototype._activeChanged=function(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)},t}(),rr=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function or(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"ngb-highlight",[],null,null,null,er,Xn)),r["\u0275did"](1,573440,null,0,Yn,[],{result:[0,"result"],term:[1,"term"]},null)],function(t,e){t(e,1,0,e.context.formatter(e.context.result),e.context.term)},null)}function ir(t){return r["\u0275vid"](0,[(t()(),r["\u0275and"](0,null,null,0))],null,null)}function ar(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,3,"button",[["class","dropdown-item"],["role","option"],["type","button"]],[[8,"id",0],[2,"active",null]],[[null,"mouseenter"],[null,"click"]],function(t,e,n){var r=!0,o=t.component;return"mouseenter"===e&&(r=!1!==o.markActive(t.context.index)&&r),"click"===e&&(r=!1!==o.select(t.context.$implicit)&&r),r},null,null)),(t()(),r["\u0275and"](16777216,null,null,2,null,ir)),r["\u0275did"](2,540672,null,0,Z.p,[r.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),r["\u0275pod"](3,{result:0,term:1,formatter:2})],function(t,e){var n=e.component;t(e,2,0,t(e,3,0,e.context.$implicit,n.term,n.formatter),n.resultTemplate||r["\u0275nov"](e.parent,0))},function(t,e){var n=e.component;t(e,0,0,n.id+"-"+e.context.index,e.context.index===n.activeIdx)})}function sr(t){return r["\u0275vid"](0,[(t()(),r["\u0275and"](0,[["rt",2]],null,0,null,or)),(t()(),r["\u0275and"](16777216,null,null,1,null,ar)),r["\u0275did"](2,278528,null,0,Z.l,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.results)},null)}var ur=r["\u0275ccf"]("ngb-typeahead-window",nr,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"ngb-typeahead-window",[["class","dropdown-menu show"],["role","listbox"]],[[8,"id",0]],null,null,sr,rr)),r["\u0275did"](1,114688,null,0,nr,[],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,r["\u0275nov"](e,1).id)})},{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate"},{selectEvent:"select",activeChangeEvent:"activeChange"},[]),cr=n("8g8A"),lr=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return l.b(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new cr.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(tn.a),hr=n("psW0");function dr(t,e){return function(n){return n.lift(new fr(t,e,n))}}var fr=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new pr(t,this.predicate,this.thisArg,this.source))},t}(),pr=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.source=o,i.index=0,i.thisArg=r||i,i}return l.b(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(v.a);function vr(t,e){return Object(hr.a)(t,e,1)}function yr(t){return function(e){return 0===t?Object(y.b)():e.lift(new gr(t))}}var gr=function(){function t(t){if(this.total=t,this.total<0)throw new it}return t.prototype.call=function(t,e){return e.subscribe(new mr(t,this.total))},t}(),mr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return l.b(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,o=0;o<n;o++){var i=e++%n;t.next(r[i])}t.complete()},e}(v.a),br=n("y3By");function _r(t){return function(e){var n=new wr(t),r=e.lift(n);return n.caught=r}}var wr=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new Er(t,this.selector,this.caught))},t}(),Er=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.selector=n,o.caught=r,o}return l.b(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(Object(D.a)(this,n))}},e}(O.a),Cr=n("Zn8D");function Sr(){return Object(Cr.a)(1)}function Tr(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?nt(function(e,n){return t(e,n,r)}):bt.a,yr(1),n?ct(e):gt(function(){return new et}))}}var Ir=n("ZYjt"),Or=function(t,e){this.id=t,this.url=e},Dr=function(t){function e(e,n,r,o){void 0===r&&(r="imperative"),void 0===o&&(o=null);var i=t.call(this,e,n)||this;return i.navigationTrigger=r,i.restoredState=o,i}return Object(l.b)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(Or),Nr=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o}return Object(l.b)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(Or),Ar=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.reason=r,o}return Object(l.b)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(Or),Rr=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.error=r,o}return Object(l.b)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(Or),kr=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return Object(l.b)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Or),Pr=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return Object(l.b)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Or),xr=function(t){function e(e,n,r,o,i){var a=t.call(this,e,n)||this;return a.urlAfterRedirects=r,a.state=o,a.shouldActivate=i,a}return Object(l.b)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(Or),Mr=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return Object(l.b)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Or),$r=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return Object(l.b)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Or),Lr=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),jr=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),Fr=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Vr=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Ur=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Br=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),qr=function(){function t(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),Hr=function(){},Wr="primary",Gr=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function Kr(t){return new Gr(t)}function Qr(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var o={},i=0;i<r.length;i++){var a=r[i],s=t[i];if(a.startsWith(":"))o[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}var zr=function(t,e){this.routes=t,this.module=e};function Yr(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];Xr(r,Zr(e,r))}}function Xr(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Wr)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Yr(t.children,e)}function Zr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function Jr(t){var e=t.children&&t.children.map(Jr),n=e?Object(l.a)({},t,{children:e}):Object(l.a)({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Wr&&(n.component=Hr),n}function to(t,e){var n,r=Object.keys(t),o=Object.keys(e);if(r.length!=o.length)return!1;for(var i=0;i<r.length;i++)if(t[n=r[i]]!==e[n])return!1;return!0}function eo(t){return Array.prototype.concat.apply([],t)}function no(t){return t.length>0?t[t.length-1]:null}function ro(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function oo(t){return t.pipe(Object(Cr.a)(),dr(function(t){return!0===t}))}function io(t){return Object(r["\u0275isObservable"])(t)?t:Object(r["\u0275isPromise"])(t)?Object(N.a)(Promise.resolve(t)):b(t)}function ao(t,e,n){return n?function(t,e){return to(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!lo(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,o){if(n.segments.length>o.length)return!!lo(a=n.segments.slice(0,o.length),o)&&!r.hasChildren();if(n.segments.length===o.length){if(!lo(n.segments,o))return!1;for(var i in r.children){if(!n.children[i])return!1;if(!t(n.children[i],r.children[i]))return!1}return!0}var a=o.slice(0,n.segments.length),s=o.slice(n.segments.length);return!!lo(n.segments,a)&&!!n.children[Wr]&&e(n.children[Wr],r,s)}(e,n,n.segments)}(t.root,e.root)}var so=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Kr(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return vo.serialize(this)},t}(),uo=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,ro(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return yo(this)},t}(),co=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=Kr(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Eo(this)},t}();function lo(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function ho(t,e){var n=[];return ro(t.children,function(t,r){r===Wr&&(n=n.concat(e(t,r)))}),ro(t.children,function(t,r){r!==Wr&&(n=n.concat(e(t,r)))}),n}var fo=function(){},po=function(){function t(){}return t.prototype.parse=function(t){var e=new Oo(t);return new so(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return yo(e);if(n){var r=e.children[Wr]?t(e.children[Wr],!1):"",o=[];return ro(e.children,function(e,n){n!==Wr&&o.push(n+":"+t(e,!1))}),o.length>0?r+"("+o.join("//")+")":r}var i=ho(e,function(n,r){return r===Wr?[t(e.children[Wr],!1)]:[r+":"+t(n,!1)]});return yo(e)+"/("+i.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return mo(t)+"="+mo(e)}).join("&"):mo(t)+"="+mo(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),vo=new po;function yo(t){return t.segments.map(function(t){return Eo(t)}).join("/")}function go(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mo(t){return go(t).replace(/%3B/gi,";")}function bo(t){return go(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _o(t){return decodeURIComponent(t)}function wo(t){return _o(t.replace(/\+/g,"%20"))}function Eo(t){return""+bo(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+bo(t)+"="+bo(e[t])}).join(""));var e}var Co=/^[^\/()?;=#]+/;function So(t){var e=t.match(Co);return e?e[0]:""}var To=/^[^=?&#]+/,Io=/^[^?&#]+/,Oo=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new uo([],{}):new uo([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Wr]=new uo(t,e)),n},t.prototype.parseSegment=function(){var t=So(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new co(_o(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=So(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=So(this.remaining);r&&this.capture(n=r)}t[_o(e)]=_o(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(To))?e[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var o=function(t){var e=t.match(Io);return e?e[0]:""}(this.remaining);o&&this.capture(r=o)}var i=wo(n),a=wo(r);if(t.hasOwnProperty(i)){var s=t[i];Array.isArray(s)||(t[i]=s=[s]),s.push(a)}else t[i]=a}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=So(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var o=void 0;n.indexOf(":")>-1?(o=n.substr(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Wr);var i=this.parseChildren();e[o]=1===Object.keys(i).length?i[Wr]:new uo([],i),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),Do=function(t){this.segmentGroup=t||null},No=function(t){this.urlTree=t};function Ao(t){return new u.a(function(e){return e.error(new Do(t))})}function Ro(t){return new u.a(function(e){return e.error(new No(t))})}function ko(t){return new u.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var Po=function(){function t(t,e,n,o,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=o,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(r.NgModuleRef)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Wr).pipe(Object(c.a)(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(_r(function(e){if(e instanceof No)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Do)throw t.noMatchError(e);throw e}))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,Wr).pipe(Object(c.a)(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(_r(function(t){if(t instanceof Do)throw e.noMatchError(t);throw t}))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,o=t.segments.length>0?new uo([],((r={})[Wr]=t,r)):t;return new so(o,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(c.a)(function(t){return new uo([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,o){if(0===Object.keys(n).length)return b({});var i=[],a=[],s={};return ro(n,function(n,o){var u,l,h=(u=o,l=n,r.expandSegmentGroup(t,e,l,u)).pipe(Object(c.a)(function(t){return s[o]=t}));o===Wr?i.push(h):a.push(h)}),b.apply(null,i.concat(a)).pipe(Sr(),Tr(),Object(c.a)(function(){return s}))}(n.children)},t.prototype.expandSegment=function(t,e,n,r,o,i){var a=this;return b.apply(void 0,Object(l.d)(n)).pipe(Object(c.a)(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,o,i).pipe(_r(function(t){if(t instanceof Do)return b(null);throw t}))}),Sr(),_t(function(t){return!!t}),_r(function(t,n){if(t instanceof et||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,r,o))return b(new uo([],{}));throw new Do(e)}throw t}))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,o,i,a){return Lo(r)!==i?Ao(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i):Ao(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,o,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var o=this,i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ro(i):this.lineralizeSegments(n,i).pipe(Object(hr.a)(function(n){var i=new uo(n,{});return o.expandSegment(t,i,e,n,r,!1)}))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,o,i){var a=this,s=xo(e,r,o),u=s.consumedSegments,c=s.lastChild,l=s.positionalParamSegments;if(!s.matched)return Ao(e);var h=this.applyRedirectCommands(u,r.redirectTo,l);return r.redirectTo.startsWith("/")?Ro(h):this.lineralizeSegments(r,h).pipe(Object(hr.a)(function(r){return a.expandSegment(t,e,n,r.concat(o.slice(c)),i,!1)}))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var o=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(c.a)(function(t){return n._loadedConfig=t,new uo(r,{})})):b(new uo(r,{}));var i=xo(e,n,r),a=i.consumedSegments,s=i.lastChild;if(!i.matched)return Ao(e);var u=r.slice(s);return this.getChildConfig(t,n).pipe(Object(hr.a)(function(t){var n=t.module,r=t.routes,i=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(function(n){return $o(t,e,n)&&Lo(n)!==Wr})}(t,n)?{segmentGroup:Mo(new uo(e,function(t,e){var n,r,o={};o[Wr]=e;try{for(var i=Object(l.e)(t),a=i.next();!a.done;a=i.next()){var s=a.value;""===s.path&&Lo(s)!==Wr&&(o[Lo(s)]=new uo([],{}))}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o}(r,new uo(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(function(n){return $o(t,e,n)})}(t,n)?{segmentGroup:Mo(new uo(t.segments,function(t,e,n,r){var o,i,a={};try{for(var s=Object(l.e)(n),u=s.next();!u.done;u=s.next()){var c=u.value;$o(t,e,c)&&!r[Lo(c)]&&(a[Lo(c)]=new uo([],{}))}}catch(t){o={error:t}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}return Object(l.a)({},r,a)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,a,u,r),s=i.segmentGroup,h=i.slicedSegments;return 0===h.length&&s.hasChildren()?o.expandChildren(n,r,s).pipe(Object(c.a)(function(t){return new uo(a,t)})):0===r.length&&0===h.length?b(new uo(a,{})):o.expandSegment(n,s,r,h,Wr,!0).pipe(Object(c.a)(function(t){return new uo(a.concat(t.segments),t.children)}))}))},t.prototype.getChildConfig=function(t,e){var n=this;return e.children?b(new zr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?b(e._loadedConfig):function(t,e){var n=e.canLoad;return n&&0!==n.length?oo(Object(N.a)(n).pipe(Object(c.a)(function(n){var r=t.get(n);return io(r.canLoad?r.canLoad(e):r(e))}))):b(!0)}(t.injector,e).pipe(Object(hr.a)(function(r){return r?n.configLoader.load(t.injector,e).pipe(Object(c.a)(function(t){return e._loadedConfig=t,t})):function(t){return new u.a(function(e){return e.error(((n=Error("NavigationCancelingError: Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false")).ngNavigationCancelingError=!0,n));var n})}(e)})):b(new zr([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return b(n);if(r.numberOfChildren>1||!r.children[Wr])return ko(t.redirectTo);r=r.children[Wr]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var o=this.createSegmentGroup(t,e.root,n,r);return new so(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return ro(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var o=t.substring(1);n[r]=e[o]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var o=this,i=this.createSegments(t,e.segments,n,r),a={};return ro(e.children,function(e,i){a[i]=o.createSegmentGroup(t,e,n,r)}),new uo(i,a)},t.prototype.createSegments=function(t,e,n,r){var o=this;return e.map(function(e){return e.path.startsWith(":")?o.findPosParam(t,e,r):o.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){var n,r,o=0;try{for(var i=Object(l.e)(e),a=i.next();!a.done;a=i.next()){var s=a.value;if(s.path===t.path)return e.splice(o),s;o++}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return t},t}();function xo(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||Qr)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Mo(t){if(1===t.numberOfChildren&&t.children[Wr]){var e=t.children[Wr];return new uo(t.segments.concat(e.segments),e.children)}return t}function $o(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Lo(t){return t.outlet||Wr}var jo=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=Fo(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=Fo(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=Vo(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return Vo(t,this._root).map(function(t){return t.value})},t}();function Fo(t,e){var n,r;if(t===e.value)return e;try{for(var o=Object(l.e)(e.children),i=o.next();!i.done;i=o.next()){var a=Fo(t,i.value);if(a)return a}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}function Vo(t,e){var n,r;if(t===e.value)return[e];try{for(var o=Object(l.e)(e.children),i=o.next();!i.done;i=o.next()){var a=Vo(t,i.value);if(a.length)return a.unshift(e),a}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return[]}var Uo=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function Bo(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var qo=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,zo(r,e),r}return Object(l.b)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(jo);function Ho(t,e){var n=function(t,e){var n=new Ko([],{},{},"",{},Wr,e,null,t.root,-1,{});return new Qo("",new Uo(n,[]))}(t,e),r=new lr([new co("",{})]),o=new lr({}),i=new lr({}),a=new lr({}),s=new lr(""),u=new Wo(r,o,a,s,i,Wr,e,n.root);return u.snapshot=n.root,new qo(new Uo(u,[]),n)}var Wo=function(){function t(t,e,n,r,o,i,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(c.a)(function(t){return Kr(t)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(c.a)(function(t){return Kr(t)}))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function Go(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var o=n[r],i=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object(l.a)({},t.params,e.params),data:Object(l.a)({},t.data,e.data),resolve:Object(l.a)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Ko=function(){function t(t,e,n,r,o,i,a,s,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Kr(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Kr(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),Qo=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,zo(r,n),r}return Object(l.b)(e,t),e.prototype.toString=function(){return Yo(this._root)},e}(jo);function zo(t,e){e.value._routerState=t,e.children.forEach(function(e){return zo(t,e)})}function Yo(t){var e=t.children.length>0?" { "+t.children.map(Yo).join(", ")+" } ":"";return""+t.value+e}function Xo(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,to(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),to(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!to(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),to(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Zo(t,e){var n,r;return to(t.params,e.params)&&lo(n=t.url,r=e.url)&&n.every(function(t,e){return to(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||Zo(t.parent,e.parent))}function Jo(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ti(t,e,n,r,o){var i={};return r&&ro(r,function(t,e){i[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new so(n.root===t?e:function t(e,n,r){var o={};return ro(e.children,function(e,i){o[i]=e===n?r:t(e,n,r)}),new uo(e.segments,o)}(n.root,t,e),i,o)}var ei=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Jo(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==no(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),ni=function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n};function ri(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Wr]:""+t}function oi(t,e,n){if(t||(t=new uo([],{})),0===t.segments.length&&t.hasChildren())return ii(t,e,n);var r=function(t,e,n){for(var r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};o<t.segments.length;){if(r>=n.length)return i;var a=t.segments[o],s=ri(n[r]),u=r<n.length-1?n[r+1]:null;if(o>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!ci(s,u,a))return i;r+=2}else{if(!ci(s,{},a))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var i=new uo(t.segments.slice(0,r.pathIndex),{});return i.children[Wr]=new uo(t.segments.slice(r.pathIndex),t.children),ii(i,0,o)}return r.match&&0===o.length?new uo(t.segments,{}):r.match&&!t.hasChildren()?ai(t,e,n):r.match?ii(t,0,o):ai(t,e,n)}function ii(t,e,n){if(0===n.length)return new uo(t.segments,{});var r=function(t){var e,n;return"object"!=typeof t[0]?((e={})[Wr]=t,e):void 0===t[0].outlets?((n={})[Wr]=t,n):t[0].outlets}(n),o={};return ro(r,function(n,r){null!==n&&(o[r]=oi(t.children[r],e,n))}),ro(t.children,function(t,e){void 0===r[e]&&(o[e]=t)}),new uo(t.segments,o)}function ai(t,e,n){for(var r=t.segments.slice(0,e),o=0;o<n.length;){if("object"==typeof n[o]&&void 0!==n[o].outlets){var i=si(n[o].outlets);return new uo(r,i)}if(0===o&&Jo(n[0]))r.push(new co(t.segments[e].path,n[0])),o++;else{var a=ri(n[o]),s=o<n.length-1?n[o+1]:null;a&&s&&Jo(s)?(r.push(new co(a,ui(s))),o+=2):(r.push(new co(a,{})),o++)}}return new uo(r,{})}function si(t){var e={};return ro(t,function(t,n){null!==t&&(e[n]=ai(new uo([],{}),0,t))}),e}function ui(t){var e={};return ro(t,function(t,n){return e[n]=""+t}),e}function ci(t,e,n){return t==n.path&&to(e,n.parameters)}var li=function(t){this.path=t,this.route=this.path[this.path.length-1]},hi=function(t,e){this.component=t,this.route=e},di=function(){function t(t,e,n,r){this.future=t,this.curr=e,this.moduleInjector=n,this.forwardEvent=r,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.initialize=function(t){var e=this.future._root;this.setupChildRouteGuards(e,this.curr?this.curr._root:null,t,[e.value])},t.prototype.checkGuards=function(){var t=this;return this.isDeactivating()||this.isActivating()?this.runCanDeactivateChecks().pipe(Object(hr.a)(function(e){return e?t.runCanActivateChecks():b(!1)})):b(!0)},t.prototype.resolveData=function(t){var e=this;return this.isActivating()?Object(N.a)(this.canActivateChecks).pipe(vr(function(n){return e.runResolve(n.route,t)}),function(t,e){return arguments.length>=2?function(n){return Object(br.a)(P(t,e),yr(1),ct(e))(n)}:function(e){return Object(br.a)(P(function(e,n,r){return t(e,n,r+1)}),yr(1))(e)}}(function(t,e){return t})):b(null)},t.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},t.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},t.prototype.setupChildRouteGuards=function(t,e,n,r){var o=this,i=Bo(e);t.children.forEach(function(t){o.setupRouteGuards(t,i[t.value.outlet],n,r.concat([t.value])),delete i[t.value.outlet]}),ro(i,function(t,e){return o.deactivateRouteAndItsChildren(t,n.getContext(e))})},t.prototype.setupRouteGuards=function(t,e,n,r){var o=t.value,i=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(i&&o.routeConfig===i.routeConfig){var s=this.shouldRunGuardsAndResolvers(i,o,o.routeConfig.runGuardsAndResolvers);s?this.canActivateChecks.push(new li(r)):(o.data=i.data,o._resolvedData=i._resolvedData),this.setupChildRouteGuards(t,e,o.component?a?a.children:null:n,r),s&&this.canDeactivateChecks.push(new hi(a.outlet.component,i))}else i&&this.deactivateRouteAndItsChildren(e,a),this.canActivateChecks.push(new li(r)),this.setupChildRouteGuards(t,null,o.component?a?a.children:null:n,r)},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!Zo(t,e)||!to(t.queryParams,e.queryParams);case"paramsChange":default:return!Zo(t,e)}},t.prototype.deactivateRouteAndItsChildren=function(t,e){var n=this,r=Bo(t),o=t.value;ro(r,function(t,r){n.deactivateRouteAndItsChildren(t,o.component?e?e.children.getContext(r):null:e)}),this.canDeactivateChecks.push(new hi(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))},t.prototype.runCanDeactivateChecks=function(){var t=this;return Object(N.a)(this.canDeactivateChecks).pipe(Object(hr.a)(function(e){return t.runCanDeactivate(e.component,e.route)}),dr(function(t){return!0===t}))},t.prototype.runCanActivateChecks=function(){var t=this;return Object(N.a)(this.canActivateChecks).pipe(vr(function(e){return oo(Object(N.a)([t.fireChildActivationStart(e.route.parent),t.fireActivationStart(e.route),t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))}),dr(function(t){return!0===t}))},t.prototype.fireActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new Ur(t)),b(!0)},t.prototype.fireChildActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new Fr(t)),b(!0)},t.prototype.runCanActivate=function(t){var e=this,n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?oo(Object(N.a)(n).pipe(Object(c.a)(function(n){var r=e.getToken(n,t);return io(r.canActivate?r.canActivate(t,e.future):r(t,e.future)).pipe(_t())}))):b(!0)},t.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return oo(Object(N.a)(r).pipe(Object(c.a)(function(t){return oo(Object(N.a)(t.guards).pipe(Object(c.a)(function(r){var o=e.getToken(r,t.node);return io(o.canActivateChild?o.canActivateChild(n,e.future):o(n,e.future)).pipe(_t())})))})))},t.prototype.extractCanActivateChild=function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var n=this,r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return r&&0!==r.length?Object(N.a)(r).pipe(Object(hr.a)(function(r){var o=n.getToken(r,e);return io(o.canDeactivate?o.canDeactivate(t,e,n.curr,n.future):o(t,e,n.curr,n.future)).pipe(_t())})).pipe(dr(function(t){return!0===t})):b(!0)},t.prototype.runResolve=function(t,e){return this.resolveNode(t._resolve,t).pipe(Object(c.a)(function(n){return t._resolvedData=n,t.data=Object(l.a)({},t.data,Go(t,e).resolve),null}))},t.prototype.resolveNode=function(t,e){var n=this,r=Object.keys(t);if(0===r.length)return b({});if(1===r.length){var o=r[0];return this.getResolver(t[o],e).pipe(Object(c.a)(function(t){var e;return(e={})[o]=t,e}))}var i={};return Object(N.a)(r).pipe(Object(hr.a)(function(r){return n.getResolver(t[r],e).pipe(Object(c.a)(function(t){return i[r]=t,t}))})).pipe(Tr(),Object(c.a)(function(){return i}))},t.prototype.getResolver=function(t,e){var n=this.getToken(t,e);return io(n.resolve?n.resolve(e,this.future):n(e,this.future))},t.prototype.getToken=function(t,e){var n=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),fi=function(){},pi=function(){function t(t,e,n,r,o,i){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=i}return t.prototype.recognize=function(){try{var t=gi(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Wr),n=new Ko([],Object.freeze({}),Object.freeze(Object(l.a)({},this.urlTree.queryParams)),this.urlTree.fragment,{},Wr,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Uo(n,e),o=new Qo(this.url,r);return this.inheritParamsAndData(o._root),b(o)}catch(t){return new u.a(function(e){return e.error(t)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=Go(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,o=ho(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},o.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),o=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+o+"'.")}n[t.value.outlet]=t.value}),o.sort(function(t,e){return t.value.outlet===Wr?-1:e.value.outlet===Wr?1:t.value.outlet.localeCompare(e.value.outlet)}),o},t.prototype.processSegment=function(t,e,n,r){var o,i;try{for(var a=Object(l.e)(t),s=a.next();!s.done;s=a.next()){var u=s.value;try{return this.processSegmentAgainstRoute(u,e,n,r)}catch(t){if(!(t instanceof fi))throw t}}}catch(t){o={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}if(this.noLeftoversInUrl(e,n,r))return[];throw new fi},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new fi;if((t.outlet||Wr)!==r)throw new fi;var o,i=[],a=[];if("**"===t.path){var s=n.length>0?no(n).parameters:{};o=new Ko(n,s,Object.freeze(Object(l.a)({},this.urlTree.queryParams)),this.urlTree.fragment,_i(t),r,t.component,t,vi(e),yi(e)+n.length,wi(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new fi;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||Qr)(n,t,e);if(!r)throw new fi;var o={};ro(r.posParams,function(t,e){o[e]=t.path});var i=r.consumed.length>0?Object(l.a)({},o,r.consumed[r.consumed.length-1].parameters):o;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:i}}(e,t,n);i=u.consumedSegments,a=n.slice(u.lastChild),o=new Ko(i,u.parameters,Object.freeze(Object(l.a)({},this.urlTree.queryParams)),this.urlTree.fragment,_i(t),r,t.component,t,vi(e),yi(e)+i.length,wi(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),h=gi(e,i,a,c,this.relativeLinkResolution),d=h.segmentGroup,f=h.slicedSegments;if(0===f.length&&d.hasChildren()){var p=this.processChildren(c,d);return[new Uo(o,p)]}if(0===c.length&&0===f.length)return[new Uo(o,[])];var v=this.processSegment(c,d,f,Wr);return[new Uo(o,v)]},t}();function vi(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function yi(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function gi(t,e,n,r,o){if(n.length>0&&function(t,e,n){return r.some(function(n){return mi(t,e,n)&&bi(n)!==Wr})}(t,n)){var i=new uo(e,function(t,e,n,r){var o,i,a={};a[Wr]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;try{for(var s=Object(l.e)(n),u=s.next();!u.done;u=s.next()){var c=u.value;if(""===c.path&&bi(c)!==Wr){var h=new uo([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,a[bi(c)]=h}}}catch(t){o={error:t}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}return a}(t,e,r,new uo(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(function(n){return mi(t,e,n)})}(t,n)){var a=new uo(t.segments,function(t,e,n,r,o,i){var a,s,u={};try{for(var c=Object(l.e)(r),h=c.next();!h.done;h=c.next()){var d=h.value;if(mi(t,n,d)&&!o[bi(d)]){var f=new uo([],{});f._sourceSegment=t,f._segmentIndexShift="legacy"===i?t.segments.length:e.length,u[bi(d)]=f}}}catch(t){a={error:t}}finally{try{h&&!h.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}return Object(l.a)({},o,u)}(t,e,n,r,t.children,o));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new uo(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function mi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function bi(t){return t.outlet||Wr}function _i(t){return t.data||{}}function wi(t){return t.resolve||{}}var Ei=function(){},Ci=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),Si=new r.InjectionToken("ROUTES"),Ti=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(c.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var o=r.create(t);return new zr(eo(o.injector.get(Si)).map(Jr),o)}))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(N.a)(this.loader.load(t)):io(t()).pipe(Object(hr.a)(function(t){return t instanceof r.NgModuleFactory?b(t):Object(N.a)(e.compiler.compileModuleAsync(t))}))},t}(),Ii=function(){},Oi=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function Di(t){throw t}function Ni(t,e,n){return e.parse("/")}function Ai(t,e){return b(null)}var Ri=function(){function t(t,e,n,o,i,a,s,u){var c=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=o,this.config=u,this.navigations=new lr(null),this.navigationId=0,this.events=new tn.a,this.errorHandler=Di,this.malformedUriErrorHandler=Ni,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ai,afterPreactivation:Ai},this.urlHandlingStrategy=new Oi,this.routeReuseStrategy=new Ci,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(r.NgModuleRef),this.resetConfig(u),this.currentUrlTree=new so(new uo([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new Ti(a,s,function(t){return c.triggerEvent(new Lr(t))},function(t){return c.triggerEvent(new jr(t))}),this.routerState=Ho(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",o=e.state&&e.state.navigationId?{navigationId:e.state.navigationId}:null;setTimeout(function(){t.scheduleNavigation(n,r,o,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){Yr(t),this.config=t.map(Jr),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,o=e.queryParams,i=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,u=e.preserveFragment;Object(r.isDevMode)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,h=u?this.currentUrlTree.fragment:i,d=null;if(s)switch(s){case"merge":d=Object(l.a)({},this.currentUrlTree.queryParams,o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}else d=a?this.currentUrlTree.queryParams:o||null;return null!==d&&(d=this.removeEmptyProps(d)),function(t,e,n,r,o){if(0===n.length)return ti(e.root,e.root,e,r,o);var i=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ei(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,o){if("object"==typeof r&&null!=r){if(r.outlets){var i={};return ro(r.outlets,function(t,e){i[e]="string"==typeof t?t.split("/"):t}),Object(l.d)(t,[{outlets:i}])}if(r.segmentPath)return Object(l.d)(t,[r.segmentPath])}return"string"!=typeof r?Object(l.d)(t,[r]):0===o?(r.split("/").forEach(function(r,o){0==o&&"."===r||(0==o&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):Object(l.d)(t,[r])},[]);return new ei(n,e,r)}(n);if(i.toRoot())return ti(e.root,new uo([],{}),e,r,o);var a=function(t,n,r){if(t.isAbsolute)return new ni(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new ni(r.snapshot._urlSegment,!0,0);var o=Jo(t.commands[0])?0:1;return function(e,n,i){for(var a=r.snapshot._urlSegment,s=r.snapshot._lastPathIndex+o,u=t.numberOfDoubleDots;u>s;){if(u-=s,!(a=a.parent))throw new Error("Invalid number of '../'");s=a.segments.length}return new ni(a,!1,s-u)}()}(i,0,t),s=a.processChildren?ii(a.segmentGroup,a.index,i.commands):oi(a.segmentGroup,a.index,i.commands);return ti(a.segmentGroup,s,e,r,o)}(c,this.currentUrlTree,t,d,h)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var n=t instanceof so?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(t instanceof so)return ao(this.currentUrlTree,t,e);var n=this.parseUrl(t);return ao(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;this.navigations.pipe(vr(function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):b(null)})).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n,r){var o=this.navigations.value;if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);var i=null,a=null,s=new Promise(function(t,e){i=t,a=e}),u=++this.navigationId;return this.navigations.next({id:u,source:e,state:n,rawUrl:t,extras:r,resolve:i,reject:a,promise:s}),s.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,r=t.rawUrl,o=t.extras,i=t.resolve,a=t.reject,s=t.source,u=t.state,c=this.urlHandlingStrategy.extract(r),l=!this.navigated||c.toString()!==this.currentUrlTree.toString();("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(r)?("eager"!==this.urlUpdateStrategy||o.skipLocationChange||this.setBrowserUrl(r,!!o.replaceUrl,n),this.events.next(new Dr(n,this.serializeUrl(c),s,u)),Promise.resolve().then(function(t){return e.runNavigate(c,r,!!o.skipLocationChange,!!o.replaceUrl,n,null)}).then(i,a)):l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new Dr(n,this.serializeUrl(c),s,u)),Promise.resolve().then(function(t){return e.runNavigate(c,r,!1,!1,n,Ho(c,e.rootComponentType).snapshot)}).then(i,a)):(this.rawUrlTree=r,i(null))},t.prototype.runNavigate=function(t,e,n,r,o,i){var a=this;return o!==this.navigationId?(this.events.next(new Ar(o,this.serializeUrl(t),"Navigation ID "+o+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(s,u){var h,d=(i?b({appliedUrl:t,snapshot:i}):new Po(a.ngModule.injector,a.configLoader,a.urlSerializer,t,a.config).apply().pipe(Object(hr.a)(function(e){return function(t,e,n,r,o,i){return void 0===o&&(o="emptyOnly"),void 0===i&&(i="legacy"),new pi(t,e,n,r,o,i).recognize()}(a.rootComponentType,a.config,e,a.serializeUrl(e),a.paramsInheritanceStrategy,a.relativeLinkResolution).pipe(Object(c.a)(function(n){return a.events.next(new kr(o,a.serializeUrl(t),a.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}}))}))).pipe(Object(hr.a)(function(i){return"boolean"==typeof i?b(i):a.hooks.beforePreactivation(i.snapshot,{navigationId:o,appliedUrlTree:t,rawUrlTree:e,skipLocationChange:n,replaceUrl:r}).pipe(Object(c.a)(function(){return i}))})).pipe(Object(c.a)(function(t){if("boolean"==typeof t)return t;var e=t.appliedUrl,n=t.snapshot;return(h=new di(n,a.routerState.snapshot,a.ngModule.injector,function(t){return a.triggerEvent(t)})).initialize(a.rootContexts),{appliedUrl:e,snapshot:n}})).pipe(Object(hr.a)(function(e){if("boolean"==typeof e||a.navigationId!==o)return b(!1);var n=e.appliedUrl,r=e.snapshot;return a.triggerEvent(new Pr(o,a.serializeUrl(t),a.serializeUrl(n),r)),h.checkGuards().pipe(Object(c.a)(function(e){return a.triggerEvent(new xr(o,a.serializeUrl(t),a.serializeUrl(n),r,e)),{appliedUrl:n,snapshot:r,shouldActivate:e}}))})).pipe(Object(hr.a)(function(e){return"boolean"==typeof e||a.navigationId!==o?b(!1):e.shouldActivate&&h.isActivating()?(a.triggerEvent(new Mr(o,a.serializeUrl(t),a.serializeUrl(e.appliedUrl),e.snapshot)),h.resolveData(a.paramsInheritanceStrategy).pipe(Object(c.a)(function(){return a.triggerEvent(new $r(o,a.serializeUrl(t),a.serializeUrl(e.appliedUrl),e.snapshot)),e}))):b(e)})).pipe(Object(hr.a)(function(i){return"boolean"==typeof i||a.navigationId!==o?b(!1):a.hooks.afterPreactivation(i.snapshot,{navigationId:o,appliedUrlTree:t,rawUrlTree:e,skipLocationChange:n,replaceUrl:r}).pipe(Object(c.a)(function(){return i}))})).pipe(Object(c.a)(function(t){if("boolean"==typeof t||a.navigationId!==o)return!1;var e,n,r,i=t.appliedUrl,s=t.shouldActivate;return s?{appliedUrl:i,state:(r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){(u=r.value)._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map(function(n){var o,i;try{for(var a=Object(l.e)(r.children),s=a.next();!s.done;s=a.next()){var u=s.value;if(e.shouldReuseRoute(u.value.snapshot,n.value))return t(e,n,u)}}catch(t){o={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}return t(e,n)})}(e,n,r);return new Uo(u,o)}var i=e.retrieve(n.value);if(i){var a=i.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,a),a}var s,u=new Wo(new lr((s=n.value).url),new lr(s.params),new lr(s.queryParams),new lr(s.fragment),new lr(s.data),s.outlet,s.component,s);return o=n.children.map(function(n){return t(e,n)}),new Uo(u,o)}(a.routeReuseStrategy,(e=t.snapshot)._root,(n=a.routerState)?n._root:void 0),new qo(r,e)),shouldActivate:s}:{appliedUrl:i,state:null,shouldActivate:s}}));a.activateRoutes(d,a.routerState,a.currentUrlTree,o,t,e,n,r,s,u)})},t.prototype.activateRoutes=function(t,e,n,r,o,i,a,s,u,c){var l,h=this;t.forEach(function(t){if("boolean"!=typeof t&&t.shouldActivate&&r===h.navigationId&&t.state){var n=t.state;h.currentUrlTree=t.appliedUrl,h.rawUrlTree=h.urlHandlingStrategy.merge(h.currentUrlTree,i),h.routerState=n,"deferred"!==h.urlUpdateStrategy||a||h.setBrowserUrl(h.rawUrlTree,s,r),new ki(h.routeReuseStrategy,n,e,function(t){return h.triggerEvent(t)}).activate(h.rootContexts),l=!0}else l=!1}).then(function(){l?(h.navigated=!0,h.lastSuccessfulId=r,h.events.next(new Nr(r,h.serializeUrl(o),h.serializeUrl(h.currentUrlTree))),u(!0)):(h.resetUrlToCurrentUrlTree(),h.events.next(new Ar(r,h.serializeUrl(o),"")),u(!1))},function(t){if((a=t)&&a.ngNavigationCancelingError)h.navigated=!0,h.resetStateAndUrl(e,n,i),h.events.next(new Ar(r,h.serializeUrl(o),t.message)),u(!1);else{h.resetStateAndUrl(e,n,i),h.events.next(new Rr(r,h.serializeUrl(o),t));try{u(h.errorHandler(t))}catch(t){c(t)}}var a})},t.prototype.setBrowserUrl=function(t,e,n){var r=this.urlSerializer.serialize(t);this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",{navigationId:n}):this.location.go(r,"",{navigationId:n})},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),ki=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Xo(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,o=Bo(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,o[e],n),delete o[e]}),ro(o,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,o=e?e.value:null;if(r===o)if(r.component){var i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),o=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:o})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var o=Bo(t),i=t.value.component?r.children:e;ro(o,function(t,e){return n.deactivateRouteAndItsChildren(t,i)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,o=Bo(e);t.children.forEach(function(t){r.activateRoutes(t,o[t.value.outlet],n),r.forwardEvent(new Br(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Vr(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,o=e?e.value:null;if(Xo(r),r===o)if(r.component){var i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(i=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),i.children.onOutletReAttached(a.contexts),i.attachRef=a.componentRef,i.route=a.route.value,i.outlet&&i.outlet.attach(a.componentRef,a.route.value),Pi(a.route)}else{var s=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=s?s.module.componentFactoryResolver:null;i.route=r,i.resolver=u,i.outlet&&i.outlet.activateWith(r,u),this.activateChildRoutes(t,null,i.children)}else this.activateChildRoutes(t,null,n)},t}();function Pi(t){Xo(t.value),t.children.forEach(Pi)}var xi=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof Nr&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(r.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:Mi(this.skipLocationChange),replaceUrl:Mi(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,o),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Mi(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Mi(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();function Mi(t){return""===t||!!t}var $i=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Li,this.attachRef=null}}(),Li=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new $i,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),ji=function(){function t(t,e,n,o,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.EventEmitter,this.deactivateEvents=new r.EventEmitter,this.name=o||Wr,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,o=new Fi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),Fi=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===Wo?this.route:t===Li?this.childContexts:this.parent.get(t,e)},t}(),Vi=function(){},Ui=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(_r(function(){return b(null)}))},t}(),Bi=function(){function t(){}return t.prototype.preload=function(t,e){return b(null)},t}(),qi=function(){function t(t,e,n,r,o){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=new Ti(e,n,function(e){return t.triggerEvent(new Lr(e))},function(e){return t.triggerEvent(new jr(e))})}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(nt(function(t){return t instanceof Nr}),vr(function(){return t.preload()})).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(r.NgModuleRef);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,r,o=[];try{for(var i=Object(l.e)(e),a=i.next();!a.done;a=i.next()){var s=a.value;if(s.loadChildren&&!s.canLoad&&s._loadedConfig){var u=s._loadedConfig;o.push(this.processRoutes(u.module,u.routes))}else s.loadChildren&&!s.canLoad?o.push(this.preloadConfig(t,s)):s.children&&o.push(this.processRoutes(t,s.children))}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return Object(N.a)(o).pipe(Object(Cr.a)(),Object(c.a)(function(t){}))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(Object(hr.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})},t}(),Hi=function(){function t(t,e,n){void 0===n&&(n={}),this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={}}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Dr?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Nr&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof qr&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new qr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),Wi=new r.InjectionToken("ROUTER_CONFIGURATION"),Gi=new r.InjectionToken("ROUTER_FORROOT_GUARD"),Ki=[Z.j,{provide:fo,useClass:po},{provide:Ri,useFactory:ta,deps:[r.ApplicationRef,fo,Li,Z.j,r.Injector,r.NgModuleFactoryLoader,r.Compiler,Si,Wi,[Ii,new r.Optional],[Ei,new r.Optional]]},Li,{provide:Wo,useFactory:ea,deps:[Ri]},{provide:r.NgModuleFactoryLoader,useClass:r.SystemJsNgModuleLoader},qi,Bi,Ui,{provide:Wi,useValue:{enableTracing:!1}}];function Qi(){return new r.NgProbeToken("Router",Ri)}var zi=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[Ki,Ji(e),{provide:Gi,useFactory:Zi,deps:[[Ri,new r.Optional,new r.SkipSelf]]},{provide:Wi,useValue:n||{}},{provide:Z.k,useFactory:Xi,deps:[Z.r,[new r.Inject(Z.a),new r.Optional],Wi]},{provide:Hi,useFactory:Yi,deps:[Ri,Z.t,Wi]},{provide:Vi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Bi},{provide:r.NgProbeToken,multi:!0,useFactory:Qi},[na,{provide:r.APP_INITIALIZER,multi:!0,useFactory:ra,deps:[na]},{provide:ia,useFactory:oa,deps:[na]},{provide:r.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:ia}]]}},t.forChild=function(e){return{ngModule:t,providers:[Ji(e)]}},t}();function Yi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Hi(t,e,n)}function Xi(t,e,n){return void 0===n&&(n={}),n.useHash?new Z.h(t,e):new Z.q(t,e)}function Zi(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ji(t){return[{provide:r.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:Si,multi:!0,useValue:t}]}function ta(t,e,n,r,o,i,a,s,u,c,l){void 0===u&&(u={});var h=new Ri(null,e,n,r,o,i,a,eo(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var d=Object(Ir.r)();h.events.subscribe(function(t){d.logGroup("Router Event: "+t.constructor.name),d.log(t.toString()),d.log(t),d.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function ea(t){return t.routerState.root}var na=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new tn.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(Z.i,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(Ri),o=t.injector.get(Wi);if(t.isLegacyDisabled(o)||t.isLegacyEnabled(o))e(!0);else if("disabled"===o.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==o.initialNavigation)throw new Error("Invalid initialNavigation options: '"+o.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?b(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Wi),n=this.injector.get(qi),o=this.injector.get(Hi),i=this.injector.get(Ri),a=this.injector.get(r.ApplicationRef);t===a.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),o.init(),i.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function ra(t){return t.appInitializer.bind(t)}function oa(t){return t.bootstrapListener.bind(t)}var ia=new r.InjectionToken("Router Initializer"),aa=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function sa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](1,212992,null,0,ji,[Li,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null)],function(t,e){t(e,1,0)},null)}var ua=r["\u0275ccf"]("ng-component",Hr,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,sa,aa)),r["\u0275did"](1,49152,null,0,Hr,[],null,null)],null,null)},{},{},[]),ca=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function la(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" home works!\n"]))],null,null)}var ha=r["\u0275ccf"]("app-home",Kt,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-home",[],null,null,null,la,ca)),r["\u0275did"](1,114688,null,0,Kt,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),da=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function fa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" products works!\n"]))],null,null)}var pa=r["\u0275ccf"]("app-products",Ht,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-products",[],null,null,null,fa,da)),r["\u0275did"](1,114688,null,0,Ht,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),va=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function ya(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" shopping-cart works!\n"]))],null,null)}var ga=r["\u0275ccf"]("app-shopping-cart",Zt,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-shopping-cart",[],null,null,null,ya,va)),r["\u0275did"](1,114688,null,0,Zt,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),ma=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function ba(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.login()&&r),r},null,null)),(t()(),r["\u0275ted"](-1,null,["Login with Google"]))],null,null)}var _a=r["\u0275ccf"]("app-login",Qt,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-login",[],null,null,null,ba,ma)),r["\u0275did"](1,49152,null,0,Qt,[kt],null,null)],null,null)},{},{},[]),wa=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Ea(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" check-out works!\n"]))],null,null)}var Ca=r["\u0275ccf"]("app-check-out",Xt,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-check-out",[],null,null,null,Ea,wa)),r["\u0275did"](1,114688,null,0,Xt,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Sa=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Ta(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" order-success works!\n"]))],null,null)}var Ia=r["\u0275ccf"]("app-order-success",zt,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-order-success",[],null,null,null,Ta,Sa)),r["\u0275did"](1,114688,null,0,zt,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Oa=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Da(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" my-orders works!\n"]))],null,null)}var Na=r["\u0275ccf"]("app-my-orders",Yt,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-my-orders",[],null,null,null,Da,Oa)),r["\u0275did"](1,114688,null,0,Yt,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Aa=n("WcuY"),Ra=n("8r50"),ka=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Pa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Title is required"]))],null,null)}function xa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Price is required"]))],null,null)}function Ma(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Price is should be 0 or higher"]))],null,null)}function $a(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,4,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,xa)),r["\u0275did"](2,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,Ma)),r["\u0275did"](4,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,r["\u0275nov"](e.parent,35).errors.required),t(e,4,0,r["\u0275nov"](e.parent,35).errors.min)},null)}function La(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),r["\u0275did"](1,147456,null,0,he.NgSelectOption,[r.ElementRef,r.Renderer2,[2,he.SelectControlValueAccessor]],{value:[0,"value"]},null),r["\u0275did"](2,147456,null,0,he["\u0275angular_packages_forms_forms_r"],[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),r["\u0275ted"](3,null,["",""]))],function(t,e){t(e,1,0,e.context.$implicit.key),t(e,2,0,e.context.$implicit.key)},function(t,e){t(e,3,0,e.context.$implicit.name)})}function ja(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Category is required"]))],null,null)}function Fa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Image URL is required"]))],null,null)}function Va(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Please enter valid URL"]))],null,null)}function Ua(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,4,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Fa)),r["\u0275did"](2,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,Va)),r["\u0275did"](4,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,r["\u0275nov"](e.parent,68).errors.required),t(e,4,0,r["\u0275nov"](e.parent,68).errors.url)},null)}function Ba(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,"img",[["alt","Card image cap"],["class","card-img-top"]],[[8,"src",4]],null,null,null,null))],null,function(t,e){t(e,0,0,e.component.product.imageUrl)})}function qa(t){return r["\u0275vid"](0,[r["\u0275pid"](0,Z.d,[r.LOCALE_ID]),(t()(),r["\u0275eld"](1,0,null,null,86,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,75,"div",[["class","col-md-6"]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,74,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var o=!0,i=t.component;return"submit"===e&&(o=!1!==r["\u0275nov"](t,5).onSubmit(n)&&o),"reset"===e&&(o=!1!==r["\u0275nov"](t,5).onReset()&&o),"ngSubmit"===e&&(o=!1!==i.save(r["\u0275nov"](t,5).value)&&o),o},null,null)),r["\u0275did"](4,16384,null,0,he["\u0275angular_packages_forms_forms_bg"],[],null,null),r["\u0275did"](5,4210688,[["prodform",4]],0,he.NgForm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),r["\u0275prd"](2048,null,he.ControlContainer,null,[he.NgForm]),r["\u0275did"](7,16384,null,0,he.NgControlStatusGroup,[[4,he.ControlContainer]],null,null),(t()(),r["\u0275eld"](8,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](9,0,null,null,1,"label",[["for","title"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Title"])),(t()(),r["\u0275eld"](11,0,null,null,7,"input",[["class","form-control"],["id","title"],["name","title"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var o=!0,i=t.component;return"input"===e&&(o=!1!==r["\u0275nov"](t,12)._handleInput(n.target.value)&&o),"blur"===e&&(o=!1!==r["\u0275nov"](t,12).onTouched()&&o),"compositionstart"===e&&(o=!1!==r["\u0275nov"](t,12)._compositionStart()&&o),"compositionend"===e&&(o=!1!==r["\u0275nov"](t,12)._compositionEnd(n.target.value)&&o),"ngModelChange"===e&&(o=!1!==(i.product.title=n)&&o),o},null,null)),r["\u0275did"](12,16384,null,0,he.DefaultValueAccessor,[r.Renderer2,r.ElementRef,[2,he.COMPOSITION_BUFFER_MODE]],null,null),r["\u0275did"](13,16384,null,0,he.RequiredValidator,[],{required:[0,"required"]},null),r["\u0275prd"](1024,null,he.NG_VALIDATORS,function(t){return[t]},[he.RequiredValidator]),r["\u0275prd"](1024,null,he.NG_VALUE_ACCESSOR,function(t){return[t]},[he.DefaultValueAccessor]),r["\u0275did"](16,671744,[["title",4]],0,he.NgModel,[[2,he.ControlContainer],[6,he.NG_VALIDATORS],[8,null],[6,he.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,he.NgControl,null,[he.NgModel]),r["\u0275did"](18,16384,null,0,he.NgControlStatus,[[4,he.NgControl]],null,null),(t()(),r["\u0275and"](16777216,null,null,1,null,Pa)),r["\u0275did"](20,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](21,0,null,null,18,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](22,0,null,null,1,"label",[["for","price"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Price"])),(t()(),r["\u0275eld"](24,0,null,null,13,"div",[["class","input-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](25,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),r["\u0275eld"](26,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["$"])),(t()(),r["\u0275eld"](28,0,null,null,9,"input",[["class","form-control"],["id","price"],["name","price"],["required",""],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,e,n){var o=!0,i=t.component;return"input"===e&&(o=!1!==r["\u0275nov"](t,29)._handleInput(n.target.value)&&o),"blur"===e&&(o=!1!==r["\u0275nov"](t,29).onTouched()&&o),"compositionstart"===e&&(o=!1!==r["\u0275nov"](t,29)._compositionStart()&&o),"compositionend"===e&&(o=!1!==r["\u0275nov"](t,29)._compositionEnd(n.target.value)&&o),"change"===e&&(o=!1!==r["\u0275nov"](t,30).onChange(n.target.value)&&o),"input"===e&&(o=!1!==r["\u0275nov"](t,30).onChange(n.target.value)&&o),"blur"===e&&(o=!1!==r["\u0275nov"](t,30).onTouched()&&o),"ngModelChange"===e&&(o=!1!==(i.product.price=n)&&o),o},null,null)),r["\u0275did"](29,16384,null,0,he.DefaultValueAccessor,[r.Renderer2,r.ElementRef,[2,he.COMPOSITION_BUFFER_MODE]],null,null),r["\u0275did"](30,16384,null,0,he["\u0275angular_packages_forms_forms_bd"],[r.Renderer2,r.ElementRef],null,null),r["\u0275did"](31,16384,null,0,he.RequiredValidator,[],{required:[0,"required"]},null),r["\u0275did"](32,606208,null,0,Aa.MinValidator,[],{min:[0,"min"]},null),r["\u0275prd"](1024,null,he.NG_VALIDATORS,function(t,e){return[t,e]},[he.RequiredValidator,Aa.MinValidator]),r["\u0275prd"](1024,null,he.NG_VALUE_ACCESSOR,function(t,e){return[t,e]},[he.DefaultValueAccessor,he["\u0275angular_packages_forms_forms_bd"]]),r["\u0275did"](35,671744,[["price",4]],0,he.NgModel,[[2,he.ControlContainer],[6,he.NG_VALIDATORS],[8,null],[6,he.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,he.NgControl,null,[he.NgModel]),r["\u0275did"](37,16384,null,0,he.NgControlStatus,[[4,he.NgControl]],null,null),(t()(),r["\u0275and"](16777216,null,null,1,null,$a)),r["\u0275did"](39,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](40,0,null,null,18,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](41,0,null,null,1,"label",[["for","category"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Category"])),(t()(),r["\u0275eld"](43,0,null,null,13,"select",[["class","form-control"],["id","category"],["name","category"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,n){var o=!0,i=t.component;return"change"===e&&(o=!1!==r["\u0275nov"](t,44).onChange(n.target.value)&&o),"blur"===e&&(o=!1!==r["\u0275nov"](t,44).onTouched()&&o),"ngModelChange"===e&&(o=!1!==(i.product.category=n)&&o),o},null,null)),r["\u0275did"](44,16384,null,0,he.SelectControlValueAccessor,[r.Renderer2,r.ElementRef],null,null),r["\u0275did"](45,16384,null,0,he.RequiredValidator,[],{required:[0,"required"]},null),r["\u0275prd"](1024,null,he.NG_VALIDATORS,function(t){return[t]},[he.RequiredValidator]),r["\u0275prd"](1024,null,he.NG_VALUE_ACCESSOR,function(t){return[t]},[he.SelectControlValueAccessor]),r["\u0275did"](48,671744,[["category",4]],0,he.NgModel,[[2,he.ControlContainer],[6,he.NG_VALIDATORS],[8,null],[6,he.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,he.NgControl,null,[he.NgModel]),r["\u0275did"](50,16384,null,0,he.NgControlStatus,[[4,he.NgControl]],null,null),(t()(),r["\u0275eld"](51,0,null,null,2,"option",[["value",""]],null,null,null,null,null)),r["\u0275did"](52,147456,null,0,he.NgSelectOption,[r.ElementRef,r.Renderer2,[2,he.SelectControlValueAccessor]],{value:[0,"value"]},null),r["\u0275did"](53,147456,null,0,he["\u0275angular_packages_forms_forms_r"],[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),r["\u0275and"](16777216,null,null,2,null,La)),r["\u0275did"](55,278528,null,0,Z.l,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),r["\u0275pid"](131072,Z.b,[r.ChangeDetectorRef]),(t()(),r["\u0275and"](16777216,null,null,1,null,ja)),r["\u0275did"](58,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](59,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](60,0,null,null,1,"label",[["for","imageUrl"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Image URL"])),(t()(),r["\u0275eld"](62,0,null,null,8,"input",[["class","form-control"],["id","imageUrl"],["name","imageUrl"],["required",""],["type","text"],["url",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var o=!0,i=t.component;return"input"===e&&(o=!1!==r["\u0275nov"](t,63)._handleInput(n.target.value)&&o),"blur"===e&&(o=!1!==r["\u0275nov"](t,63).onTouched()&&o),"compositionstart"===e&&(o=!1!==r["\u0275nov"](t,63)._compositionStart()&&o),"compositionend"===e&&(o=!1!==r["\u0275nov"](t,63)._compositionEnd(n.target.value)&&o),"ngModelChange"===e&&(o=!1!==(i.product.imageUrl=n)&&o),o},null,null)),r["\u0275did"](63,16384,null,0,he.DefaultValueAccessor,[r.Renderer2,r.ElementRef,[2,he.COMPOSITION_BUFFER_MODE]],null,null),r["\u0275did"](64,16384,null,0,he.RequiredValidator,[],{required:[0,"required"]},null),r["\u0275did"](65,16384,null,0,Ra.UrlValidator,[],null,null),r["\u0275prd"](1024,null,he.NG_VALIDATORS,function(t,e){return[t,e]},[he.RequiredValidator,Ra.UrlValidator]),r["\u0275prd"](1024,null,he.NG_VALUE_ACCESSOR,function(t){return[t]},[he.DefaultValueAccessor]),r["\u0275did"](68,671744,[["imageUrl",4]],0,he.NgModel,[[2,he.ControlContainer],[6,he.NG_VALIDATORS],[8,null],[6,he.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,he.NgControl,null,[he.NgModel]),r["\u0275did"](70,16384,null,0,he.NgControlStatus,[[4,he.NgControl]],null,null),(t()(),r["\u0275and"](16777216,null,null,1,null,Ua)),r["\u0275did"](72,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](73,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](74,0,null,null,1,"button",[["class","btn btn-primary"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Save"])),(t()(),r["\u0275eld"](76,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.delete()&&r),r},null,null)),(t()(),r["\u0275ted"](-1,null,["Delete"])),(t()(),r["\u0275eld"](78,0,null,null,9,"div",[["class","col-md-6"]],null,null,null,null,null)),(t()(),r["\u0275eld"](79,0,null,null,8,"div",[["class","card"],["style","width: 18rem;"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Ba)),r["\u0275did"](81,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](82,0,null,null,5,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),r["\u0275eld"](83,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),r["\u0275ted"](84,null,["",""])),(t()(),r["\u0275eld"](85,0,null,null,2,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),r["\u0275ted"](86,null,["",""])),r["\u0275ppd"](87,3)],function(t,e){var n=e.component;t(e,13,0,""),t(e,16,0,"title",n.product.title),t(e,20,0,r["\u0275nov"](e,16).touched&&r["\u0275nov"](e,16).invalid),t(e,31,0,""),t(e,32,0,0),t(e,35,0,"price",n.product.price),t(e,39,0,r["\u0275nov"](e,35).touched&&r["\u0275nov"](e,35).invalid),t(e,45,0,""),t(e,48,0,"category",n.product.category),t(e,52,0,""),t(e,53,0,""),t(e,55,0,r["\u0275unv"](e,55,0,r["\u0275nov"](e,56).transform(n.categories$))),t(e,58,0,r["\u0275nov"](e,48).touched&&r["\u0275nov"](e,48).invalid),t(e,64,0,""),t(e,68,0,"imageUrl",n.product.imageUrl),t(e,72,0,r["\u0275nov"](e,68).touched&&r["\u0275nov"](e,68).invalid),t(e,81,0,n.product.imageUrl)},function(t,e){t(e,3,0,r["\u0275nov"](e,7).ngClassUntouched,r["\u0275nov"](e,7).ngClassTouched,r["\u0275nov"](e,7).ngClassPristine,r["\u0275nov"](e,7).ngClassDirty,r["\u0275nov"](e,7).ngClassValid,r["\u0275nov"](e,7).ngClassInvalid,r["\u0275nov"](e,7).ngClassPending),t(e,11,0,r["\u0275nov"](e,13).required?"":null,r["\u0275nov"](e,18).ngClassUntouched,r["\u0275nov"](e,18).ngClassTouched,r["\u0275nov"](e,18).ngClassPristine,r["\u0275nov"](e,18).ngClassDirty,r["\u0275nov"](e,18).ngClassValid,r["\u0275nov"](e,18).ngClassInvalid,r["\u0275nov"](e,18).ngClassPending),t(e,28,0,r["\u0275nov"](e,31).required?"":null,r["\u0275nov"](e,37).ngClassUntouched,r["\u0275nov"](e,37).ngClassTouched,r["\u0275nov"](e,37).ngClassPristine,r["\u0275nov"](e,37).ngClassDirty,r["\u0275nov"](e,37).ngClassValid,r["\u0275nov"](e,37).ngClassInvalid,r["\u0275nov"](e,37).ngClassPending),t(e,43,0,r["\u0275nov"](e,45).required?"":null,r["\u0275nov"](e,50).ngClassUntouched,r["\u0275nov"](e,50).ngClassTouched,r["\u0275nov"](e,50).ngClassPristine,r["\u0275nov"](e,50).ngClassDirty,r["\u0275nov"](e,50).ngClassValid,r["\u0275nov"](e,50).ngClassInvalid,r["\u0275nov"](e,50).ngClassPending),t(e,62,0,r["\u0275nov"](e,64).required?"":null,r["\u0275nov"](e,70).ngClassUntouched,r["\u0275nov"](e,70).ngClassTouched,r["\u0275nov"](e,70).ngClassPristine,r["\u0275nov"](e,70).ngClassDirty,r["\u0275nov"](e,70).ngClassValid,r["\u0275nov"](e,70).ngClassInvalid,r["\u0275nov"](e,70).ngClassPending),t(e,84,0,r["\u0275nov"](e,16).value),t(e,86,0,r["\u0275unv"](e,86,0,t(e,87,0,r["\u0275nov"](e,0),r["\u0275nov"](e,35).value,"USD",!0)))})}var Ha=r["\u0275ccf"]("app-product-form",Ut,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-product-form",[],null,null,null,qa,ka)),r["\u0275did"](1,245760,null,0,Ut,[Ri,Wo,Ft,jt],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Wa=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Ga(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r["\u0275ted"](2,null,["",""])),(t()(),r["\u0275eld"](3,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r["\u0275ted"](4,null,["",""])),r["\u0275ppd"](5,3),(t()(),r["\u0275eld"](6,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),r["\u0275eld"](7,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var o=!0;return"click"===e&&(o=!1!==r["\u0275nov"](t,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o},null,null)),r["\u0275did"](8,671744,null,0,xi,[Ri,Wo,Z.k],{routerLink:[0,"routerLink"]},null),r["\u0275pad"](9,2),(t()(),r["\u0275ted"](-1,null,["Edit"]))],function(t,e){t(e,8,0,t(e,9,0,"/admin/products/",e.context.$implicit.key))},function(t,e){t(e,2,0,e.context.$implicit.title),t(e,4,0,r["\u0275unv"](e,4,0,t(e,5,0,r["\u0275nov"](e.parent,0),e.context.$implicit.price,"USD",!0))),t(e,7,0,r["\u0275nov"](e,8).target,r["\u0275nov"](e,8).href)})}function Ka(t){return r["\u0275vid"](0,[r["\u0275pid"](0,Z.d,[r.LOCALE_ID]),(t()(),r["\u0275eld"](1,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,2,"a",[["class","btn btn-primary"],["routerLink","/admin/products/new"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var o=!0;return"click"===e&&(o=!1!==r["\u0275nov"](t,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o},null,null)),r["\u0275did"](3,671744,null,0,xi,[Ri,Wo,Z.k],{routerLink:[0,"routerLink"]},null),(t()(),r["\u0275ted"](-1,null,["New Product"])),(t()(),r["\u0275eld"](5,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275eld"](6,0,null,null,0,"input",[["name","search"],["type","text"],["value",""]],null,null,null,null,null)),(t()(),r["\u0275eld"](7,0,null,null,20,"table",[["class","table"]],null,null,null,null,null)),(t()(),r["\u0275eld"](8,0,null,null,7,"thead",[],null,null,null,null,null)),(t()(),r["\u0275eld"](9,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),r["\u0275eld"](10,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Title"])),(t()(),r["\u0275eld"](12,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Price"])),(t()(),r["\u0275eld"](14,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Action"])),(t()(),r["\u0275eld"](16,0,null,null,3,"tbody",[],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,2,null,Ga)),r["\u0275did"](18,278528,null,0,Z.l,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),r["\u0275pid"](131072,Z.b,[r.ChangeDetectorRef]),(t()(),r["\u0275eld"](20,0,null,null,7,"tfoot",[],null,null,null,null,null)),(t()(),r["\u0275eld"](21,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),r["\u0275eld"](22,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Title"])),(t()(),r["\u0275eld"](24,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Price"])),(t()(),r["\u0275eld"](26,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Action"]))],function(t,e){var n=e.component;t(e,3,0,"/admin/products/new"),t(e,18,0,r["\u0275unv"](e,18,0,r["\u0275nov"](e,19).transform(n.products$)))},function(t,e){t(e,2,0,r["\u0275nov"](e,3).target,r["\u0275nov"](e,3).href)})}var Qa=r["\u0275ccf"]("app-admin-products",Gt,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-admin-products",[],null,null,null,Ka,Wa)),r["\u0275did"](1,114688,null,0,Gt,[jt],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),za=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Ya(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" admin-orders works!\n"]))],null,null)}var Xa=r["\u0275ccf"]("app-admin-orders",Jt,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-admin-orders",[],null,null,null,Ya,za)),r["\u0275did"](1,114688,null,0,Jt,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Za=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Ja(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" no-access works!\n"]))],null,null)}var ts=r["\u0275ccf"]("app-no-access",Bt,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-no-access",[],null,null,null,Ja,Za)),r["\u0275did"](1,114688,null,0,Bt,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),es=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function ns(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" not-found works!\n"]))],null,null)}var rs=r["\u0275ccf"]("app-not-found",qt,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-not-found",[],null,null,null,ns,es)),r["\u0275did"](1,114688,null,0,qt,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),os=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new is(t))},t}(),is=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return l.b(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],o=Object(D.a)(this,r,r,n);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,r,o){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==n){var a=this.subscriptions[i];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(e)},e}(O.a),as=function(){this.autoClose=!0,this.placement="bottom-left"},ss=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),us=function(){function t(t,e,n){this.dropdown=t,this._elementRef=e,this._renderer=n,this.placement="bottom",this.isOpen=!1}return t.prototype.isEventFrom=function(t){return this._elementRef.nativeElement.contains(t.target)},t.prototype.position=function(t,e){this.applyPlacement(Ln(t,this._elementRef.nativeElement,e))},t.prototype.applyPlacement=function(t){this._renderer.removeClass(this._elementRef.nativeElement.parentNode,"dropup"),this._renderer.removeClass(this._elementRef.nativeElement.parentNode,"dropdown"),this.placement=t,-1!==t.search("^top")?this._renderer.addClass(this._elementRef.nativeElement.parentNode,"dropup"):this._renderer.addClass(this._elementRef.nativeElement.parentNode,"dropdown")},t}(),cs=function(){function t(t,e){this.dropdown=t,this._elementRef=e,this.anchorEl=e.nativeElement}return t.prototype.isEventFrom=function(t){return this._elementRef.nativeElement.contains(t.target)},t}(),ls=function(t){function e(e,n){return t.call(this,e,n)||this}return ss(e,t),e.prototype.toggleOpen=function(){this.dropdown.toggle()},e}(cs),hs=function(){function t(t,e,n,o){var i=this;this._changeDetector=t,this._document=n,this._ngZone=o,this._closed$=new tn.a,this._open=!1,this.openChange=new r.EventEmitter,this.placement=e.placement,this.autoClose=e.autoClose,this._zoneSubscription=o.onStable.subscribe(function(){i._positionMenu()})}return t.prototype.ngOnInit=function(){this._menu&&this._menu.applyPlacement(Array.isArray(this.placement)?this.placement[0]:this.placement),this._open&&this._setCloseHandlers()},t.prototype.isOpen=function(){return this._open},t.prototype.open=function(){this._open||(this._open=!0,this._positionMenu(),this.openChange.emit(!0),this._setCloseHandlers())},t.prototype._setCloseHandlers=function(){var t=this;this.autoClose&&this._ngZone.runOutsideAngular(function(){(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!Object(Tn.a)(t[0]))return t[0];t=t[0]}return Object(m.a)(t,void 0).lift(new os)})([In(t._document,"keyup").pipe(On(t._closed$),nt(function(t){return t.which===an.Escape})),In(t._document,"click").pipe(On(t._closed$),nt(function(e){return t._shouldCloseFromClick(e)}))]).pipe(On(t._closed$)).subscribe(function(){return t._ngZone.run(function(){t.close(),t._changeDetector.markForCheck()})})})},t.prototype.close=function(){this._open&&(this._open=!1,this._closed$.next(),this.openChange.emit(!1))},t.prototype.toggle=function(){this.isOpen()?this.close():this.open()},t.prototype._shouldCloseFromClick=function(t){if(2!==t.button&&!this._isEventFromToggle(t)){if(!0===this.autoClose)return!0;if("inside"===this.autoClose&&this._isEventFromMenu(t))return!0;if("outside"===this.autoClose&&!this._isEventFromMenu(t))return!0}return!1},t.prototype.ngOnDestroy=function(){this._closed$.next(),this._zoneSubscription.unsubscribe()},t.prototype._isEventFromToggle=function(t){return this._anchor.isEventFrom(t)},t.prototype._isEventFromMenu=function(t){return!!this._menu&&this._menu.isEventFrom(t)},t.prototype._positionMenu=function(){this.isOpen()&&this._menu&&this._menu.position(this._anchor.anchorEl,this.placement)},t}(),ds=function(){function t(t){var e=this;this.auth=t,t.appUser$.subscribe(function(t){return e.appUser=t})}return t.prototype.logout=function(){this.auth.logout()},t}(),fs=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function ps(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,2,"a",[["class","nav-link"],["routerLink","/login"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var o=!0;return"click"===e&&(o=!1!==r["\u0275nov"](t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o},null,null)),r["\u0275did"](2,671744,null,0,xi,[Ri,Wo,Z.k],{routerLink:[0,"routerLink"]},null),(t()(),r["\u0275ted"](-1,null,["Login"]))],function(t,e){t(e,2,0,"/login")},function(t,e){t(e,1,0,r["\u0275nov"](e,2).target,r["\u0275nov"](e,2).href)})}function vs(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,2,"a",[["class","dropdown-item"],["routerLink","/admin/orders"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var o=!0;return"click"===e&&(o=!1!==r["\u0275nov"](t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o},null,null)),r["\u0275did"](2,671744,null,0,xi,[Ri,Wo,Z.k],{routerLink:[0,"routerLink"]},null),(t()(),r["\u0275ted"](-1,null,["Manage Orders"])),(t()(),r["\u0275eld"](4,0,null,null,2,"a",[["class","dropdown-item"],["routerLink","/admin/products"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var o=!0;return"click"===e&&(o=!1!==r["\u0275nov"](t,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o},null,null)),r["\u0275did"](5,671744,null,0,xi,[Ri,Wo,Z.k],{routerLink:[0,"routerLink"]},null),(t()(),r["\u0275ted"](-1,null,["Manage Products"]))],function(t,e){t(e,2,0,"/admin/orders"),t(e,5,0,"/admin/products")},function(t,e){t(e,1,0,r["\u0275nov"](e,2).target,r["\u0275nov"](e,2).href),t(e,4,0,r["\u0275nov"](e,5).target,r["\u0275nov"](e,5).href)})}function ys(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,16,"li",[["class","nav-item dropdown"],["ngbDropdown",""]],[[2,"show",null]],null,null,null,null)),r["\u0275did"](1,212992,null,2,hs,[r.ChangeDetectorRef,as,Z.e,r.NgZone],null,null),r["\u0275qud"](335544320,1,{_menu:0}),r["\u0275qud"](335544320,2,{_anchor:0}),(t()(),r["\u0275eld"](4,0,null,null,3,"a",[["aria-expanded","false"],["aria-haspopup","true"],["class","nav-link dropdown-toggle dropdown-toggle"],["data-toggle","dropdown"],["id","dropdown01"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"]],function(t,e,n){var o=!0;return"click"===e&&(o=!1!==r["\u0275nov"](t,5).toggleOpen()&&o),o},null,null)),r["\u0275did"](5,16384,null,0,ls,[hs,r.ElementRef],null,null),r["\u0275prd"](2048,[[2,4]],cs,null,[ls]),(t()(),r["\u0275ted"](7,null,[" "," "])),(t()(),r["\u0275eld"](8,0,null,null,8,"div",[["aria-labelledby","dropdown01"],["class","dropdown-menu"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],null,null,null,null)),r["\u0275did"](9,16384,[[1,4]],0,us,[hs,r.ElementRef,r.Renderer2],null,null),(t()(),r["\u0275eld"](10,0,null,null,2,"a",[["class","dropdown-item"],["routerLink","/my/orders"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var o=!0;return"click"===e&&(o=!1!==r["\u0275nov"](t,11).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o},null,null)),r["\u0275did"](11,671744,null,0,xi,[Ri,Wo,Z.k],{routerLink:[0,"routerLink"]},null),(t()(),r["\u0275ted"](-1,null,["My Orders"])),(t()(),r["\u0275and"](16777216,null,null,1,null,vs)),r["\u0275did"](14,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](15,0,null,null,1,"a",[["class","dropdown-item"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.logout()&&r),r},null,null)),(t()(),r["\u0275ted"](-1,null,["Log Out"]))],function(t,e){var n=e.component;t(e,1,0),t(e,11,0,"/my/orders"),t(e,14,0,n.appUser.isAdmin)},function(t,e){var n=e.component;t(e,0,0,r["\u0275nov"](e,1).isOpen()),t(e,4,0,r["\u0275nov"](e,5).dropdown.isOpen()),t(e,7,0,n.appUser.name),t(e,8,0,!0,r["\u0275nov"](e,9).dropdown.isOpen(),r["\u0275nov"](e,9).placement),t(e,10,0,r["\u0275nov"](e,11).target,r["\u0275nov"](e,11).href)})}function gs(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,14,"nav",[["class","navbar navbar-expand-md navbar-light bg-light fixed-top"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,2,"a",[["class","navbar-brand"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var o=!0;return"click"===e&&(o=!1!==r["\u0275nov"](t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o},null,null)),r["\u0275did"](2,671744,null,0,xi,[Ri,Wo,Z.k],{routerLink:[0,"routerLink"]},null),(t()(),r["\u0275ted"](-1,null,["O"])),(t()(),r["\u0275eld"](4,0,null,null,1,"button",[["aria-controls","navbarsExampleDefault"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler"],["data-target","#navbarsExampleDefault"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),r["\u0275eld"](5,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(t()(),r["\u0275eld"](6,0,null,null,8,"div",[["class","collapse navbar-collapse"],["id","navbarsExampleDefault"]],null,null,null,null,null)),(t()(),r["\u0275eld"](7,0,null,null,7,"ul",[["class","navbar-nav mr-auto"]],null,null,null,null,null)),(t()(),r["\u0275eld"](8,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r["\u0275eld"](9,0,null,null,2,"a",[["class","nav-link"],["routerLink","/shopping-cart"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var o=!0;return"click"===e&&(o=!1!==r["\u0275nov"](t,10).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o},null,null)),r["\u0275did"](10,671744,null,0,xi,[Ri,Wo,Z.k],{routerLink:[0,"routerLink"]},null),(t()(),r["\u0275ted"](-1,null,["Shopping Cart"])),(t()(),r["\u0275and"](0,[["anonymousUser",2]],null,0,null,ps)),(t()(),r["\u0275and"](16777216,null,null,1,null,ys)),r["\u0275did"](14,16384,null,0,Z.m,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null)],function(t,e){var n=e.component;t(e,2,0,"/"),t(e,10,0,"/shopping-cart"),t(e,14,0,n.appUser,r["\u0275nov"](e,12))},function(t,e){t(e,1,0,r["\u0275nov"](e,2).target,r["\u0275nov"](e,2).href),t(e,9,0,r["\u0275nov"](e,10).target,r["\u0275nov"](e,10).href)})}var ms=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function bs(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-header",[],null,null,null,gs,fs)),r["\u0275did"](1,49152,null,0,ds,[Mt],null,null),(t()(),r["\u0275eld"](2,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](4,212992,null,0,ji,[Li,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null)],function(t,e){t(e,4,0)},null)}var _s=r["\u0275ccf"]("app-root",ee,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-root",[],null,null,null,bs,ms)),r["\u0275did"](1,49152,null,0,ee,[Rt,Mt,Ri],null,null)],null,null)},{},{},[]),ws=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}(),Es=function(t){return t[t.Get=0]="Get",t[t.Post=1]="Post",t[t.Put=2]="Put",t[t.Delete=3]="Delete",t[t.Options=4]="Options",t[t.Head=5]="Head",t[t.Patch=6]="Patch",t}({}),Cs=function(t){return t[t.Basic=0]="Basic",t[t.Cors=1]="Cors",t[t.Default=2]="Default",t[t.Error=3]="Error",t[t.Opaque=4]="Opaque",t}({}),Ss=function(t){return t[t.NONE=0]="NONE",t[t.JSON=1]="JSON",t[t.FORM=2]="FORM",t[t.FORM_DATA=3]="FORM_DATA",t[t.TEXT=4]="TEXT",t[t.BLOB=5]="BLOB",t[t.ARRAY_BUFFER=6]="ARRAY_BUFFER",t}({}),Ts=function(t){return t[t.Text=0]="Text",t[t.Json=1]="Json",t[t.ArrayBuffer=2]="ArrayBuffer",t[t.Blob=3]="Blob",t}({}),Is=function(){function t(e){var n=this;this._headers=new Map,this._normalizedNames=new Map,e&&(e instanceof t?e.forEach(function(t,e){t.forEach(function(t){return n.append(e,t)})}):Object.keys(e).forEach(function(t){var r=Array.isArray(e[t])?e[t]:[e[t]];n.delete(t),r.forEach(function(e){return n.append(t,e)})}))}return t.fromResponseHeaderString=function(e){var n=new t;return e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),o=t.slice(e+1).trim();n.set(r,o)}}),n},t.prototype.append=function(t,e){var n=this.getAll(t);null===n?this.set(t,e):n.push(e)},t.prototype.delete=function(t){var e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)},t.prototype.forEach=function(t){var e=this;this._headers.forEach(function(n,r){return t(n,e._normalizedNames.get(r),e._headers)})},t.prototype.get=function(t){var e=this.getAll(t);return null===e?null:e.length>0?e[0]:null},t.prototype.has=function(t){return this._headers.has(t.toLowerCase())},t.prototype.keys=function(){return Array.from(this._normalizedNames.values())},t.prototype.set=function(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(",")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)},t.prototype.values=function(){return Array.from(this._headers.values())},t.prototype.toJSON=function(){var t=this,e={};return this._headers.forEach(function(n,r){var o=[];n.forEach(function(t){return o.push.apply(o,Object(l.d)(t.split(",")))}),e[t._normalizedNames.get(r)]=o}),e},t.prototype.getAll=function(t){return this.has(t)&&this._headers.get(t.toLowerCase())||null},t.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},t.prototype.mayBeSetNormalizedName=function(t){var e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)},t}(),Os=function(){function t(t){void 0===t&&(t={});var e=t.body,n=t.status,r=t.headers,o=t.statusText,i=t.type,a=t.url;this.body=null!=e?e:null,this.status=null!=n?n:null,this.headers=null!=r?r:null,this.statusText=null!=o?o:null,this.type=null!=i?i:null,this.url=null!=a?a:null}return t.prototype.merge=function(e){return new t({body:e&&null!=e.body?e.body:this.body,status:e&&null!=e.status?e.status:this.status,headers:e&&null!=e.headers?e.headers:this.headers,statusText:e&&null!=e.statusText?e.statusText:this.statusText,type:e&&null!=e.type?e.type:this.type,url:e&&null!=e.url?e.url:this.url})},t}(),Ds=function(t){function e(){return t.call(this,{status:200,statusText:"Ok",type:Cs.Default,headers:new Is})||this}return Object(l.b)(e,t),e}(Os),Ns=function(){};function As(t){if("string"!=typeof t)return t;switch(t.toUpperCase()){case"GET":return Es.Get;case"POST":return Es.Post;case"PUT":return Es.Put;case"DELETE":return Es.Delete;case"OPTIONS":return Es.Options;case"HEAD":return Es.Head;case"PATCH":return Es.Patch}throw new Error('Invalid request method. The method "'+t+'" is not supported.')}var Rs=function(t){return t>=200&&t<300},ks=function(){function t(){}return t.prototype.encodeKey=function(t){return Ps(t)},t.prototype.encodeValue=function(t){return Ps(t)},t}();function Ps(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var xs=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=new ks),this.rawParams=t,this.queryEncoder=e,this.paramsMap=function(t){void 0===t&&(t="");var e=new Map;return t.length>0&&t.split("&").forEach(function(t){var n=t.indexOf("="),r=Object(l.c)(-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)],2),o=r[0],i=r[1],a=e.get(o)||[];a.push(i),e.set(o,a)}),e}(t)}return t.prototype.clone=function(){var e=new t("",this.queryEncoder);return e.appendAll(this),e},t.prototype.has=function(t){return this.paramsMap.has(t)},t.prototype.get=function(t){var e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null},t.prototype.getAll=function(t){return this.paramsMap.get(t)||[]},t.prototype.set=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.length=0,n.push(e),this.paramsMap.set(t,n)}else this.delete(t)},t.prototype.setAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var r=e.paramsMap.get(n)||[];r.length=0,r.push(t[0]),e.paramsMap.set(n,r)})},t.prototype.append=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.push(e),this.paramsMap.set(t,n)}},t.prototype.appendAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){for(var r=e.paramsMap.get(n)||[],o=0;o<t.length;++o)r.push(t[o]);e.paramsMap.set(n,r)})},t.prototype.replaceAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var r=e.paramsMap.get(n)||[];r.length=0;for(var o=0;o<t.length;++o)r.push(t[o]);e.paramsMap.set(n,r)})},t.prototype.toString=function(){var t=this,e=[];return this.paramsMap.forEach(function(n,r){n.forEach(function(n){return e.push(t.queryEncoder.encodeKey(r)+"="+t.queryEncoder.encodeValue(n))})}),e.join("&")},t.prototype.delete=function(t){this.paramsMap.delete(t)},t}(),Ms=function(){function t(){}return t.prototype.json=function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},t.prototype.text=function(t){if(void 0===t&&(t="legacy"),this._body instanceof xs)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(t){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error("Invalid value for encodingHint: "+t)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},t.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:function(t){for(var e=new Uint16Array(t.length),n=0,r=t.length;n<r;n++)e[n]=t.charCodeAt(n);return e.buffer}(this.text())},t.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},t}(),$s=function(t){function e(e){var n=t.call(this)||this;return n._body=e.body,n.status=e.status,n.ok=n.status>=200&&n.status<=299,n.statusText=e.statusText,n.headers=e.headers,n.type=e.type,n.url=e.url,n}return Object(l.b)(e,t),e.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},e}(Ms),Ls=/^\)\]\}',?\n/,js=function(){function t(t,e,n){var r=this;this.request=t,this.response=new u.a(function(o){var i=e.build();i.open(Es[t.method].toUpperCase(),t.url),null!=t.withCredentials&&(i.withCredentials=t.withCredentials);var a=function(){var e=1223===i.status?204:i.status,r=null;204!==e&&"string"==typeof(r=void 0===i.response?i.responseText:i.response)&&(r=r.replace(Ls,"")),0===e&&(e=r?200:0);var a,s=Is.fromResponseHeaderString(i.getAllResponseHeaders()),u=("responseURL"in(a=i)?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):null)||t.url,c=new Os({body:r,status:e,headers:s,statusText:i.statusText||"OK",url:u});null!=n&&(c=n.merge(c));var l=new $s(c);if(l.ok=Rs(e),l.ok)return o.next(l),void o.complete();o.error(l)},s=function(t){var e=new Os({body:t,type:Cs.Error,status:i.status,statusText:i.statusText});null!=n&&(e=n.merge(e)),o.error(new $s(e))};if(r.setDetectedContentType(t,i),null==t.headers&&(t.headers=new Is),t.headers.has("Accept")||t.headers.append("Accept","application/json, text/plain, */*"),t.headers.forEach(function(t,e){return i.setRequestHeader(e,t.join(","))}),null!=t.responseType&&null!=i.responseType)switch(t.responseType){case Ts.ArrayBuffer:i.responseType="arraybuffer";break;case Ts.Json:i.responseType="json";break;case Ts.Text:i.responseType="text";break;case Ts.Blob:i.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return i.addEventListener("load",a),i.addEventListener("error",s),i.send(r.request.getBody()),function(){i.removeEventListener("load",a),i.removeEventListener("error",s),i.abort()}})}return t.prototype.setDetectedContentType=function(t,e){if(null==t.headers||null==t.headers.get("Content-Type"))switch(t.contentType){case Ss.NONE:break;case Ss.JSON:e.setRequestHeader("content-type","application/json");break;case Ss.FORM:e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case Ss.TEXT:e.setRequestHeader("content-type","text/plain");break;case Ss.BLOB:var n=t.blob();n.type&&e.setRequestHeader("content-type",n.type)}},t}(),Fs=function(){function t(t,e){void 0===t&&(t="XSRF-TOKEN"),void 0===e&&(e="X-XSRF-TOKEN"),this._cookieName=t,this._headerName=e}return t.prototype.configureRequest=function(t){var e=Object(Ir.r)().getCookie(this._cookieName);e&&t.headers.set(this._headerName,e)},t}(),Vs=function(){function t(t,e,n){this._browserXHR=t,this._baseResponseOptions=e,this._xsrfStrategy=n}return t.prototype.createConnection=function(t){return this._xsrfStrategy.configureRequest(t),new js(t,this._browserXHR,this._baseResponseOptions)},t}(),Us=function(){function t(t){void 0===t&&(t={});var e=t.method,n=t.headers,r=t.body,o=t.url,i=t.search,a=t.params,s=t.withCredentials,u=t.responseType;this.method=null!=e?As(e):null,this.headers=null!=n?n:null,this.body=null!=r?r:null,this.url=null!=o?o:null,this.params=this._mergeSearchParams(a||i),this.withCredentials=null!=s?s:null,this.responseType=null!=u?u:null}return Object.defineProperty(t.prototype,"search",{get:function(){return this.params},set:function(t){this.params=t},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){return new t({method:e&&null!=e.method?e.method:this.method,headers:e&&null!=e.headers?e.headers:new Is(this.headers),body:e&&null!=e.body?e.body:this.body,url:e&&null!=e.url?e.url:this.url,params:e&&this._mergeSearchParams(e.params||e.search),withCredentials:e&&null!=e.withCredentials?e.withCredentials:this.withCredentials,responseType:e&&null!=e.responseType?e.responseType:this.responseType})},t.prototype._mergeSearchParams=function(t){return t?t instanceof xs?t.clone():"string"==typeof t?new xs(t):this._parseParams(t):this.params},t.prototype._parseParams=function(t){var e=this;void 0===t&&(t={});var n=new xs;return Object.keys(t).forEach(function(r){var o=t[r];Array.isArray(o)?o.forEach(function(t){return e._appendParam(r,t,n)}):e._appendParam(r,o,n)}),n},t.prototype._appendParam=function(t,e,n){"string"!=typeof e&&(e=JSON.stringify(e)),n.append(t,e)},t}(),Bs=function(t){function e(){return t.call(this,{method:Es.Get,headers:new Is})||this}return Object(l.b)(e,t),e}(Us),qs=function(t){function e(e){var n=t.call(this)||this,r=e.url;n.url=e.url;var o,i=e.params||e.search;if(i&&(o="object"!=typeof i||i instanceof xs?i.toString():function(t){var e=new xs;return Object.keys(t).forEach(function(n){var r=t[n];r&&Array.isArray(r)?r.forEach(function(t){return e.append(n,t.toString())}):e.append(n,r.toString())}),e}(i).toString()).length>0){var a="?";-1!=n.url.indexOf("?")&&(a="&"==n.url[n.url.length-1]?"":"&"),n.url=r+a+o}return n._body=e.body,n.method=As(e.method),n.headers=new Is(e.headers),n.contentType=n.detectContentType(),n.withCredentials=e.withCredentials,n.responseType=e.responseType,n}return Object(l.b)(e,t),e.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return Ss.JSON;case"application/x-www-form-urlencoded":return Ss.FORM;case"multipart/form-data":return Ss.FORM_DATA;case"text/plain":case"text/html":return Ss.TEXT;case"application/octet-stream":return this._body instanceof Qs?Ss.ARRAY_BUFFER:Ss.BLOB;default:return this.detectContentTypeFromBody()}},e.prototype.detectContentTypeFromBody=function(){return null==this._body?Ss.NONE:this._body instanceof xs?Ss.FORM:this._body instanceof Gs?Ss.FORM_DATA:this._body instanceof Ks?Ss.BLOB:this._body instanceof Qs?Ss.ARRAY_BUFFER:this._body&&"object"==typeof this._body?Ss.JSON:Ss.TEXT},e.prototype.getBody=function(){switch(this.contentType){case Ss.JSON:case Ss.FORM:return this.text();case Ss.FORM_DATA:return this._body;case Ss.TEXT:return this.text();case Ss.BLOB:return this.blob();case Ss.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},e}(Ms),Hs=function(){},Ws="object"==typeof window?window:Hs,Gs=Ws.FormData||Hs,Ks=Ws.Blob||Hs,Qs=Ws.ArrayBuffer||Hs;function zs(t,e){return t.createConnection(e).response}function Ys(t,e,n,r){return t.merge(new Us(e?{method:e.method||n,url:e.url||r,search:e.search,params:e.params,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType}:{method:n,url:r}))}var Xs=function(){function t(t,e){this._backend=t,this._defaultOptions=e}return t.prototype.request=function(t,e){var n;if("string"==typeof t)n=zs(this._backend,new qs(Ys(this._defaultOptions,e,Es.Get,t)));else{if(!(t instanceof qs))throw new Error("First argument must be a url string or Request instance.");n=zs(this._backend,t)}return n},t.prototype.get=function(t,e){return this.request(new qs(Ys(this._defaultOptions,e,Es.Get,t)))},t.prototype.post=function(t,e,n){return this.request(new qs(Ys(this._defaultOptions.merge(new Us({body:e})),n,Es.Post,t)))},t.prototype.put=function(t,e,n){return this.request(new qs(Ys(this._defaultOptions.merge(new Us({body:e})),n,Es.Put,t)))},t.prototype.delete=function(t,e){return this.request(new qs(Ys(this._defaultOptions,e,Es.Delete,t)))},t.prototype.patch=function(t,e,n){return this.request(new qs(Ys(this._defaultOptions.merge(new Us({body:e})),n,Es.Patch,t)))},t.prototype.head=function(t,e){return this.request(new qs(Ys(this._defaultOptions,e,Es.Head,t)))},t.prototype.options=function(t,e){return this.request(new qs(Ys(this._defaultOptions,e,Es.Options,t)))},t}();function Zs(){return new Fs}function Js(t,e){return new Xs(t,e)}var tu=function(){},eu=function(){},nu=function(){function t(t){this._document=t}return t.prototype.compensate=function(){return this._isPresent()?this._adjustBody(this._getWidth()):eu},t.prototype._adjustBody=function(t){var e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=r+t+"px",function(){return e.style["padding-right"]=n}},t.prototype._isPresent=function(){var t=this._document.body.getBoundingClientRect();return t.left+t.right<window.innerWidth},t.prototype._getWidth=function(){var t=this._document.createElement("div");t.className="modal-scrollbar-measure";var e=this._document.body;e.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n},t}(),ru=function(){function t(){}return t.prototype.close=function(t){},t.prototype.dismiss=function(t){},t}(),ou=function(){function t(t,e,n,r){var o=this;this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,t.instance.dismissEvent.subscribe(function(t){o.dismiss(t)}),this.result=new Promise(function(t,e){o._resolve=t,o._reject=e}),this.result.then(null,function(){})}return Object.defineProperty(t.prototype,"componentInstance",{get:function(){if(this._contentRef.componentRef)return this._contentRef.componentRef.instance},set:function(t){},enumerable:!0,configurable:!0}),t.prototype.close=function(t){this._windowCmptRef&&(this._resolve(t),this._removeModalElements())},t.prototype._dismiss=function(t){this._reject(t),this._removeModalElements()},t.prototype.dismiss=function(t){var e=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then(function(n){!1!==n&&e._dismiss(t)},function(){}):!1!==n&&this._dismiss(t)}else this._dismiss(t)},t.prototype._removeModalElements=function(){var t=this._windowCmptRef.location.nativeElement;if(t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._backdropCmptRef){var e=this._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null},t}(),iu=function(){function t(t,e,n,r,o){this._applicationRef=t,this._injector=e,this._componentFactoryResolver=n,this._document=r,this._scrollBar=o,this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","size","windowClass"],this._backdropAttributes=["backdropClass"]}return t.prototype.open=function(t,e,n,r){var o=ge(r.container)?this._document.querySelector(r.container):this._document.body,i=this._scrollBar.compensate();if(!o)throw new Error('The specified modal container "'+(r.container||"body")+'" was not found in the DOM.');var a=new ru,s=this._getContentRef(t,r.injector||e,n,a),u=!1!==r.backdrop?this._attachBackdrop(o):null,c=this._attachWindowComponent(o,s),l=new ou(c,s,u,r.beforeDismiss);return l.result.then(i,i),a.close=function(t){l.close(t)},a.dismiss=function(t){l.dismiss(t)},this._applyWindowOptions(c.instance,r),u&&u.instance&&this._applyBackdropOptions(u.instance,r),l},t.prototype._attachBackdrop=function(t){var e=this._componentFactoryResolver.resolveComponentFactory(_n).create(this._injector);return this._applicationRef.attachView(e.hostView),t.appendChild(e.location.nativeElement),e},t.prototype._attachWindowComponent=function(t,e){var n=this._componentFactoryResolver.resolveComponentFactory(kn).create(this._injector,e.nodes);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n},t.prototype._applyWindowOptions=function(t,e){this._windowAttributes.forEach(function(n){ge(e[n])&&(t[n]=e[n])})},t.prototype._applyBackdropOptions=function(t,e){this._backdropAttributes.forEach(function(n){ge(e[n])&&(t[n]=e[n])})},t.prototype._getContentRef=function(t,e,n,o){return n?n instanceof r.TemplateRef?this._createFromTemplateRef(n,o):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,o):new jn([])},t.prototype._createFromTemplateRef=function(t,e){var n=t.createEmbeddedView(e);return this._applicationRef.attachView(n),new jn([n.rootNodes],n)},t.prototype._createFromString=function(t){var e=this._document.createTextNode(""+t);return new jn([[e]])},t.prototype._createFromComponent=function(t,e,n,o){var i=t.resolveComponentFactory(n),a=r.Injector.create([{provide:ru,useValue:o}],e),s=i.create(a);return this._applicationRef.attachView(s.hostView),new jn([[s.location.nativeElement]],s.hostView,s)},t}(),au=function(){function t(t,e,n){this._moduleCFR=t,this._injector=e,this._modalStack=n}return t.prototype.open=function(t,e){return void 0===e&&(e={}),this._modalStack.open(this._moduleCFR,this._injector,t,e)},t}(),su=function(){this.max=100,this.animated=!1,this.striped=!1,this.showValue=!1},uu=new r.InjectionToken("live announcer delay");function cu(t,e){void 0===e&&(e=!1);var n=t.body.querySelector("#ngb-live");return null==n&&e&&((n=t.createElement("div")).setAttribute("id","ngb-live"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.classList.add("sr-only"),t.body.appendChild(n)),n}var lu=function(){function t(t,e){this._document=t,this._delay=e}return t.prototype.ngOnDestroy=function(){var t=cu(this._document);t&&t.parentElement.removeChild(t)},t.prototype.say=function(t){var e=cu(this._document,!0),n=this._delay;e.textContent="";var r=function(){return e.textContent=t};null===n?r():setTimeout(r,n)},t}(),hu=function(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement="bottom-left"},du=function(){this.closeOthers=!1},fu=function(){this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0},pu=function(){},vu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.parse=function(t){if(t){var e=t.trim().split("-");if(1===e.length&&ve(e[0]))return{year:fe(e[0]),month:null,day:null};if(2===e.length&&ve(e[0])&&ve(e[1]))return{year:fe(e[0]),month:fe(e[1]),day:null};if(3===e.length&&ve(e[0])&&ve(e[1])&&ve(e[2]))return{year:fe(e[0]),month:fe(e[1]),day:fe(e[2])}}return null},e.prototype.format=function(t){return t?t.year+"-"+(ve(t.month)?me(t.month):"")+"-"+(ve(t.day)?me(t.day):""):""},e}(pu),yu=function(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1},gu=function(){this.max=10,this.readonly=!1,this.resettable=!1},mu=function(){this.justify="start",this.orientation="horizontal",this.type="tabs"},bu=function(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"},_u=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wu=function(){},Eu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _u(e,t),e.prototype.fromModel=function(t){return t&&ye(t.hour)&&ye(t.minute)?{hour:t.hour,minute:t.minute,second:ye(t.second)?t.second:null}:null},e.prototype.toModel=function(t){return t&&ye(t.hour)&&ye(t.minute)?{hour:t.hour,minute:t.minute,second:ye(t.second)?t.second:null}:null},e}(wu),Cu=n("JdLL"),Su=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[du]}},t}(),Tu=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[ne]}},t}(),Iu=(Object(r.forwardRef)(function(){return Iu}),function(){function t(t){this._label=t,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=function(t){},this.onTouched=function(){}}return Object.defineProperty(t.prototype,"focused",{set:function(t){this._label.focused=t,t||this.onTouched()},enumerable:!0,configurable:!0}),t.prototype.onInputChange=function(t){var e=t.target.checked?this.valueChecked:this.valueUnChecked;this.onChange(e),this.onTouched(),this.writeValue(e)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t,this._label.disabled=t},t.prototype.writeValue=function(t){this.checked=t===this.valueChecked,this._label.active=this.checked},t}()),Ou=(Object(r.forwardRef)(function(){return Du}),0),Du=function(){function t(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+Ou++,this.onChange=function(t){},this.onTouched=function(){}}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this.setDisabledState(t)},enumerable:!0,configurable:!0}),t.prototype.onRadioChange=function(t){this.writeValue(t.value),this.onChange(t.value)},t.prototype.onRadioValueUpdate=function(){this._updateRadiosValue()},t.prototype.register=function(t){this._radios.add(t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._disabled=t,this._updateRadiosDisabled()},t.prototype.unregister=function(t){this._radios.delete(t)},t.prototype.writeValue=function(t){this._value=t,this._updateRadiosValue()},t.prototype._updateRadiosValue=function(){var t=this;this._radios.forEach(function(e){return e.updateValue(t._value)})},t.prototype._updateRadiosDisabled=function(){this._radios.forEach(function(t){return t.updateDisabled()})},t}(),Nu=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t}(),Au=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[fu]}},t}(),Ru=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t}(),ku=(Object(r.forwardRef)(function(){return ku}),Object(r.forwardRef)(function(){return ku}),function(){function t(t,e,n,o,i,a,s,u,c,l){var h=this;this._parserFormatter=t,this._elRef=e,this._vcRef=n,this._renderer=o,this._cfr=i,this._service=s,this._calendar=u,this._ngbDateAdapter=c,this._document=l,this._closed$=new tn.a,this._cRef=null,this._disabled=!1,this.autoClose=!0,this.placement="bottom-left",this.dateSelect=new r.EventEmitter,this.navigate=new r.EventEmitter,this._onChange=function(t){},this._onTouched=function(){},this._validatorChange=function(){},this._zoneSubscription=a.onStable.subscribe(function(){h._cRef&&Ln(h._elRef.nativeElement,h._cRef.location.nativeElement,h.placement,"body"===h.container)})}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=""===t||t&&"false"!==t,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this._onChange=t},t.prototype.registerOnTouched=function(t){this._onTouched=t},t.prototype.registerOnValidatorChange=function(t){this._validatorChange=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.validate=function(t){var e=t.value;if(null===e||void 0===e)return null;var n=this._fromDateStruct(this._ngbDateAdapter.fromModel(e));return this._calendar.isValid(n)?this.minDate&&n.before(de.from(this.minDate))?{ngbDate:{requiredBefore:this.minDate}}:this.maxDate&&n.after(de.from(this.maxDate))?{ngbDate:{requiredAfter:this.maxDate}}:void 0:{ngbDate:{invalid:t.value}}},t.prototype.writeValue=function(t){this._model=this._fromDateStruct(this._ngbDateAdapter.fromModel(t)),this._writeModelValue(this._model)},t.prototype.manualDateChange=function(t,e){void 0===e&&(e=!1),this._model=this._fromDateStruct(this._parserFormatter.parse(t)),this._onChange(this._model?this._ngbDateAdapter.toModel(this._model):""===t?null:t),e&&this._model&&this._writeModelValue(this._model)},t.prototype.isOpen=function(){return!!this._cRef},t.prototype.open=function(){var t=this;if(!this.isOpen()){var e=this._cfr.resolveComponentFactory(dn);this._cRef=this._vcRef.createComponent(e),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._ngbDateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(function(e){t.writeValue(e),t._onChange(e)}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&window.document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),Rn(this._cRef.location.nativeElement,this._closed$),this._cRef.instance.focus(),In(this._document,"keyup").pipe(On(this._closed$),nt(function(t){return t.which===an.Escape})).subscribe(function(){return t.close()})}},t.prototype.close=function(){this.isOpen()&&(this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this._closed$.next())},t.prototype.toggle=function(){this.isOpen()?this.close():this.open()},t.prototype.navigateTo=function(t){this.isOpen()&&this._cRef.instance.navigateTo(t)},t.prototype.onBlur=function(){this._onTouched()},t.prototype.ngOnChanges=function(t){(t.minDate||t.maxDate)&&this._validatorChange()},t.prototype.ngOnDestroy=function(){this.close(),this._zoneSubscription.unsubscribe()},t.prototype._applyDatepickerInputs=function(t){var e=this;["dayTemplate","displayMonths","firstDayOfWeek","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekdays","showWeekNumbers"].forEach(function(n){void 0!==e[n]&&(t[n]=e[n])}),t.startDate=this.startDate||this._model},t.prototype._applyPopupStyling=function(t){this._renderer.addClass(t,"dropdown-menu"),this._renderer.setStyle(t,"padding","0"),this._renderer.addClass(t,"show")},t.prototype._subscribeForDatepickerOutputs=function(t){var e=this;t.navigate.subscribe(function(t){return e.navigate.emit(t)}),t.select.subscribe(function(t){e.dateSelect.emit(t),e.autoClose&&e.close()})},t.prototype._writeModelValue=function(t){this._renderer.setProperty(this._elRef.nativeElement,"value",this._parserFormatter.format(t)),this.isOpen()&&(this._cRef.instance.writeValue(this._ngbDateAdapter.toModel(t)),this._onTouched())},t.prototype._fromDateStruct=function(t){var e=t?new de(t.year,t.month,t.day):null;return this._calendar.isValid(e)?e:null},t}()),Pu=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pu(e,t),e.prototype.getDaysPerWeek=function(){return 7},e.prototype.getMonths=function(){return[1,2,3,4,5,6,7,8,9,10,11,12]},e.prototype.getWeeksPerMonth=function(){return 6},e.prototype.isValid=function(t){return t&&ve(t.year)&&ve(t.month)&&ve(t.day)&&!isNaN(this.toGregorian(t).getTime())},e.prototype.setDay=function(t,e){e=+e;var n=this.getDaysInIslamicMonth(t.month,t.year);if(e<=0)for(;e<=0;)t=this.setMonth(t,t.month-1),e+=n=this.getDaysInIslamicMonth(t.month,t.year);else if(e>n)for(;e>n;)e-=n,t=this.setMonth(t,t.month+1),n=this.getDaysInIslamicMonth(t.month,t.year);return t.day=e,t},e.prototype.setMonth=function(t,e){return e=+e,t.year=t.year+Math.floor((e-1)/12),t.month=Math.floor(((e-1)%12+12)%12)+1,t},e.prototype.setYear=function(t,e){return t.year=+e,t},e.prototype._isIslamicLeapYear=function(t){return(14+11*t)%30<11},e.prototype._getMonthStart=function(t,e){return Math.ceil(29.5*e)+354*(t-1)+Math.floor((3+11*t)/30)},e.prototype._getYearStart=function(t){return 354*(t-1)+Math.floor((3+11*t)/30)},e}(Ze),Mu=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function $u(t){var e=t.getFullYear();return e%4==0&&e%100!=0||e%400==0}function Lu(t,e){return t-e*Math.floor(t/e)}var ju=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mu(e,t),e.prototype.fromGregorian=function(t){var e=new Date(t),n=e.getFullYear(),r=e.getMonth(),o=e.getDate(),i=1721424.5+365*(n-1)+Math.floor((n-1)/4)+-Math.floor((n-1)/100)+Math.floor((n-1)/400)+Math.floor((367*(r+1)-362)/12+(r+1<=2?0:$u(e)?-1:-2)+o),a=(i=Math.floor(i)+.5)-1948439.5,s=Math.floor((30*a+10646)/10631),u=Math.ceil((a-29-this._getYearStart(s))/29.5);u=Math.min(u,11);var c=Math.ceil(a-this._getMonthStart(s,u))+1;return new de(s,u+1,c)},e.prototype.toGregorian=function(t){var e=t.year,n=t.day+Math.ceil(29.5*(t.month-1))+354*(e-1)+Math.floor((3+11*e)/30)+1948439.5-1,r=Math.floor(n-.5)+.5,o=r-1721425.5,i=Math.floor(o/146097),a=Lu(o,146097),s=Math.floor(a/36524),u=Lu(a,36524),c=Math.floor(u/1461),l=Lu(u,1461),h=Math.floor(l/365),d=400*i+100*s+4*c+h;4!==s&&4!==h&&d++;var f=r-(1721425.5+365*(d-1)+Math.floor((d-1)/4)-Math.floor((d-1)/100)+Math.floor((d-1)/400)),p=r<1721424.5+365*(d-1)+Math.floor((d-1)/4)-Math.floor((d-1)/100)+Math.floor((d-1)/400)+Math.floor(739/12+($u(new Date(d,3,1))?-1:-2)+1)?0:$u(new Date(d,3,1))?1:2,v=Math.floor((12*(f+p)+373)/367),y=1721424.5+365*(d-1)+Math.floor((d-1)/4)-Math.floor((d-1)/100)+Math.floor((d-1)/400)+Math.floor((367*v-362)/12+(v<=2?0:$u(new Date(d,v-1,1))?-1:-2)+1);return new Date(d,v-1,r-y+1)},e.prototype.getDaysInIslamicMonth=function(t,e){e+=Math.floor(t/13);var n=29+(t=(t-1)%12+1)%2;return 12===t&&this._isIslamicLeapYear(e)&&n++,n},e.prototype.getNext=function(t,e,n){switch(void 0===e&&(e="d"),void 0===n&&(n=1),t=de.from(t),e){case"y":return(t=this.setYear(t,t.year+n)).month=1,t.day=1,t;case"m":return(t=this.setMonth(t,t.month+n)).day=1,t;case"d":return this.setDay(t,t.day+n);default:return t}},e.prototype.getPrev=function(t,e,n){return void 0===e&&(e="d"),void 0===n&&(n=1),this.getNext(t,e,-n)},e.prototype.getWeekday=function(t){var e=this.toGregorian(t).getDay();return 0===e?7:e},e.prototype.getWeekNumber=function(t,e){7===e&&(e=0);var n=t[(11-e)%7],r=this.toGregorian(n);r.setDate(r.getDate()+4-(r.getDay()||7));var o=r.getTime(),i=this.toGregorian(new de(n.year,1,1));return Math.floor(Math.round((o-i.getTime())/864e5)/7)+1},e.prototype.getToday=function(){return this.fromGregorian(new Date)},e}(xu);Object.setPrototypeOf||Array,new Date(1882,10,12),new Date(2174,10,25),new ju,Object.setPrototypeOf||Array;var Fu=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[{provide:Ze,useClass:Je},{provide:we,useClass:Ee},{provide:pu,useClass:vu},{provide:ln,useClass:hn},un,Z.f]}},t}(),Vu=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[as]}},t}(),Uu=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[au,iu,nu]}},t}(),Bu=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[yu]}},t}(),qu=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Vn]}},t}(),Hu=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[su]}},t}(),Wu=(Object(r.forwardRef)(function(){return Wu}),function(){function t(t,e){this._changeDetectorRef=e,this.contexts=[],this.disabled=!1,this.hover=new r.EventEmitter,this.leave=new r.EventEmitter,this.rateChange=new r.EventEmitter(!0),this.onChange=function(t){},this.onTouched=function(){},this.max=t.max,this.readonly=t.readonly}return t.prototype.ariaValueText=function(){return this.nextRate+" out of "+this.max},t.prototype.enter=function(t){this.readonly||this.disabled||this._updateState(t),this.hover.emit(t)},t.prototype.handleBlur=function(){this.onTouched()},t.prototype.handleClick=function(t){this.update(this.resettable&&this.rate===t?0:t)},t.prototype.handleKeyDown=function(t){if(an[pe(t.which)])switch(t.preventDefault(),t.which){case an.ArrowDown:case an.ArrowLeft:this.update(this.rate-1);break;case an.ArrowUp:case an.ArrowRight:this.update(this.rate+1);break;case an.Home:this.update(0);break;case an.End:this.update(this.max)}},t.prototype.ngOnChanges=function(t){t.rate&&this.update(this.rate)},t.prototype.ngOnInit=function(){this.contexts=Array.from({length:this.max},function(t,e){return{fill:0,index:e}}),this._updateState(this.rate)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.reset=function(){this.leave.emit(this.nextRate),this._updateState(this.rate)},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.update=function(t,e){void 0===e&&(e=!0);var n=function(t,e,n){return void 0===n&&(n=0),Math.max(Math.min(t,e),n)}(t,this.max,0);this.readonly||this.disabled||this.rate===n||(this.rate=n,this.rateChange.emit(this.rate)),e&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)},t.prototype.writeValue=function(t){this.update(t,!1),this._changeDetectorRef.markForCheck()},t.prototype._getFillValue=function(t){var e=this.nextRate-t;return e>=1?100:e<1&&e>0?Number.parseInt((100*e).toFixed(2)):0},t.prototype._updateState=function(t){var e=this;this.nextRate=t,this.contexts.forEach(function(t,n){return t.fill=e._getFillValue(n)})},t}()),Gu=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[gu]}},t}(),Ku=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[mu]}},t}(),Qu=function(){function t(t,e,n){this.hour=fe(t),this.minute=fe(e),this.second=fe(n)}return t.prototype.changeHour=function(t){void 0===t&&(t=1),this.updateHour((isNaN(this.hour)?0:this.hour)+t)},t.prototype.updateHour=function(t){this.hour=ve(t)?(t<0?24+t:t)%24:NaN},t.prototype.changeMinute=function(t){void 0===t&&(t=1),this.updateMinute((isNaN(this.minute)?0:this.minute)+t)},t.prototype.updateMinute=function(t){ve(t)?(this.minute=t%60<0?60+t%60:t%60,this.changeHour(Math.floor(t/60))):this.minute=NaN},t.prototype.changeSecond=function(t){void 0===t&&(t=1),this.updateSecond((isNaN(this.second)?0:this.second)+t)},t.prototype.updateSecond=function(t){ve(t)?(this.second=t<0?60+t%60:t%60,this.changeMinute(Math.floor(t/60))):this.second=NaN},t.prototype.isValid=function(t){return void 0===t&&(t=!0),ve(this.hour)&&ve(this.minute)&&(!t||ve(this.second))},t.prototype.toString=function(){return(this.hour||0)+":"+(this.minute||0)+":"+(this.second||0)},t}(),zu=(Object(r.forwardRef)(function(){return zu}),function(){function t(t,e){this._ngbTimeAdapter=e,this.onChange=function(t){},this.onTouched=function(){},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}return t.prototype.writeValue=function(t){var e=this._ngbTimeAdapter.fromModel(t);this.model=e?new Qu(e.hour,e.minute,e.second):new Qu,this.seconds||e&&ve(e.second)||(this.model.second=0)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.changeHour=function(t){this.model.changeHour(t),this.propagateModelChange()},t.prototype.changeMinute=function(t){this.model.changeMinute(t),this.propagateModelChange()},t.prototype.changeSecond=function(t){this.model.changeSecond(t),this.propagateModelChange()},t.prototype.updateHour=function(t){var e=this.model.hour>=12,n=fe(t);this.model.updateHour(this.meridian&&(e&&n<12||!e&&12===n)?n+12:n),this.propagateModelChange()},t.prototype.updateMinute=function(t){this.model.updateMinute(fe(t)),this.propagateModelChange()},t.prototype.updateSecond=function(t){this.model.updateSecond(fe(t)),this.propagateModelChange()},t.prototype.toggleMeridian=function(){this.meridian&&this.changeHour(12)},t.prototype.formatHour=function(t){return ve(t)?me(this.meridian?t%12==0?12:t%12:t%24):me(NaN)},t.prototype.formatMinSec=function(t){return me(t)},t.prototype.setFormControlSize=function(){return{"form-control-sm":"small"===this.size,"form-control-lg":"large"===this.size}},t.prototype.setButtonSize=function(){return{"btn-sm":"small"===this.size,"btn-lg":"large"===this.size}},t.prototype.ngOnChanges=function(t){t.seconds&&!this.seconds&&this.model&&!ve(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))},t.prototype.propagateModelChange=function(t){void 0===t&&(t=!0),t&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))},t}()),Yu=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[bu,{provide:wu,useClass:Eu}]}},t}(),Xu=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Wn]}},t}(),Zu=(Object(r.forwardRef)(function(){return Ju}),0),Ju=function(){function t(t,e,n,o,i,a,s,u){var l=this;this._elementRef=t,this._viewContainerRef=e,this._renderer=n,this._injector=o,this._live=u,this.autocomplete="off",this.placement="bottom-left",this.selectItem=new r.EventEmitter,this.popupId="ngb-typeahead-"+Zu++,this._onTouched=function(){},this._onChange=function(t){},this.container=a.container,this.editable=a.editable,this.focusFirst=a.focusFirst,this.showHint=a.showHint,this.placement=a.placement,this._valueChanges=In(t.nativeElement,"input").pipe(Object(c.a)(function(t){return t.target.value})),this._resubscribeTypeahead=new lr(null),this._popupService=new Fn(nr,o,e,n,i),this._zoneSubscription=s.onStable.subscribe(function(){l.isPopupOpen()&&Ln(l._elementRef.nativeElement,l._windowRef.location.nativeElement,l.placement,"body"===l.container)})}return t.prototype.ngOnInit=function(){var t=this,e=this._valueChanges.pipe(pt(function(e){t._inputValueBackup=e,t.editable&&t._onChange(e)})).pipe(this.ngbTypeahead).pipe(pt(function(){t.editable||t._onChange(void 0)})),n=this._resubscribeTypeahead.pipe(A(function(){return e}));this._subscription=this._subscribeToUserInput(n)},t.prototype.ngOnDestroy=function(){this._closePopup(),this._unsubscribeFromUserInput(),this._zoneSubscription.unsubscribe()},t.prototype.registerOnChange=function(t){this._onChange=t},t.prototype.registerOnTouched=function(t){this._onTouched=t},t.prototype.writeValue=function(t){this._writeInputValue(this._formatItemForInput(t))},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype.onDocumentClick=function(t){t.target!==this._elementRef.nativeElement&&this.dismissPopup()},t.prototype.dismissPopup=function(){this.isPopupOpen()&&(this._closePopup(),this._writeInputValue(this._inputValueBackup))},t.prototype.isPopupOpen=function(){return null!=this._windowRef},t.prototype.handleBlur=function(){this._resubscribeTypeahead.next(null),this._onTouched()},t.prototype.handleKeyDown=function(t){if(this.isPopupOpen()&&an[pe(t.which)])switch(t.which){case an.ArrowDown:t.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case an.ArrowUp:t.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case an.Enter:case an.Tab:var e=this._windowRef.instance.getActive();ge(e)&&(t.preventDefault(),t.stopPropagation(),this._selectResult(e)),this._closePopup();break;case an.Escape:t.preventDefault(),this._resubscribeTypeahead.next(null),this.dismissPopup()}},t.prototype._openPopup=function(){var t=this;this.isPopupOpen()||(this._inputValueBackup=this._elementRef.nativeElement.value,this._windowRef=this._popupService.open(),this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(function(e){return t._selectResultClosePopup(e)}),this._windowRef.instance.activeChangeEvent.subscribe(function(e){return t.activeDescendant=e}),"body"===this.container&&window.document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement))},t.prototype._closePopup=function(){this._popupService.close(),this._windowRef=null,this.activeDescendant=void 0},t.prototype._selectResult=function(t){var e=!1;this.selectItem.emit({item:t,preventDefault:function(){e=!0}}),this._resubscribeTypeahead.next(null),e||(this.writeValue(t),this._onChange(t))},t.prototype._selectResultClosePopup=function(t){this._selectResult(t),this._closePopup()},t.prototype._showHint=function(){if(this.showHint&&this._windowRef.instance.hasActive()&&null!=this._inputValueBackup){var t=this._inputValueBackup.toLowerCase(),e=this._formatItemForInput(this._windowRef.instance.getActive());t===e.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+e.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,e.length])):this.writeValue(this._windowRef.instance.getActive())}},t.prototype._formatItemForInput=function(t){return null!=t&&this.inputFormatter?this.inputFormatter(t):pe(t)},t.prototype._writeInputValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",pe(t))},t.prototype._subscribeToUserInput=function(t){var e=this;return t.subscribe(function(t){t&&0!==t.length?(e._openPopup(),e._windowRef.instance.focusFirst=e.focusFirst,e._windowRef.instance.results=t,e._windowRef.instance.term=e._elementRef.nativeElement.value,e.resultFormatter&&(e._windowRef.instance.formatter=e.resultFormatter),e.resultTemplate&&(e._windowRef.instance.resultTemplate=e.resultTemplate),e._windowRef.instance.resetActive(),e._windowRef.changeDetectorRef.detectChanges(),e._showHint()):e._closePopup();var n=t?t.length:0;e._live.say(0===n?"No results available":n+" result"+(1===n?"":"s")+" available")})},t.prototype._unsubscribeFromUserInput=function(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null},t}(),tc=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[lu,hu,{provide:uu,useValue:100}]}},t}(),ec=function(){},nc=function(){function t(){}return t.forRoot=function(){return{ngModule:ec}},t}(),rc=r["\u0275cmf"](te,[ee],function(t){return r["\u0275mod"]([r["\u0275mpd"](512,r.ComponentFactoryResolver,r["\u0275CodegenComponentFactoryResolver"],[[8,[se,bn,Cn,Mn,Hn,zn,ur,ua,ha,pa,ga,_a,Ca,Ia,Na,Ha,Qa,Xa,ts,rs,_s]],[3,r.ComponentFactoryResolver],r.NgModuleRef]),r["\u0275mpd"](5120,r.LOCALE_ID,r["\u0275angular_packages_core_core_k"],[[3,r.LOCALE_ID]]),r["\u0275mpd"](4608,Z.o,Z.n,[r.LOCALE_ID,[2,Z.y]]),r["\u0275mpd"](5120,r.APP_ID,r["\u0275angular_packages_core_core_f"],[]),r["\u0275mpd"](5120,r.IterableDiffers,r["\u0275angular_packages_core_core_i"],[]),r["\u0275mpd"](5120,r.KeyValueDiffers,r["\u0275angular_packages_core_core_j"],[]),r["\u0275mpd"](4608,Ir.b,Ir.k,[Z.e]),r["\u0275mpd"](6144,r.Sanitizer,null,[Ir.b]),r["\u0275mpd"](4608,Ir.e,Ir.g,[]),r["\u0275mpd"](5120,Ir.c,function(t,e,n,r,o,i,a,s){return[new Ir.i(t,e,n),new Ir.n(r),new Ir.m(o,i,a,s)]},[Z.e,r.NgZone,r.PLATFORM_ID,Z.e,Z.e,Ir.e,r["\u0275Console"],[2,Ir.f]]),r["\u0275mpd"](4608,Ir.d,Ir.d,[Ir.c,r.NgZone]),r["\u0275mpd"](135680,Ir.l,Ir.l,[Z.e]),r["\u0275mpd"](4608,Ir.j,Ir.j,[Ir.d,Ir.l]),r["\u0275mpd"](6144,r.RendererFactory2,null,[Ir.j]),r["\u0275mpd"](6144,Ir.o,null,[Ir.l]),r["\u0275mpd"](4608,r.Testability,r.Testability,[r.NgZone]),r["\u0275mpd"](4608,he["\u0275angular_packages_forms_forms_i"],he["\u0275angular_packages_forms_forms_i"],[]),r["\u0275mpd"](4608,he.FormBuilder,he.FormBuilder,[]),r["\u0275mpd"](4608,ws,ws,[]),r["\u0275mpd"](4608,Os,Ds,[]),r["\u0275mpd"](5120,Ns,Zs,[]),r["\u0275mpd"](4608,Vs,Vs,[ws,Os,Ns]),r["\u0275mpd"](4608,Us,Bs,[]),r["\u0275mpd"](5120,Xs,Js,[Vs,Us]),r["\u0275mpd"](4608,nu,nu,[Z.e]),r["\u0275mpd"](4608,iu,iu,[r.ApplicationRef,r.Injector,r.ComponentFactoryResolver,Z.e,nu]),r["\u0275mpd"](4608,au,au,[r.ComponentFactoryResolver,r.Injector,iu]),r["\u0275mpd"](5120,It,Ot,[St,[2,Tt]]),r["\u0275mpd"](4608,Nt,Nt,[St,[2,Tt],[2,wt],r.PLATFORM_ID,r.NgZone]),r["\u0275mpd"](4608,kt,kt,[St,[2,Tt],r.PLATFORM_ID,r.NgZone]),r["\u0275mpd"](4608,ne,ne,[]),r["\u0275mpd"](4608,su,su,[]),r["\u0275mpd"](4608,Wn,Wn,[]),r["\u0275mpd"](135680,lu,lu,[Z.e,uu]),r["\u0275mpd"](4608,hu,hu,[]),r["\u0275mpd"](4608,du,du,[]),r["\u0275mpd"](4608,fu,fu,[]),r["\u0275mpd"](4608,Ze,Je,[]),r["\u0275mpd"](4608,Z.f,Z.f,[r.LOCALE_ID]),r["\u0275mpd"](4608,we,Ee,[r.LOCALE_ID,Z.f]),r["\u0275mpd"](4608,pu,vu,[]),r["\u0275mpd"](4608,ln,hn,[]),r["\u0275mpd"](4608,un,un,[]),r["\u0275mpd"](4608,as,as,[]),r["\u0275mpd"](4608,yu,yu,[]),r["\u0275mpd"](4608,Vn,Vn,[]),r["\u0275mpd"](4608,gu,gu,[]),r["\u0275mpd"](4608,mu,mu,[]),r["\u0275mpd"](4608,bu,bu,[]),r["\u0275mpd"](4608,wu,Eu,[]),r["\u0275mpd"](5120,Wo,ea,[Ri]),r["\u0275mpd"](4608,Bi,Bi,[]),r["\u0275mpd"](6144,Vi,null,[Bi]),r["\u0275mpd"](135680,qi,qi,[Ri,r.NgModuleFactoryLoader,r.Compiler,r.Injector,Vi]),r["\u0275mpd"](4608,Ui,Ui,[]),r["\u0275mpd"](5120,Hi,Yi,[Ri,Z.t,Wi]),r["\u0275mpd"](5120,ia,oa,[na]),r["\u0275mpd"](5120,r.APP_BOOTSTRAP_LISTENER,function(t){return[t]},[ia]),r["\u0275mpd"](4608,Rt,Rt,[Nt]),r["\u0275mpd"](4608,Mt,Mt,[Rt,kt,Wo]),r["\u0275mpd"](4608,Lt,Lt,[Mt,Ri]),r["\u0275mpd"](4608,$t,$t,[Mt,Rt]),r["\u0275mpd"](4608,Ft,Ft,[Nt]),r["\u0275mpd"](1073742336,Z.c,Z.c,[]),r["\u0275mpd"](1024,r.ErrorHandler,Ir.p,[]),r["\u0275mpd"](1024,r.NgProbeToken,function(){return[Qi()]},[]),r["\u0275mpd"](512,na,na,[r.Injector]),r["\u0275mpd"](1024,r.APP_INITIALIZER,function(t,e){return[Ir.q(t),ra(e)]},[[2,r.NgProbeToken],na]),r["\u0275mpd"](512,r.ApplicationInitStatus,r.ApplicationInitStatus,[[2,r.APP_INITIALIZER]]),r["\u0275mpd"](131584,r.ApplicationRef,r.ApplicationRef,[r.NgZone,r["\u0275Console"],r.Injector,r.ErrorHandler,r.ComponentFactoryResolver,r.ApplicationInitStatus]),r["\u0275mpd"](1073742336,r.ApplicationModule,r.ApplicationModule,[r.ApplicationRef]),r["\u0275mpd"](1073742336,Ir.a,Ir.a,[[3,Ir.a]]),r["\u0275mpd"](1073742336,he["\u0275angular_packages_forms_forms_bb"],he["\u0275angular_packages_forms_forms_bb"],[]),r["\u0275mpd"](1073742336,he.FormsModule,he.FormsModule,[]),r["\u0275mpd"](1073742336,he.ReactiveFormsModule,he.ReactiveFormsModule,[]),r["\u0275mpd"](1073742336,Cu.CustomFormsModule,Cu.CustomFormsModule,[]),r["\u0275mpd"](1073742336,tu,tu,[]),r["\u0275mpd"](1073742336,Su,Su,[]),r["\u0275mpd"](1073742336,Tu,Tu,[]),r["\u0275mpd"](1073742336,Nu,Nu,[]),r["\u0275mpd"](1073742336,Au,Au,[]),r["\u0275mpd"](1073742336,Ru,Ru,[]),r["\u0275mpd"](1073742336,Fu,Fu,[]),r["\u0275mpd"](1073742336,Vu,Vu,[]),r["\u0275mpd"](1073742336,Uu,Uu,[]),r["\u0275mpd"](1073742336,Bu,Bu,[]),r["\u0275mpd"](1073742336,qu,qu,[]),r["\u0275mpd"](1073742336,Hu,Hu,[]),r["\u0275mpd"](1073742336,Gu,Gu,[]),r["\u0275mpd"](1073742336,Ku,Ku,[]),r["\u0275mpd"](1073742336,Yu,Yu,[]),r["\u0275mpd"](1073742336,Xu,Xu,[]),r["\u0275mpd"](1073742336,tc,tc,[]),r["\u0275mpd"](1073742336,nc,nc,[]),r["\u0275mpd"](1073742336,Dt,Dt,[]),r["\u0275mpd"](1073742336,At,At,[]),r["\u0275mpd"](1073742336,Pt,Pt,[]),r["\u0275mpd"](1073742336,ec,ec,[]),r["\u0275mpd"](1024,Gi,Zi,[[3,Ri]]),r["\u0275mpd"](512,fo,po,[]),r["\u0275mpd"](512,Li,Li,[]),r["\u0275mpd"](256,Wi,{},[]),r["\u0275mpd"](1024,Z.k,Xi,[Z.r,[2,Z.a],Wi]),r["\u0275mpd"](512,Z.j,Z.j,[Z.k]),r["\u0275mpd"](512,r.Compiler,r.Compiler,[]),r["\u0275mpd"](512,r.NgModuleFactoryLoader,r.SystemJsNgModuleLoader,[r.Compiler,[2,r.SystemJsNgModuleLoaderConfig]]),r["\u0275mpd"](1024,Si,function(){return[[{path:"",component:Kt},{path:"products",component:Ht},{path:"shopping-cart",component:Zt},{path:"login",component:Qt},{path:"check-out",component:Xt,canActivate:[Lt]},{path:"order-success",component:zt,canActivate:[Lt]},{path:"my/orders",component:Yt,canActivate:[Lt]},{path:"admin/products/new",component:Ut,canActivate:[Lt,$t]},{path:"admin/products/:id",component:Ut,canActivate:[Lt,$t]},{path:"admin/products",component:Gt,canActivate:[Lt,$t]},{path:"admin/orders",component:Jt,canActivate:[Lt,$t]},{path:"no-acess",component:Bt},{path:"**",component:qt}]]},[]),r["\u0275mpd"](1024,Ri,ta,[r.ApplicationRef,fo,Li,Z.j,r.Injector,r.NgModuleFactoryLoader,r.Compiler,Si,Wi,[2,Ii],[2,Ei]]),r["\u0275mpd"](1073742336,zi,zi,[[2,Gi],[2,Ri]]),r["\u0275mpd"](1073742336,te,te,[]),r["\u0275mpd"](256,r["\u0275APP_ROOT"],!0,[]),r["\u0275mpd"](256,St,{apiKey:"AIzaSyCN8rH46IsYRlhzve84TLJnQAPpU2t7yO4",authDomain:"shop-auth-7754a.firebaseapp.com",databaseURL:"https://shop-auth-7754a.firebaseio.com",projectId:"shop-auth-7754a",storageBucket:"shop-auth-7754a.appspot.com",messagingSenderId:"320699046415"},[]),r["\u0275mpd"](256,Tt,void 0,[]),r["\u0275mpd"](256,uu,100,[])])});Object(r.enableProdMode)(),Ir.h().bootstrapModuleFactory(rc).catch(function(t){return console.log(t)})},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+7AZ"),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):55296==(64512&o)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++r)),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<t.length;o+=3){var i=t[o],a=o+1<t.length,s=a?t[o+1]:0,u=o+2<t.length,c=u?t[o+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[i>>2],n[(3&i)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var i=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){var a=((7&o)<<18|(63&(i=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{i=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<t.length;){var i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0,s=++o<t.length?n[t.charAt(o)]:64,u=++o<t.length?n[t.charAt(o)]:64;if(++o,null==i||null==a||null==s||null==u)throw Error();r.push(i<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),d=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},f=Error.captureStackTrace,p=function(){return function(t,e){if(this.code=t,this.message=e,f)f(this,v.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return t.stack}})}}}();p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name="FirebaseError";var v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],o=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"});var i=new p(o,n=this.serviceName+": "+n+" ("+o+").");for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(i[a]=e[a]);return i},t}();function y(t){return JSON.parse(t)}var g=function(t){var e={},n={},r={},o="";try{var i=t.split(".");e=y(c(i[0])||""),n=y(c(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:o}},m=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},b=function(t,e){return m(e,function(e,n){t[e]=n}),t},_=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},w=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return r.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var o,i,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^s&(u^c),i=1518500249):(o=s^u^c,i=1859775393):r<60?(o=s&u|c&(s|u),i=2400959708):(o=s^u^c,i=3395469782);var h=(a<<5|a>>>27)+o+l+i+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<e;){if(0==i)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[i]=t.charCodeAt(r),++r,++i==this.blockSize){this.compress_(o),i=0;break}}else for(;r<e;)if(o[i]=t[r],++r,++i==this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var o=24;o>=0;o-=8)t[r]=this.chain_[n]>>o&255,++r;return t},e}(function(){this.blockSize=-1}),E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}}),this.observers.push(r),i},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}function S(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.assert=i,e.assertionError=a,e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.CONSTANTS=o,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.patchProperty=function(t,e,n){t[e]=n},e.Deferred=h,e.getUA=d,e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.ErrorFactory=v,e.FirebaseError=p,e.patchCapture=function(t){var e=f;return f=t,e},e.jsonEval=y,e.stringify=function(t){return JSON.stringify(t)},e.decode=g,e.isAdmin=function(t){var e=g(t).claims;return"object"==typeof e&&!0===e.admin},e.issuedAtTime=function(t){var e=g(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.isValidFormat=function(t){var e=g(t),n=e.claims;return!!e.signature&&!!n&&"object"==typeof n&&n.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=g(t).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),o&&e&&n&&o>=e&&o<=n},e.clone=function(t){return b({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=b,e.findKey=_,e.findValue=function(t,e,n){var r=_(t,e,n);return r&&t[r]},e.forEach=m,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.map=function(t,e,n){var r={};for(var o in t)r[o]=e.call(n,t[o],o,t);return r},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.querystring=function(t){var e=[];return m(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.Sha1=w,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.createSubscribe=function(t,e){var n=new E(t,e);return n.subscribe.bind(n)},e.errorPrefix=S,e.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(S(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(S(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(S(t,e,r)+"must be a valid firebase namespace.")},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;i(++r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e}},zotm:function(t,e,n){"use strict";var r=n("mrSG"),o=function(t){function e(e,n,r){var o=t.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=r,o.index=0,o}return r.b(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("FFOo").a),i=n("Fxb1");function a(t,e,n,r){var a=new o(t,n,r);return Object(i.a)(e)(a)}n.d(e,"a",function(){return a})},"zrt+":function(t,e,n){"use strict";n.r(e),n.d(e,"isObservable",function(){return o});var r=n("6blF");function o(t){return!!t&&(t instanceof r.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}}},[[5,0]]]);